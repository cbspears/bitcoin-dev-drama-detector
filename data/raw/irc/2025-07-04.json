{
  "source": "irc",
  "channel": "#bitcoin-core-dev",
  "fetched_at": "2026-01-15T07:09:20.876434+00:00",
  "date_range": {
    "since": "2025-07-04T00:00:00+00:00",
    "until": "2025-07-04T00:00:00+00:00"
  },
  "logs": [
    {
      "date": "2025-07-04",
      "channel": "#bitcoin-core-dev",
      "message_count": 27,
      "participant_count": 6,
      "participants": [
        "phantomcircuit",
        "bitcoin-git",
        "TheCharlatan",
        "hacker4web3bitco",
        "sipa",
        "_aj_"
      ],
      "messages": [
        {
          "type": "message",
          "timestamp": "2025-07-04 00:38:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] maflcko closed pull request #32871: New SVG, Icons, PNGs and X PixMaps (master...master) https://github.com/bitcoin/bitcoin/pull/32871",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 144,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 01:38:00",
          "user": "phantomcircuit",
          "content": "_aj_: my entire concept is actually pretty difficult i now realize, i cant write a block to disk without the lock on the chainstatemanager",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 138,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 01:38:00",
          "user": "phantomcircuit",
          "content": "which is held by abc",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 20,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 02:06:00",
          "user": "_aj_",
          "content": "phantomcircuit: hmm, i would have thought you \"should\" be able to do that with just cs_LastBlockFile or so. seems like it's all being implicitly guarded by cs_main at present though",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 181,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 02:16:00",
          "user": "TheCharlatan",
          "content": "_aj_ that is my impression too.",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 31,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 02:55:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] maflcko opened pull request #32874: ci: Catch tests corrupting the source directory (master...2507-ci-less-corrupt) https://github.com/bitcoin/bitcoin/pull/32874",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 171,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 02:59:00",
          "user": "_aj_",
          "content": "i suppose you'd need a separate short-lived (reader/writer?) lock for m_block_index for efficient reading ideally.",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 114,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 03:03:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] HowHsu opened pull request #32875: index: Fix missing case in the comment in NextSyncBlock() (master...fix-comment) https://github.com/bitcoin/bitcoin/pull/32875",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 171,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 03:19:00",
          "user": "phantomcircuit",
          "content": "_aj_: the chainstatemanager lock is just cs_main through a bunnch of indirection",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 80,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 03:20:00",
          "user": "phantomcircuit",
          "content": "so im not even gettinng past the ProcessMessage ::BLOCK prev_block lookup when activatebestchain is running",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 107,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 03:21:00",
          "user": "phantomcircuit",
          "content": "but now im confused because activatebestchain gives up cs_main specifically to avoid freezing things out for too long?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 118,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 03:25:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] hebasto closed pull request #32601: test: Fix `system_tests/run_command` test (master...250523-run-comand-test) https://github.com/bitcoin/bitcoin/pull/32601",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 167,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 05:25:00",
          "user": "sipa",
          "content": "phantomcircuit: you can't just skip ABC, because ABC is what updates the tip, and the tip is used to guide what to download from peers",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 134,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 05:25:00",
          "user": "sipa",
          "content": "phantomcircuit: and i think you need to process all of block before processing other messages (from the same peer), including updating the tip",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 142,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 05:40:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] Sjors opened pull request #32876: refactor: use PSBTOptions for filling and signing (master...2025/07/fill-psbt-struct) https://github.com/bitcoin/bitcoin/pull/32876",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 175,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:18:00",
          "user": "hacker4web3bitco",
          "content": "bool BaseIndex::Rewind(const CBlockIndex* current_tip, const CBlockIndex* new_tip)",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 82,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:18:00",
          "user": "hacker4web3bitco",
          "content": "{",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 1,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:18:00",
          "user": "hacker4web3bitco",
          "content": "assert(current_tip == m_best_block_index);",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 42,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:18:00",
          "user": "hacker4web3bitco",
          "content": "assert(current_tip->GetAncestor(new_tip->nHeight) == new_tip);",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 62,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:19:00",
          "user": "hacker4web3bitco",
          "content": ".......",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 7,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:19:00",
          "user": "hacker4web3bitco",
          "content": "}",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 1,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:19:00",
          "user": "hacker4web3bitco",
          "content": "Hi folks, ask a question. Is the first assert really correct here? I saw the caller BaseIndex::Sync() update m_best_block_index every 30s, rather than on each time it indexes a block, so current_tip may not be equal to m_best_block_index?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 238,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 06:19:00",
          "user": "hacker4web3bitco",
          "content": "if (pindex_next->pprev != pindex && !Rewind(pindex, pindex_next->pprev)) {",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 74,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 08:53:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] HowHsu opened pull request #32878: index: fix wrong assert of current_tip == m_best_block_index (master...rewind) https://github.com/bitcoin/bitcoin/pull/32878",
          "drama_signals": {
            "drama_keywords": 1,
            "positive_keywords": 0,
            "text_length": 169,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 14:24:00",
          "user": "phantomcircuit",
          "content": "sipa: is that true during ibd when we have a \"best\" headers chain?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 66,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 14:31:00",
          "user": "phantomcircuit",
          "content": "sipa: conceptually i dont see why we would need to update the tip before processing other messages, but i can see how that might screw things up",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 144,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-04 14:31:00",
          "user": "phantomcircuit",
          "content": "but can those things be screwed up during ibd?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 46,
            "has_nack": false,
            "has_ack": false
          }
        }
      ],
      "threads": [
        {
          "start_time": "2025-07-04 02:55:00",
          "end_time": "2025-07-04 03:03:00",
          "message_count": 3,
          "participants": [
            "_aj_",
            "bitcoin-git"
          ],
          "participant_count": 2,
          "first_message": "[bitcoin] maflcko opened pull request #32874: ci: Catch tests corrupting the source directory (master...2507-ci-less-corrupt) https://github.com/bitcoin/bitcoin/pull/32874",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "nack_count": 0,
            "ack_count": 0
          }
        },
        {
          "start_time": "2025-07-04 03:19:00",
          "end_time": "2025-07-04 03:25:00",
          "message_count": 4,
          "participants": [
            "phantomcircuit",
            "bitcoin-git"
          ],
          "participant_count": 2,
          "first_message": "_aj_: the chainstatemanager lock is just cs_main through a bunnch of indirection",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "nack_count": 0,
            "ack_count": 0
          }
        },
        {
          "start_time": "2025-07-04 06:18:00",
          "end_time": "2025-07-04 06:19:00",
          "message_count": 8,
          "participants": [
            "hacker4web3bitco"
          ],
          "participant_count": 1,
          "first_message": "bool BaseIndex::Rewind(const CBlockIndex* current_tip, const CBlockIndex* new_tip)",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "nack_count": 0,
            "ack_count": 0
          }
        }
      ]
    }
  ],
  "summary": {
    "days_fetched": 1,
    "total_messages": 27,
    "total_threads": 3,
    "unique_participants": 6
  }
}