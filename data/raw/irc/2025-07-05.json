{
  "source": "irc",
  "channel": "#bitcoin-core-dev",
  "fetched_at": "2026-01-15T07:09:21.865829+00:00",
  "date_range": {
    "since": "2025-07-05T00:00:00+00:00",
    "until": "2025-07-05T00:00:00+00:00"
  },
  "logs": [
    {
      "date": "2025-07-05",
      "channel": "#bitcoin-core-dev",
      "message_count": 42,
      "participant_count": 3,
      "participants": [
        "phantomcircuit",
        "bitcoin-git",
        "sipa"
      ],
      "messages": [
        {
          "type": "message",
          "timestamp": "2025-07-05 05:58:00",
          "user": "sipa",
          "content": "phantomcircuit: \"need\" is a big word, but it would break assumptions that peers make",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 84,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 06:09:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] maflcko opened pull request #32880: ci: Avoid cd into build dir (master...2507-ci-less-cd) https://github.com/bitcoin/bitcoin/pull/32880",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 146,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 08:31:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] maflcko opened pull request #32881: Turn rpcauth.py test into functional test (master...2507-test-rpcauth-fun) https://github.com/bitcoin/bitcoin/pull/32881",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 166,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 09:13:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] HowHsu opened pull request #32882: index: remove unnecessary locater cleaning in BaseIndex::Init() (master...read-best-block) https://github.com/bitcoin/bitcoin/pull/32882",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 181,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 11:00:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] tdb3 closed pull request #30713: rpc: add `relevant_blocks` to `scanblocks status` (master...relevant_blocks_in_scanblocks_status) https://github.com/bitcoin/bitcoin/pull/30713",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 186,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 13:08:00",
          "user": "bitcoin-git",
          "content": "[bitcoin] vtjl10 opened pull request #32883: Rename `shuffled_indeces` to `shuffled_indices` in `rpc_packages.py` (master...master) https://github.com/bitcoin/bitcoin/pull/32883",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 1,
            "text_length": 177,
            "has_nack": false,
            "has_ack": true
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 14:59:00",
          "user": "phantomcircuit",
          "content": "sipa: the only thing i can think of like that is the og ibd algorithm, is that what you're thinking of?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 103,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:30:00",
          "user": "sipa",
          "content": "phantomcircuit: i'm more thinking of all our tests which would break, by sending a ping and waitong for a pokg to know a node is done processing",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 144,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:31:00",
          "user": "sipa",
          "content": "(not that that is a problem, but it's an indication of the kind of things can clearly be relied upon right now by peers)",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 120,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:49:00",
          "user": "sipa",
          "content": "lacking a formal specification of what the expected behavior of the P2P protocol is, i don't think this is something that can just be changed (at least not without a way to negotiate it as an optional thing)",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 1,
            "text_length": 207,
            "has_nack": false,
            "has_ack": true
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:57:00",
          "user": "phantomcircuit",
          "content": "sipa: what response do we even have for the block message?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 58,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:57:00",
          "user": "sipa",
          "content": "phantomcircuit: none, but responses to later messages can depend on it",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 70,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:57:00",
          "user": "phantomcircuit",
          "content": "i can definitely see changing the orderr breaking a bunch of the functional networking tests",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 92,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:57:00",
          "user": "phantomcircuit",
          "content": "like basically all of them right",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 32,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:57:00",
          "user": "sipa",
          "content": "yes",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 3,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:58:00",
          "user": "phantomcircuit",
          "content": "so in theory i could also just have multiptl message handling threads and try to reduce the lock contention on cs main by finding individual things locking it that don't need to",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 177,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 15:59:00",
          "user": "phantomcircuit",
          "content": "like im pretty sure i can remove the lock from IsInitialBlockDownload with a handful of atomics",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 95,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:01:00",
          "user": "phantomcircuit",
          "content": "tthe alternative is to dilligently identify all of the actual data in memory and reduce the scope of locks while ensuring no lock orderring issues... which um sounds harder",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 172,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:02:00",
          "user": "sipa",
          "content": "lock annotations are pretty good these days, you'll have more effort convincing clang's analyser that a change is safe, than accidentally introducing a lock ordering issue",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 171,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:02:00",
          "user": "sipa",
          "content": "but really, i think the way to go is a validation queue for tx/blocks like i suggested earlier",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 94,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:03:00",
          "user": "sipa",
          "content": "that won't on itself give you more parallellism, but it means all effort to improve that will be localized in validation code, not spread everywhere",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 148,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:07:00",
          "user": "phantomcircuit",
          "content": "sipa: without a specific path to parallelism by doing that im afaird it'll make things more complicated, but not actually any faster",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 132,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:08:00",
          "user": "sipa",
          "content": "well, yes, obviously",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 20,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:09:00",
          "user": "sipa",
          "content": "but right now i don't even want to try reasoning about it",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 57,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:09:00",
          "user": "sipa",
          "content": "at least things like validating multiple transactions in parallel seems pretty doable",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 85,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:10:00",
          "user": "sipa",
          "content": "(individual transactions, received from different peers)",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 56,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:11:00",
          "user": "sipa",
          "content": "and it would mean without any further changes that for example we can process and respond to ADDR or PING messages even while a block is being processed",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 152,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:12:00",
          "user": "sipa",
          "content": "i'm considering working on something like this post-clustermempool, fwiw",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 72,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:12:00",
          "user": "phantomcircuit",
          "content": "sipa: so that's what i thought to but there's enough random other things that acquire cs_main that the msghand thread ends up waiting until the blocks processed",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 160,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:12:00",
          "user": "phantomcircuit",
          "content": "IsInitialBlockDownload being the one that im 99% sure can be lock free",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 70,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:14:00",
          "user": "sipa",
          "content": "well cs_main would move to validation, and net_processing would become independent of ot",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 88,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:14:00",
          "user": "phantomcircuit",
          "content": "to test this i put ActivateBestChain in a background thread and ran it on a 10 minute timer, while it's running absolutely nothing will happen because it's holding the chainstate lock and cs_main",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 1,
            "text_length": 195,
            "has_nack": false,
            "has_ack": true
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:15:00",
          "user": "phantomcircuit",
          "content": "yeah but doing that for the things that wouldn't be put in a queue seems like the first step",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 92,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:16:00",
          "user": "sipa",
          "content": "anything that needs validation-related data structures (chainstate, headers, mempool, block tree) would need to go through the queue mechanism, effectively making it async, and letting validation decide when to process them",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 223,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:16:00",
          "user": "phantomcircuit",
          "content": "we're accessing chainstate in places where the result can be pretty fuzzy, like IsIBD doesn't need to be absolutely correct, it's already an approximation",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 154,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:16:00",
          "user": "sipa",
          "content": "right",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 5,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:18:00",
          "user": "sipa",
          "content": "my goal is reducing latency much more than increasing throughput, but i think it's a good step towards that too",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 111,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:19:00",
          "user": "phantomcircuit",
          "content": "sipa: so do you think looking for things accessing chainstate which don't really need it is a good first step here?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 115,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:19:00",
          "user": "phantomcircuit",
          "content": "seems like ehem *atomic* improvements",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 37,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:20:00",
          "user": "sipa",
          "content": "yeah, i don't think that on itself will gain us much",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 52,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:20:00",
          "user": "sipa",
          "content": "but it'll be necessary anyway",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 29,
            "has_nack": false,
            "has_ack": false
          }
        },
        {
          "type": "message",
          "timestamp": "2025-07-05 16:21:00",
          "user": "phantomcircuit",
          "content": "sipa: yeah that's what im thinking",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 0,
            "text_length": 34,
            "has_nack": false,
            "has_ack": false
          }
        }
      ],
      "threads": [
        {
          "start_time": "2025-07-05 15:57:00",
          "end_time": "2025-07-05 16:21:00",
          "message_count": 32,
          "participants": [
            "phantomcircuit",
            "sipa"
          ],
          "participant_count": 2,
          "first_message": "sipa: what response do we even have for the block message?",
          "drama_signals": {
            "drama_keywords": 0,
            "positive_keywords": 1,
            "nack_count": 0,
            "ack_count": 1
          }
        }
      ]
    }
  ],
  "summary": {
    "days_fetched": 1,
    "total_messages": 42,
    "total_threads": 1,
    "unique_participants": 3
  }
}