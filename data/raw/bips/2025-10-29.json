{
  "source": "github",
  "repository": "bitcoin/bips",
  "fetched_at": "2026-01-15T21:54:59.280031+00:00",
  "date": "2025-10-29",
  "pull_requests": [
    {
      "number": 2024,
      "title": "BIP-FAIR: Fair Fee Accounting for On-Chain Data with Segregated OP_RETURN (segOP)",
      "body": "Author: defenwycke <defenwycke@icloud.com>\r\n\r\nThis BIP removes the 75% witness discount for non-script data, introduces `segOP` as a clean, Merkle-rooted data section, and enforces a 100 KB total data cap per transaction.\r\n\r\n### Key Rules\r\n- **Data**: OP_RETURN, segOP, or witness items >520 B (Taproot max push size)\r\n- **Fee**: Full 4 wu/byte for data (weight += data_size * 3)\r\n- **Cap**: 100,000 bytes total per tx\r\n- **segOP**: Post-witness, structured, verifiable via Merkle root\r\n\r\nNormal financial transactions are **unaffected**. Spam becomes uneconomical.\r\n\r\nSoft fork via BIP 9 (bit 5). Reference implementation included.\r\n\r\nFeedback welcome.",
      "state": "closed",
      "user": "defenwycke",
      "created_at": "2025-10-29T13:44:25Z",
      "updated_at": "2025-10-29T17:45:30Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bips/pull/2024",
      "labels": [
        "New BIP"
      ],
      "comment_list": [
        {
          "user": "defenwycke",
          "body": "Hi @jonatack. I sent an email earlier to the dev group email. ",
          "created_at": "2025-10-29T15:39:39Z"
        },
        {
          "user": "jonatack",
          "body": "> Hi @jonatack. I sent an email earlier to the dev group email.\r\n\r\nThanks @defenwycke. In that case, this PR was opened prematurely. Please carefully read and follow the process described in BIP2.",
          "created_at": "2025-10-29T16:54:01Z"
        },
        {
          "user": "defenwycke",
          "body": "Hey @jonatack. Yes - noted. ",
          "created_at": "2025-10-29T17:02:54Z"
        },
        {
          "user": "jonatack",
          "body": "Closing for the reasons in https://github.com/bitcoin/bips/pull/2024#issuecomment-3462678030 and https://github.com/bitcoin/bips/pull/2024#discussion_r2474379127. You are free to retry via correctly following the process described in BIPs 2 / 3 and without using AI. Regards.",
          "created_at": "2025-10-29T17:45:30Z"
        }
      ]
    },
    {
      "number": 2023,
      "title": "BIP93: correct threshold range",
      "body": "Update Abstract to align with specification: threshold can be 0 for unshared secret or 2-9 for shares. \r\n\r\nApparently previous \"between 1 and 9\" range appears inconsistent with the detailed spec (threshold=1 isn't valid in codex32).",
      "state": "closed",
      "user": "Lil-Duckling-22",
      "created_at": "2025-10-29T11:50:43Z",
      "updated_at": "2025-12-10T17:46:27Z",
      "comments": 18,
      "url": "https://github.com/bitcoin/bips/pull/2023",
      "labels": [
        "Proposed BIP modification",
        "Pending acceptance",
        "PR Author action required"
      ],
      "comment_list": [
        {
          "user": "Lil-Duckling-22",
          "body": "Thanks for the review and giving a justified correction!\r\n\r\nIs this closer to what you suggested?",
          "created_at": "2025-11-06T19:42:47Z"
        },
        {
          "user": "murchandamus",
          "body": "It sounds like it is contested that this is an improvement, even if there may be some need for clarification here. Please update the PR and mark any review comments as resolved as you address them.",
          "created_at": "2025-11-10T16:30:51Z"
        },
        {
          "user": "apoelstra",
          "body": "Please remove the `digit` vs `parameter` changes, or at least move them to their own commit so they are easy to ignore. I agree with your PR summary, that \"between 1 and 9\" is wrong, but I can't find the text \"between 1 and 9\" anywhere in the document or in your diff. This feels to me like LLM slop. At the very least I cannot review this PR in this state.",
          "created_at": "2025-11-14T18:50:57Z"
        },
        {
          "user": "murchandamus",
          "body": "@apoelstra: The last sentence of the Abstract of the [currently published version](https://github.com/bitcoin/bips/blob/master/bip-0093.mediawiki#abstract) of BIP 93 reads:\r\n\r\n> A minimum threshold of shares, which can be between 1 and 9, is needed to recover the secret, whereas without sufficient shares, no information about the secret is recoverable.\r\n\r\n@Lil-Duckling-22: Please incorporate the requested changes.",
          "created_at": "2025-11-14T23:14:57Z"
        },
        {
          "user": "BenWestgate",
          "body": "> Apparently previous \"A minimum **threshold** of **shares**, which can be between **1** and 9, is needed to **recover** the secret\" range appears inconsistent with the detailed spec (threshold=1 isn't valid in codex32).\r\n\r\nOne string with share index \"s\" can recover the secret but it _is_ the secret. Further the term \"threshold\" (not \"threshold parameter\") always refers to shares:\r\n\r\nThe relevant definitions proving this text is wrong:\r\n\r\n**secrets:**\r\n\r\n>Note that a share index value of \"s\" (or \"S\") is special and denotes the unshared secret (see section \"Unshared Secret\").\r\n>When the share index of a valid codex32 string (converted to lowercase) is the letter \"s\", we call the string a codex32 secret.\r\n>For an unshared secret, the threshold parameter (the first character of the data part) is ignored (beyond the fact it must be a digit for the codex32 string to be valid).\r\n\r\n**shares:**\r\n\r\n> When the share index of a valid codex32 string (converted to lowercase) is not the letter \"s\", we call the string an codex32 share. The first character of the data part indicates the **threshold** of the share, and it is **required to be** a **non-\"0\"** digit.\r\n\r\n**recover:**\r\n\r\n> In order to recover a master seed, one needs a set of valid codex32 **shares** such that:\r\n> \r\n> * All **shares** have the same **threshold** value, the same identifier, and the same length.\r\n\r\n@apoelstra: Based on these details, the correct abstract text would be:\r\n\r\n>Secret data can be **directly encoded or** split into up to 31 shares.\r\n>A minimum threshold of shares, which can be between **2** and 9, is needed to recover the secret, whereas without sufficient shares, no information about the secret is recoverable.\r\n\r\nFurther our test vectors use the oxymoron term \"secret share\" it should probably be replaced with \"codex32 secret\":\r\n\r\n> * Derived share with index <code>D</code>: <code>MS12NAMEDLL4F8JLH4E5VDVULDLFXU2JHDNLSM97XVENRXEG</code>\r\n> * Secret share with index <code>S</code>: <code>MS12NAMES6XQGUZTTXKEQNJSJZV4JV3NZ5K3KWGSPHUH6EVW</code>\r\n\r\n* Recovered secret with share index <code>S</code>:\r\n* Recovered codex32 secret:\r\n\r\n> Secret share with index <code>s</code>: <code>ms13cashsllhdmn9m42vcsamx24zrxgs3qqjzqud4m0d6nln</code>\r\n\r\nSecret with share index <code>s</code>:\r\ncodex32 secret:\r\ncodex32 secret with k value <code>3</code>:\r\n>Note that the choice to append two zero bits was arbitrary, and any of the following four secret shares would have been valid choices.\r\n\r\ncopy the choice above (minus any \"with\")\r\n\r\n> * Secret share with index <code>S</code>: <code>MS100C8VSM32ZXFGUHPCHTLUPZRY9X8GF2TVDW0S3JN54KHCE6MUA7LQPZYGSFJD6AN074RXVCEMLH8WU3TK925ACDEFGHJKLMNPQRSTUVWXY06FHPV80UNDVARHRAK</code>\r\n\r\n*Secret with share index <code>S</code>:\r\n*codex32 secret:\r\n\r\nVector 5 even has the recommended secret threshold parameter `\"0\"`. I'm not sure what was going on here, _t_ becomes _k_ in this part of the spec, without ever introducing _k_ although it's standard SSS term and doesn't need introduction. Why did it change for no reason? It seems the vector texts were for an earlier draft of the spec. Perhaps ones where uppercase and non-zero threshold parameter codex32 strings were not called codex32 secrets even with share index \"S\" or \"s\".\r\n\r\nIf you want my opinion, BIP93 should use _k_ everywhere as that's what your book uses (and the wikipedia article on SSS). It also looks less like other lowercase characters. But that's a bigger diff than just changing the test vector _k_'s.",
          "created_at": "2025-11-16T11:33:38Z"
        },
        {
          "user": "apoelstra",
          "body": "Yeah, these changes all sound great to me @BenWestgate. In particular avoiding the term \"secret share\" to refer to the secret.\r\n\r\ncc @roconnor-blockstream what do you think about the terminology changes proposed in the above comment?",
          "created_at": "2025-11-20T13:23:42Z"
        },
        {
          "user": "roconnor-blockstream",
          "body": "Yeah I think that's a huge improvement.\r\n\r\nI certainly was using the term \"share\" share to mean \"an interpolated codex32 string at some point\", and thus \"secret share\" is simply \"the share\" interpolated at the point 'S'.  However, I agree that is a very bad definition of \"share\" as knowing a single share is not supposed to reveal the secret, so \"secret share\" shouldn't even be a thing.  Instead interpolating the point at 'S' yields the \"codex32 encoded master seed\".  Then, as Ben says, the number of shares you need to recover will indeed vary from 2 to 9.\r\n\r\nWhile I do think \"codex32 secret\" is fine, I think should consider \"codex32 seed\" (or perhaps \"codex32 master seed\") as a short hand for \"codex32 encoded master seed\" and see if we can make it work.  This would require more intensive editing to replace some uses of \"secret\" in the BIP with \"seed\" or \"master seed\".",
          "created_at": "2025-11-20T15:28:50Z"
        },
        {
          "user": "BenWestgate",
          "body": "> I certainly was using the term \"share\" share to mean \"an interpolated codex32 string at some point\", and thus \"secret share\" is simply \"the share\" interpolated at the point 'S'.\n\nWe always use the verb \"recover\" to say \"interpolate to 'S'.\"\n\nWe codex32 encode threshold initial strings, interpolate/derive* additional shares, and we recover secrets. Even the reference Python has this distinction.\n\nNote: Does \"derive\" seem too ambiguous vs interpolate?\n\n>Instead interpolating the point at 'S' yields the \"codex32 encoded master seed\".\n\nOnly if the human-readable part is 'MS'. For 'CL' it's a \"Core Lightning HSM secret\" which is a private key.\n\nIt's worth adding 3 test vectors for this application https://docs.corelightning.org/reference/exposesecret and updating the checksum Python reference to accept `hrp` as a parameter instead of rolling it into the initial value.\n\n> While I do think \"codex32 secret\" is fine, I think should consider \"codex32 seed\" (or perhaps \"codex32 master seed\") as a short hand for \"codex32 encoded master seed\" and see if we can make it work.  This would require more intensive editing to replace some uses of \"secret\" in the BIP with \"seed\" or \"master seed\".\n\nThe book uses \"secret seed\", \"secret\" as short hand in headers and \"seed\" only when it is NOT codex32-encoded. The scheme doesn't care what the secret is.\n\nWe should use \"codex32-encoded master seed\" or \"secret seed\" for the specific case of a codex32 secret with prefix 'MS'.\n\nTo avoid oxymorons, let's call non-\"S\" strings codex32 \"shares\" regardless of human readable prefix. This fits as their data is discarded by software after recovery of codex32 secrets.\n\nThe website uses the oxymoron \"codex32-encoded seed shares\" and incorrectly uses \"seeds\" to mean \"shares\".\nThe 'MS' specific wallets.md doc uses seed/shares with 1 mention of \"codex32 secret\" for codex32-encoded data with index 'S'.\n\nLet's fix the clear mistakes first, change _t_ to _k_ everywhere, then follow up with generalizing hrp and replace mentions specific to 'MS' secrets with a specific term.",
          "created_at": "2025-11-20T22:50:43Z"
        },
        {
          "user": "roconnor-blockstream",
          "body": "> > Instead interpolating the point at 'S' yields the \"codex32 encoded master seed\".\r\n\r\n> Only if the human-readable part is 'MS'. For 'CL' it's a \"Core Lightning HSM secret\" which is a private key.\r\n\r\nThanks for noting this.  I was going back and forth on whether \"seed\" should be used because this document is \"MS\" specific, or \"secret\" should be used in case people want to use \"codex32\" in more generic contexts.  Does \"codex32\" mean BIP-93, or is it more general?  Should \"secret\" be used in the book with \"seed\" preferred in BIP-93?  I don't have good answers to these questions, and I could be convinced on the \"secret\" v.s. \"seed\" wording either way.",
          "created_at": "2025-11-21T00:01:11Z"
        },
        {
          "user": "BenWestgate",
          "body": "> > > Instead interpolating the point at 'S' yields the \"codex32 encoded master seed\".\r\n> \r\n> > Only if the human-readable part is 'MS'. For 'CL' it's a \"Core Lightning HSM secret\" which is a private key.\r\n> \r\n> Thanks for noting this. I was going back and forth on whether \"seed\" should be used because this document is \"MS\" specific, or \"secret\" should be used in case people want to use \"codex32\" in more generic contexts. Does \"codex32\" mean BIP-93, or is it more general? Should \"secret\" be used in the book with \"seed\" preferred in BIP-93? I don't have good answers to these questions, and I could be convinced on the \"secret\" v.s. \"seed\" wording either way.\r\n\r\nThe term \"codex32\" is being used interchangeably with BIP-93:\r\n> **codex32** (string): The full codex32-encoded (i.e. BIP-93 encoded) HSM secret.\r\n\r\nOther applications ([CLN](https://docs.corelightning.org/reference/exposesecret), [SLIP-0173](https://github.com/satoshilabs/slips/blob/master/slip-0173.md#uses-of-codex32)) are citing BIP-93 even though it does not explain how to calculate checksums for non-\"MS\" codex32 strings. This is going to lead to problems (and already did, for me.)\r\n\r\nSo we should follow the example of [BIP-0173](https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki#specification):\r\n> We first describe the general checksummed base32[[1]](https://en.bitcoin.it/wiki/BIP_0173#cite_note-1) format called Bech32 and then define Segregated Witness addresses using it.\r\n\r\nProposed BIP-93 text under H1 \"Specification\": \r\n\r\n> **We first describe the general checksummed base32 format called codex32 and then define codex32-encoding of BIP-0032 Master Seeds using it.**\r\n\r\nThis second \"BIP-0032 Master Seeds\" section is our current \"Unshared Secret\" section.\r\n\r\nWe should minimize use of \"codex32\" as an adjective to only when needed. The book uses it zero, wallets.md once, the website only for the encoding and checksum, never a secret/seed/share/string. Terms codex32 shares, codex32 strings, codex32 secrets IMO present excess jargon to users.\r\n\r\nEnd users only need to know:\r\n 1) The format is codex32\r\n 1) Shares won't reveal my seed without threshold many\r\n 1) The seed/secret is my seed/secret\r\n 1) Where that 'S' or threshold value is in the string and what must match and differ for recovery.\r\n \r\nThe book is printed, it's fine to keep it \"secret seed\", this term is better than \"codex32 seed\" or \"codex32 secret\" anyhow. No one will be confused so long as BIP-93 says something to the effect:\r\n> **When the human-readable part of a valid codex32 secret (converted to lowercase) is \"ms\", we call the secret a secret seed or codex32 master seed. The payload in a secret seed is a direct encoding of a BIP-0032 HD master seed.**",
          "created_at": "2025-11-21T01:58:01Z"
        },
        {
          "user": "apoelstra",
          "body": "These are all great points @BenWestgate. Can you file an issue for the book at https://github.com/BlockstreamResearch/codex32/ (you can't really PR to fix it because the book was printed off some non-master branch and we have a longstanding todo to merge it in, but it's slow going because of how messy my old nix code was).\r\n\r\nI'll go through the website and update all uses of \"seed\" to \"secret\" and audit all uses of \"share\". I don't think I have a public git repo (or any git repo :grimacing:) for the site..\r\n\r\n**Edit** I went through all the HTML files and corrected \"seed shares\" to \"shares (or an unsplit codex32-encoded secret)\" and corrected \"seeds\" to \"shares\" in one place.  Both in the top-level index.html. Otherwise I believe all the uses of \"share\" \"seed\" and \"secret\" were correct.",
          "created_at": "2025-12-05T16:44:15Z"
        },
        {
          "user": "BenWestgate",
          "body": "The book avoided using \"secret share\" it uses \"secret seed\" which to me is short hand for \"codex32-encoded master seed.\" or \"ms\"-prefixed codex32 secret.\n\n\"Secret\" implies the encoding at secret index \"s\" while \"seed\" is the literal payload bytes.\n\nYou want a book issue opened to rename \"secret seed\" to \"codex32-encoded master seed\" and after introducing the concept, just \"secret\"? That would reduce the text in both the book and BIP.",
          "created_at": "2025-12-05T21:38:06Z"
        },
        {
          "user": "apoelstra",
          "body": "> You want a book issue opened to rename \"secret seed\" to \"codex32-encoded master seed\" and after introducing the concept, just \"secret\"? That would reduce the text in both the book and BIP.\r\n\r\nYep, this sounds right to me.",
          "created_at": "2025-12-05T22:02:49Z"
        },
        {
          "user": "Lil-Duckling-22",
          "body": "@apoelstra @BenWestgate \r\nMade changes\r\nSo many comments and thoughts, hope I did it right",
          "created_at": "2025-12-07T13:57:30Z"
        },
        {
          "user": "murchandamus",
          "body": "Thanks @BenWestgate for your thorough review of this PR. My impression is that the author of this PR is a “commit harvester” that parses repositories with AI tools to find easy fixes. Most of these sort of PRs tend to be a lot more work than the improvements they propose. It seems to me that you have a much better sense of what improvements could be incorporated into BIP 93, so if this matches your assessment and you want to just adopt any outstanding changes that make sense from this PR here into your own PR, we can just continue this work on your PR instead.",
          "created_at": "2025-12-08T19:09:23Z"
        },
        {
          "user": "BenWestgate",
          "body": "> ...My impression is ... “commit harvester” ... so if this matches your assessment and you want to just adopt any outstanding changes that make sense from this PR here into your own PR, we can just continue this work on your PR instead.\r\n\r\nYes, that's what I meant when I said:\r\n\r\n> If you think **_you_** can handle that it would be helpful.\r\n\r\nAs deleting the right parts of the https://github.com/bitcoin/bips/pull/2040 diff requires a few minutes more human effort than the commits here have contained.",
          "created_at": "2025-12-09T22:59:50Z"
        },
        {
          "user": "BenWestgate",
          "body": "> Thanks @BenWestgate ... just adopt any outstanding changes that make sense from this PR here into your own PR, we can just continue this work on your PR instead.\r\n\r\nDone: #2052",
          "created_at": "2025-12-10T02:48:02Z"
        },
        {
          "user": "jonatack",
          "body": "Closing for now in favor of #2052. Thank you @Lil-Duckling-22 for your proposal that launched the discussion.",
          "created_at": "2025-12-10T17:46:27Z"
        }
      ]
    }
  ],
  "issues": [],
  "summary": {
    "pull_requests": 2,
    "issues": 0
  }
}