{
  "source": "github",
  "repository": "bitcoin/bips",
  "fetched_at": "2026-01-15T21:50:58.988261+00:00",
  "date": "2025-09-18",
  "pull_requests": [
    {
      "number": 1971,
      "title": "bip174: add test case for an invalid valuedata due to its size",
      "body": "A PSBT should be considered invalid if the size of `<valuedata>` doesn't match the specified size in `<valuesize>`. However we don't have any test case for it (and might be not well specified?). During differential fuzzing I noticed this is currently verified in Bitcoin Core (see below) but not checked in other implementations (e.g. btcd), causing a mismatch between them.\r\n\r\n```cpp\r\n// Takes a stream and multiple arguments and unserializes them first as a vector then each object individually in the order provided in the arguments\r\ntemplate<typename Stream, typename... X>\r\nvoid UnserializeFromVector(Stream& s, X&&... args)\r\n{\r\n    size_t expected_size = ReadCompactSize(s);\r\n    size_t remaining_before = s.size();\r\n    UnserializeMany(s, args...);\r\n    size_t remaining_after = s.size();\r\n    if (remaining_after + expected_size != remaining_before) {\r\n        throw std::ios_base::failure(\"Size of value was not the stated size\");\r\n    }\r\n}\r\n```",
      "state": "closed",
      "user": "brunoerg",
      "created_at": "2025-09-18T20:00:57Z",
      "updated_at": "2025-12-08T19:34:42Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bips/pull/1971",
      "labels": [
        "Proposed BIP modification",
        "Bug fix"
      ],
      "comment_list": [
        {
          "user": "murchandamus",
          "body": "cc: @achow101",
          "created_at": "2025-09-18T20:29:23Z"
        },
        {
          "user": "achow101",
          "body": "ACK 97885721b8d3b3340abe0a297a66670ec1b2689a",
          "created_at": "2025-12-08T19:12:44Z"
        }
      ]
    }
  ],
  "issues": [],
  "summary": {
    "pull_requests": 1,
    "issues": 0
  }
}