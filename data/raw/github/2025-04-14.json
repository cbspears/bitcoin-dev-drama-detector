{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:32:39.161737+00:00",
  "date": "2025-04-14",
  "pull_requests": [
    {
      "number": 32271,
      "title": "doc: Document WITH_EXTERNAL_LIBMULTIPROCESS build option better",
      "body": "This includes a cmake documentation change suggested https://github.com/bitcoin/bitcoin/pull/31741#discussion_r2039716492 and another change to mention the option in markdown documentation\r\n",
      "state": "closed",
      "user": "ryanofsky",
      "created_at": "2025-04-14T20:35:38Z",
      "updated_at": "2025-04-17T10:41:11Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32271",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32271.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/32271#pullrequestreview-2769766452), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32271#pullrequestreview-2772358190) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31802](https://github.com/bitcoin/bitcoin/pull/31802) (Add bitcoin-{node,gui} to release binaries for IPC by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
          "created_at": "2025-04-14T20:35:42Z"
        },
        {
          "user": "hebasto",
          "body": "cc @theuni",
          "created_at": "2025-04-16T12:48:17Z"
        }
      ]
    },
    {
      "number": 32270,
      "title": "test: fix pushdata scripts",
      "body": "The original scripts were done incorrectly,\r\nso they are changed to represent two\r\ndifferent 2-byte pushes.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/pull/32114#discussion_r2034051063",
      "state": "closed",
      "user": "instagibbs",
      "created_at": "2025-04-14T19:11:54Z",
      "updated_at": "2025-05-27T10:59:36Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32270",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32270.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/32270#issuecomment-2910192822), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32270#pullrequestreview-2870576815) |\n| Concept ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/32270#pullrequestreview-2785087703) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-14T19:11:57Z"
        },
        {
          "user": "sedited",
          "body": "Would ACK once rebased. ",
          "created_at": "2025-05-20T13:53:48Z"
        },
        {
          "user": "instagibbs",
          "body": "@TheCharlatan rebased",
          "created_at": "2025-05-20T14:39:55Z"
        },
        {
          "user": "ajtowns",
          "body": "ACK f66b14d2ecb0db991d255be49d6ff6ec361569b5",
          "created_at": "2025-05-26T16:09:59Z"
        }
      ]
    },
    {
      "number": 32269,
      "title": "doc: update unix build doc with build flags",
      "body": "I had trouble building bitcoin core the way I wanted since now more features require a flag while building. IMO it makes sense to make it a bit more prominent in the build docs how to get the needed flags.\r\n\r\nRelated issue: https://github.com/bitcoin/bitcoin/issues/32258",
      "state": "closed",
      "user": "bufo24",
      "created_at": "2025-04-14T18:33:48Z",
      "updated_at": "2025-07-29T10:59:07Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32269",
      "labels": [
        "Docs",
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32269.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32269#pullrequestreview-2837037436) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32846](https://github.com/bitcoin/bitcoin/pull/32846) (doc: clarify that the \"-j N\" goes after the \"--build build\" part by bigspider)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-14T18:33:51Z"
        },
        {
          "user": "fanquake",
          "body": "As mentioned, what you're adding is already present in this file, so if you're re-ordering things, you'll need to remove the second occurence.",
          "created_at": "2025-05-13T11:40:25Z"
        },
        {
          "user": "bufo24",
          "body": "@fanquake Just did that!",
          "created_at": "2025-05-13T11:42:30Z"
        },
        {
          "user": "fanquake",
          "body": "Thanks. You'll need to squash your commits.",
          "created_at": "2025-05-13T11:43:12Z"
        },
        {
          "user": "bufo24",
          "body": "Done",
          "created_at": "2025-05-13T11:45:03Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-07-01T20:39:34Z"
        },
        {
          "user": "fanquake",
          "body": "Rebased this is in #33088.",
          "created_at": "2025-07-29T10:59:06Z"
        }
      ]
    },
    {
      "number": 32266,
      "title": "depends: Avoid `warning: \"_FORTIFY_SOURCE\" redefined` for `libevent`",
      "body": "On Alpine Linux 3.12.3, compiling the `libevent` package produces multiple warnings:\r\n```\r\n$ gmake -C depends -j $(nproc) libevent\r\n<snip>\r\n<command-line>: warning: \"_FORTIFY_SOURCE\" redefined\r\n<built-in>: note: this is the location of the previous definition\r\n<snip>\r\n```\r\n\r\nThis PR fixes these warnings.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-04-14T15:23:14Z",
      "updated_at": "2025-10-25T18:22:08Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32266",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32266.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [shahsb](https://github.com/bitcoin/bitcoin/pull/32266#issuecomment-2808311121), [theuni](https://github.com/bitcoin/bitcoin/pull/32266#pullrequestreview-3366133624), [maflcko](https://github.com/bitcoin/bitcoin/pull/32266#issuecomment-3432734644) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n",
          "created_at": "2025-04-14T15:23:18Z"
        },
        {
          "user": "shahsb",
          "body": "ACK https://github.com/bitcoin/bitcoin/pull/32266/commits/fe71a4b139f3a142468c2e931775813bc8f9d2ad",
          "created_at": "2025-04-16T05:06:58Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit cdc32994feadf3f15df3cfac5baae36b4b011462<br>(master) | commit 23c93027e731210ec49cab09b57f72869ab78ea2<br>(pull/32266/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz |  | [`cdf32224d5ff34cc...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz |  | [`6e1681f42a3c1c32...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz |  | [`681eb96b55fa0810...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz |  | [`6b242544b25bb8a5...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz |  | [`968bf945d3fc9edb...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz |  | [`d79ee2a2097c2b34...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip |  | [`915c63931b8f2c97...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz |  | [`2547a2c7da236ae6...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz |  | [`5b6bf82684164553...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz |  | [`f4c791ffaf7d8d26...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz |  | [`fd3798029e4a00c7...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz |  | [`3bb3e6adfe45522d...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz |  | [`13c96cd7a9503524...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip |  | [`eaaaedf72475ae1b...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz |  | [`64e36f8ccd2dfee4...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz |  | [`a130bf087798147b...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz |  | [`058000d52f1718bf...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/bitcoin-23c93027e731.tar.gz) |\n| SHA256SUMS.part |  | [`09bb5ff23c7628d0...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/SHA256SUMS.part) |\n| guix_build.log | [`056629295102080d...`](https://drahtbot.space/guix/monotree/cdc32994feadf3f15df3cfac5baae36b4b011462/guix_build.log) | [`7776af114a397f4a...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/guix_build.log) |\n| guix_build.log.diff |  | [`27ccd5cc6b668612...`](https://drahtbot.space/guix/monotree/23c93027e731210ec49cab09b57f72869ab78ea2/guix_build.log.diff) |\n\n",
          "created_at": "2025-04-17T02:32:35Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK fe71a4b139f3a142468c2e931775813bc8f9d2ad\r\n\r\nref: https://github.com/bitcoin/bitcoin/blob/7d27af98c7cf858b5ab5a02e64f89a857cc53172/CMakeLists.txt#L508",
          "created_at": "2025-10-22T14:43:03Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32267,
      "title": "build: `--target deploy` failure on macOS",
      "body": "macOS 15.4\nmaster @ 51166559808c3528f148b5c0c38cb4481e536dd8\nbrew installed Qt 6.9.0\n```bash\ncmake -B build -DBUILD_GUI=ON\ncmake --build build --target deploy\n[  0%] Generating bitcoin-build-info.h\n[  0%] Built target generate_build_info\n[  5%] Built target bitcoin_wallet\n[ 13%] Built target leveldb\n[ 15%] Built target bitcoin_cli\n[ 15%] Built target bitcoinqt_autogen_timestamp_deps\n[ 15%] Built target bitcoinqt_autogen\n[ 51%] Built target bitcoinqt\n[ 69%] Built target bitcoin_node\n[ 69%] Built target bitcoin-qt_autogen_timestamp_deps\n[ 69%] Built target bitcoin-qt_autogen\n[ 71%] Built target crc32c\n[ 73%] Built target minisketch\n[ 73%] Built target bitcoin_clientversion\n[ 75%] Built target bitcoin_consensus\n[ 84%] Built target bitcoin_common\n[ 86%] Built target univalue\n[ 86%] Built target secp256k1_precomputed\n[ 88%] Built target secp256k1\n[ 92%] Built target bitcoin_crypto\n[ 98%] Built target bitcoin_util\n[ 98%] Built target bitcoin_zmq\n[100%] Built target bitcoin-qt\n[100%] Generating Bitcoin-Core.zip\n+ Removing existing dist folder +\n+ Copying source bundle +\n+ Deploying frameworks +\nProcessing QtWidgets.framework ...\n<snip>\nlibglib-2.0.0.dylib\n/Library/Developer/CommandLineTools/usr/bin/install_name_tool: warning: changes being made to the file will invalidate the code signature in: dist/Bitcoin-Qt.app/Contents/Frameworks/libglib-2.0.0.dylib\n/Library/Developer/CommandLineTools/usr/bin/install_name_tool: warning: changes being made to the file will invalidate the code signature in: dist/Bitcoin-Qt.app/Contents/Frameworks/libglib-2.0.0.dylib\n/Library/Developer/CommandLineTools/usr/bin/install_name_tool: warning: changes being made to the file will invalidate the code signature in: dist/Bitcoin-Qt.app/Contents/Frameworks/libglib-2.0.0.dylib\nProcessing QtDBus.framework ...\nError: No directory at @rpath/QtDBus.framework\ngmake[3]: *** [CMakeFiles/deploydir.dir/build.make:73: Bitcoin-Core.zip] Error 1\ngmake[2]: *** [CMakeFiles/Makefile2:663: CMakeFiles/deploydir.dir/all] Error 2\ngmake[1]: *** [CMakeFiles/Makefile2:702: CMakeFiles/deploy.dir/rule] Error 2\ngmake: *** [Makefile:225: deploy] Error 2\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-04-14T16:05:43Z",
      "updated_at": "2025-05-06T17:10:27Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/issues/32267",
      "labels": [
        "macOS",
        "Build system"
      ],
      "comment_list": [
        {
          "user": "yuvicc",
          "body": "Works fine with qt@5!\nMacOS 15.3.2",
          "created_at": "2025-04-15T19:52:35Z"
        },
        {
          "user": "maflcko",
          "body": "> Works fine with qt@5!\n\nHow could this possibly work fine, given that qt@6 is required?",
          "created_at": "2025-04-15T20:05:43Z"
        },
        {
          "user": "yuvicc",
          "body": "```\nbrew list --versions qt@5\nqt@5 5.15.13_1\n```\n\n\n> How could this possibly work fine, given that qt@6 is required?\n\nIs it? I thought that qt@6 is the recommended version. \n\n```\n[ 98%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/walletcontroller.cpp.o\n[ 98%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/walletframe.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/walletmodel.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/walletmodeltransaction.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/walletview.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/bitcoinqt_autogen/EWIEGA46WW/qrc_bitcoin.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoinqt.dir/bitcoinqt_autogen/EJRQKI7XPS/qrc_bitcoin_locale.cpp.o\n[100%] Linking CXX static library ../lib/libbitcoin_node.a\n[100%] Built target bitcoin_node\n[100%] Linking CXX static library ../../lib/libbitcoinqt.a\n[100%] Built target bitcoinqt\n[100%] Automatic MOC and UIC for target bitcoin-qt\n[100%] Built target bitcoin-qt_autogen\n[100%] Building CXX object src/qt/CMakeFiles/bitcoin-qt.dir/main.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoin-qt.dir/bitcoin-qt_autogen/mocs_compilation.cpp.o\n[100%] Building CXX object src/qt/CMakeFiles/bitcoin-qt.dir/__/init/bitcoin-qt.cpp.o\n[100%] Linking CXX executable ../../bin/bitcoin-qt\n[100%] Built target bitcoin-qt\n[100%] Generating Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt\n-- Installing: /Users/yuvrajchhetri/Desktop/bitcoin/build/Bitcoin-Qt.app/Contents/MacOS/bin/bitcoin-qt\n-- Installing: /Users/yuvrajchhetri/Desktop/bitcoin/build/Bitcoin-Qt.app/Contents/MacOS/share/man/man1/bitcoin-qt.1\n[100%] Generating Bitcoin-Core.zip\n+ Copying source bundle +\n+ Deploying frameworks +\nProcessing QtWidgets.framework ...\n+ Adding Qt translations +\n+ Installing qt.conf +\ndist/Bitcoin-Qt.app: replacing existing signature\n+ Done +\n[100%] Built target deploydir\n[100%] Built target deploy\n```\n\n",
          "created_at": "2025-04-15T20:28:32Z"
        },
        {
          "user": "hebasto",
          "body": "@i-am-yuvi \n\n> ```\n> brew list --versions qt@5\n> qt@5 5.15.13_1\n> ```\n> \n>  > How could this possibly work fine, given that qt@6 is required?\n> \n> Is it? I thought that qt@6 is the recommended version.\n\nAre you sure you are building the recent master branch?\n\nOn my machine:\n```\n% git rev-parse HEAD\ncdc32994feadf3f15df3cfac5baae36b4b011462\n% brew list | grep qt\nqt@5\n% rm -rf build && cmake -B build -DBUILD_GUI=ON\n-- The CXX compiler identification is AppleClang 16.0.0.16000026\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/c++ - skipped\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Setting build type to \"RelWithDebInfo\" as none was specified\n-- Performing Test CXX_SUPPORTS__WERROR\n-- Performing Test CXX_SUPPORTS__WERROR - Success\n-- Performing Test CXX_SUPPORTS__G3\n-- Performing Test CXX_SUPPORTS__G3 - Success\n-- Performing Test LINKER_SUPPORTS__G3\n-- Performing Test LINKER_SUPPORTS__G3 - Success\n-- Performing Test CXX_SUPPORTS__FTRAPV\n-- Performing Test CXX_SUPPORTS__FTRAPV - Success\n-- Performing Test LINKER_SUPPORTS__FTRAPV\n-- Performing Test LINKER_SUPPORTS__FTRAPV - Success\n-- Found SQLite3: /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include (found suitable version \"3.43.2\", minimum required is \"3.7.17\")\n-- Found QRencode: /usr/local/lib/libqrencode.dylib\n-- Could NOT find Qt6 (missing: Qt6_DIR)\nCMake Error at /usr/local/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:227 (message):\n  Could NOT find Qt (missing: Qt6_DIR) (Required is at least version \"6.2\")\nCall Stack (most recent call first):\n  /usr/local/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:591 (_FPHSA_FAILURE_MESSAGE)\n  cmake/module/FindQt.cmake:38 (find_package_handle_standard_args)\n  CMakeLists.txt:178 (find_package)\n\n\n-- Configuring incomplete, errors occurred!\n```",
          "created_at": "2025-04-16T08:15:29Z"
        },
        {
          "user": "yuvicc",
          "body": "\n> \n> Are you sure you are building the recent master branch?\n> \n\n\nAh, now I see I was in v29.0 and it worked fine as qt@5 works in [v29.0](https://github.com/bitcoin/bitcoin/blob/29.x/doc/build-osx.md#gui-dependencies), sorry for the confusion!\n\n```\nbrew list --versions qt@6\nqt 6.7.0_1\n```\n\nWhen running on master(cdc32994feadf3f15df3cfac5baae36b4b011462) branch, I'm getting the same error:\n\n```\n...\nProcessing QtDBus.framework ...\nError: No directory at @rpath/QtDBus.framework\ngmake[3]: *** [CMakeFiles/deploydir.dir/build.make:73: Bitcoin-Core.zip] Error 1\ngmake[2]: *** [CMakeFiles/Makefile2:538: CMakeFiles/deploydir.dir/all] Error 2\ngmake[1]: *** [CMakeFiles/Makefile2:571: CMakeFiles/deploy.dir/rule] Error 2\ngmake: *** [Makefile:218: deploy] Error 2keFiles/deploy.dir/rule] Error 2\ngmake: *** [Makefile:225: deploy] Error 2\n```",
          "created_at": "2025-04-16T09:13:50Z"
        }
      ]
    },
    {
      "number": 32265,
      "title": "Enable C++26 P3471 \"Standard Library Hardening\" ahead of time?",
      "body": "C++26 includes standard library hardening (P3471). Albeit Bitcoin Core uses C++20 as of https://github.com/bitcoin/bitcoin/blob/51166559808c3528f148b5c0c38cb4481e536dd8/CMakeLists.txt#L74, the feature can be enabled in earlier versions of C++, according to https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3471r4.html#enabling-hardening. So the question is whether it should be done.\n\nSome benefits would be:\n\n* Less unsafe code, when preconditions are enforced by the standard library. This can help to find bugs, such as https://github.com/bitcoin/bitcoin/pull/32122.\n* Less manual precondition checking, which is verbose and sometimes wrong. For example, see https://github.com/bitcoin/bitcoin/pull/32255#issuecomment-2798728376.\n\nThe downsides would be:\n\n* The performance impact need to be checked. According to https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p3471r4.html#deployment-experience, the impact was minimal at google in production when using libc++, except for some hot paths. However, the same may not be true for us, or for other standard libraries. For example, see a libstdc++ result here: https://www.github.com/bitcoin/bitcoin/pull/31424#discussion_r1910658664. \n* There is no portable way to enable it for all standard libraries, so our build system would have to deal with it.\n\nFor now this is a brainstorming issue, to gather any benefits, downsides or questions that I've missed.\n\n",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-14T11:10:50Z",
      "updated_at": "2025-11-12T17:28:20Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/32265",
      "labels": [
        "Brainstorming",
        "Build system"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "This seems nice, but probably has limited benefit in practise, given the tradeoffs. Closing for now.",
          "created_at": "2025-11-12T17:28:20Z"
        }
      ]
    },
    {
      "number": 32264,
      "title": "test: functional test failures under `--usecli`",
      "body": "Ubuntu 24.04.2 LTS\nPython 3.12.3\nmaster @ 817edfb21e4fa96289d69d4e1dbabb6b9ef9d8f5\n```bash\ncmake -B build\ncmake --build build\n./build/test/functional/test_runner.py --usecli\n```\n\n```bash\nfeature_assumeutxo.py                                                | ‚úñ Failed  | 11 s\nfeature_bip68_sequence.py                                            | ‚úñ Failed  | 58 s\nfeature_fastprune.py                                                 | ‚úñ Failed  | 1 s\nfeature_fee_estimation.py                                            | ‚úñ Failed  | 1 s\nfeature_nulldummy.py                                                 | ‚úñ Failed  | 1 s\nfeature_reindex_readonly.py                                          | ‚úñ Failed  | 0 s\nfeature_signet.py                                                    | ‚úñ Failed  | 1 s\nfeature_taproot.py                                                   | ‚úñ Failed  | 6 s\nmempool_package_rbf.py                                               | ‚úñ Failed  | 22 s\nmining_mainnet.py                                                    | ‚úñ Failed  | 1 s\np2p_net_deadlock.py --v1transport                                    | ‚úñ Failed  | 1 s\np2p_net_deadlock.py --v2transport                                    | ‚úñ Failed  | 1 s\np2p_tx_download.py                                                   | ‚úñ Failed  | 34 s\nrpc_deprecated.py                                                    | ‚úñ Failed  | 1 s\nrpc_estimatefee.py                                                   | ‚úñ Failed  | 1 s\nrpc_generate.py                                                      | ‚úñ Failed  | 1 s\nrpc_getblockfrompeer.py                                              | ‚úñ Failed  | 1 s\nrpc_getdescriptorinfo.py                                             | ‚úñ Failed  | 1 s\nrpc_invalid_address_message.py                                       | ‚úñ Failed  | 2 s\nrpc_packages.py                                                      | ‚úñ Failed  | 5 s\nrpc_scanblocks.py                                                    | ‚úñ Failed  | 1 s\nrpc_scantxoutset.py                                                  | ‚úñ Failed  | 5 s\nrpc_whitelist.py                                                     | ‚úñ Failed  | 1 s\nwallet_bumpfee.py --descriptors                                      | ‚úñ Failed  | 10 s\nwallet_descriptor.py --descriptors                                   | ‚úñ Failed  | 7 s\nwallet_encryption.py --descriptors                                   | ‚úñ Failed  | 6 s\nwallet_fundrawtransaction.py --descriptors                           | ‚úñ Failed  | 12 s\nwallet_labels.py --descriptors                                       | ‚úñ Failed  | 2 s\nwallet_miniscript.py --descriptors                                   | ‚úñ Failed  | 2 s\nwallet_send.py --descriptors                                         | ‚úñ Failed  | 1 s\n```\n\n```bash\n147/318 - rpc_deprecated.py failed, Duration: 1 s\n\nstdout:\n2025-04-14T09:29:49.903000Z TestFramework (INFO): PRNG seed is: 5746030027211002162\n2025-04-14T09:29:49.903000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_‚Çø_üèÉ_20250414_092629/rpc_deprecated_169\n2025-04-14T09:29:50.177000Z TestFramework (INFO): Tests for deprecated RPC methods (if any)\n2025-04-14T09:29:50.178000Z TestFramework (INFO): Tests for deprecated wallet-related RPC methods (if any)\n2025-04-14T09:29:50.178000Z TestFramework (INFO): Test settxfee RPC deprecation\n2025-04-14T09:29:50.203000Z TestFramework (ERROR): Unexpected exception caught during testing\nTraceback (most recent call last):\n  File \"/root/ci_scratch/test/functional/test_framework/test_framework.py\", line 182, in main\n    self.run_test()\n  File \"/root/ci_scratch/build/test/functional/rpc_deprecated.py\", line 37, in run_test\n    assert_raises_rpc_error(-32, 'settxfee is deprecated and will be fully removed in v31.0.', self.nodes[0].rpc.settxfee, 0.01)\n                                                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'settxfee'\n```\n\n```bash\n131/318 - rpc_whitelist.py failed, Duration: 1 s\n\nstdout:\n2025-04-14T09:29:42.390000Z TestFramework (INFO): PRNG seed is: 3309837604605811676\n2025-04-14T09:29:42.390000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_‚Çø_üèÉ_20250414_092629/rpc_whitelist_186\n2025-04-14T09:29:43.102000Z TestFramework (INFO): [user1]: Testing a non permitted permission (getnetworkinfo)\n2025-04-14T09:29:43.102000Z TestFramework (ERROR): Unexpected exception caught during testing\nTraceback (most recent call last):\n  File \"/root/ci_scratch/test/functional/test_framework/test_framework.py\", line 182, in main\n    self.run_test()\n  File \"/root/ci_scratch/build/test/functional/rpc_whitelist.py\", line 78, in run_test\n    assert_equal(403, rpccall(self.nodes[0], user, permission).status)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/ci_scratch/build/test/functional/rpc_whitelist.py\", line 20, in rpccall\n    conn = http.client.HTTPConnection(url.hostname, url.port)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 880, in __init__\n    (self.host, self.port) = self._get_hostport(host, port)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/lib/python3.12/http/client.py\", line 926, in _get_hostport\n    i = host.rfind(':')\n        ^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'rfind'\n```\n\n```bash\n90/318 - feature_bip68_sequence.py failed, Duration: 58 s\n\nstdout:\n2025-04-14T09:28:25.778000Z TestFramework (INFO): PRNG seed is: 2393500354933353065\n2025-04-14T09:28:25.779000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_‚Çø_üèÉ_20250414_092629/feature_bip68_sequence_271\n2025-04-14T09:28:26.365000Z TestFramework (INFO): Running test disable flag\n2025-04-14T09:28:26.430000Z TestFramework (INFO): Running test sequence-lock-confirmed-inputs\n2025-04-14T09:29:22.254000Z TestFramework (INFO): Running test sequence-lock-unconfirmed-inputs\n2025-04-14T09:29:23.869000Z TestFramework (ERROR): Assertion failed\nTraceback (most recent call last):\n  File \"/root/ci_scratch/test/functional/test_framework/test_framework.py\", line 182, in main\n    self.run_test()\n  File \"/root/ci_scratch/build/test/functional/feature_bip68_sequence.py\", line 73, in run_test\n    self.test_sequence_lock_unconfirmed_inputs()\n  File \"/root/ci_scratch/build/test/functional/feature_bip68_sequence.py\", line 336, in test_sequence_lock_unconfirmed_inputs\n    assert_equal(None if i == 1 else 'inconclusive', self.nodes[0].submitblock(block.serialize().hex()))\n  File \"/root/ci_scratch/test/functional/test_framework/util.py\", line 77, in assert_equal\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\nAssertionError: not(None == )\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-04-14T09:36:43Z",
      "updated_at": "2025-07-03T09:20:11Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/32264",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "> File \"/root/ci_scratch/build/test/functional/rpc_deprecated.py\", line 37, in run_test\n>     assert_raises_rpc_error(-32, 'settxfee is deprecated and will be fully removed in v31.0.', self.nodes[0].rpc.settxfee, 0.01)\n>                                                                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^\n> AttributeError: 'NoneType' object has no attribute 'settxfee'\n\nThis one seems obvious: The `rpc` member field should almost never be used. Directly calling the RPC field via the getattr is better.\n\n\n\n> File \"/root/ci_scratch/build/test/functional/feature_bip68_sequence.py\", line 336, in test_sequence_lock_unconfirmed_inputs\n>     assert_equal(None if i == 1 else 'inconclusive', self.nodes[0].submitblock(block.serialize().hex()))\n>   File \"/root/ci_scratch/test/functional/test_framework/util.py\", line 77, in assert_equal\n>     raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\n> AssertionError: not(None == )\n\nThis affects a few RPCs, where json-none is an empty string for the cli,  see also https://github.com/bitcoin/bitcoin/issues/18476.\n\n\n\nFor the other issues, I haven't looked, but there is `self.supports_cli = False`.",
          "created_at": "2025-04-14T09:50:00Z"
        },
        {
          "user": "mzumsande",
          "body": "I'm looking into these currently, `supports_cli = False` is always possible of course but maybe we can fix the source of the failure instead in many cases?!\n\n> This affects a few RPCs, where json-none is an empty string for the cli, see also https://github.com/bitcoin/bitcoin/issues/18476.\n\nMy suggestion would be to have the test framework return `None` back to the the test if the cli is used and returns an empty string. That fixes a handful of the failing tests.\n\n[Edit]: #32286 (merged) fixed this problem, #32290 (open) attempts to fix the remaining ones.",
          "created_at": "2025-04-15T21:55:26Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 4,
    "issues": 3
  }
}