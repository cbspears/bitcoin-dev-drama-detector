{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:58:04.122046+00:00",
  "date": "2025-07-15",
  "pull_requests": [
    {
      "number": 32984,
      "title": "wallet: Set migrated wallet name only on success",
      "body": "After a wallet is migrated and we are trying to load it, if it could not be loaded, don't try to set the wallet name. Otherwise we have a segfault.\r\n\r\nThis can be tested by migrated a legacy wallet from another network (e.g. trying to migrate a testnet wallet on mainnet). The fixed behavior is return an error and restore the backup.",
      "state": "closed",
      "user": "achow101",
      "created_at": "2025-07-15T23:51:49Z",
      "updated_at": "2025-07-24T11:00:58Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32984",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32984.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/32984#pullrequestreview-3027069074), [davidgumberg](https://github.com/bitcoin/bitcoin/pull/32984#issuecomment-3081817336), [rkrux](https://github.com/bitcoin/bitcoin/pull/32984#pullrequestreview-3029198213), [w0xlt](https://github.com/bitcoin/bitcoin/pull/32984#pullrequestreview-3049114357), [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32984#pullrequestreview-3049774563) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T23:51:55Z"
        },
        {
          "user": "maflcko",
          "body": "> I was unable to write a working functional test for this behavior.\r\n\r\nIt should be pretty trivial, see https://github.com/bitcoin/bitcoin/pull/32988",
          "created_at": "2025-07-16T07:05:43Z"
        },
        {
          "user": "achow101",
          "body": "> > I was unable to write a working functional test for this behavior.\r\n> \r\n> It should be pretty trivial, see #32988\r\n\r\nAh, thanks. Pulled in that commit with some changes.",
          "created_at": "2025-07-16T18:06:14Z"
        },
        {
          "user": "davidgumberg",
          "body": "ACK 060695c22ae7b2b0f2a1d\r\n\r\nI think this change is good since we can't ever be certain that loading will always succeed after migration, but I think cases where we know migration will succeed but loading will fail should be addressed. i.e. shouldn't we also change migration so that the case used in the functional test never successfully migrated in the first place?\r\n\r\nNit: Update PR description now that functional test is included.\r\n\r\n",
          "created_at": "2025-07-16T23:47:10Z"
        }
      ]
    },
    {
      "number": 32983,
      "title": "rpc: refactor: use string_view in Arg/MaybeArg",
      "body": "The `RPCHelpMan::{Arg,MaybeArg}` helpers avoid copying (potentially) large strings by returning them as `const std::string*` (`MaybeArg`) or `const std::string&` (`Arg`). For `MaybeArg`, this has the not-so-nice effect that users need to deal with raw pointers, potentially also requiring new functions (e.g. [`EnsureUniqueWalletName` ](https://github.com/bitcoin/bitcoin/pull/32845/commits/d127b25199118756122232d9aafff19f1922869b#diff-d8bfcfbdd5fa7d5c52d38c1fe5eeac9ce5c5a794cdfaf683585140fa70a32374R32)) with raw pointers being implemented.\r\n\r\nThis PR aims to improve on this by returning a trivially copyable `std::string_view` (`Arg`) or `std::optional<std::string_view>` (`MaybeArg`), modernizing the interface without introducing any additional copying overhead. In doing so, it also generalizes whether we return by value or by pointer/reference using `std::is_trivially_copyable_v` instead of defining the types manually.\r\n\r\nIn cases where functions currently take a `const std::string&` and it would be too much work / touching consensus logic to update them (`signmessage.cpp`), a `std::string` copy is made (which was already happening anyway).\r\n\r\nThe last 2 commits increase usage of the `{Arg,MaybeArg}<std::string_view>` helpers, and could be dropped/pruned if anything turns out to be controversial - I just think it's a nice little cleanup.",
      "state": "closed",
      "user": "stickies-v",
      "created_at": "2025-07-15T23:23:25Z",
      "updated_at": "2025-11-20T11:37:41Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/32983",
      "labels": [
        "RPC/REST/ZMQ"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32983.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32983#pullrequestreview-3295778939), [w0xlt](https://github.com/bitcoin/bitcoin/pull/32983#pullrequestreview-3360026838), [maflcko](https://github.com/bitcoin/bitcoin/pull/32983#issuecomment-3442406618), [achow101](https://github.com/bitcoin/bitcoin/pull/32983#issuecomment-3444159368) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33117](https://github.com/bitcoin/bitcoin/pull/33117) (Interfaces: Expose UTXO Snapshot Loading and Add Progress Notifications by D33r-Gee)\n* [#32958](https://github.com/bitcoin/bitcoin/pull/32958) (wallet/refactor: change PSBTError to PSBTResult and remove std::optional<common::PSBTResult> and return common::PSBTResult by kevkevinpal)\n* [#32394](https://github.com/bitcoin/bitcoin/pull/32394) (net: make m_nodes_mutex non-recursive by vasild)\n* [#32065](https://github.com/bitcoin/bitcoin/pull/32065) (i2p: make a time gap between creating transient sessions and using them by vasild)\n* [#31664](https://github.com/bitcoin/bitcoin/pull/31664) (Fees:  add Fee rate Forecaster Manager by ismaelsadeeq)\n* [#31560](https://github.com/bitcoin/bitcoin/pull/31560) (rpc: allow writing UTXO set to a named pipe, introduce dump_to_sqlite.sh script by theStack)\n* [#30988](https://github.com/bitcoin/bitcoin/pull/30988) (Split CConnman by vasild)\n* [#30157](https://github.com/bitcoin/bitcoin/pull/30157) (Fee Estimation via Fee rate Forecasters by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T23:23:29Z"
        },
        {
          "user": "stickies-v",
          "body": "Force-pushed from [319abd6](https://github.com/bitcoin/bitcoin/commit/319abd609b3d2194e7a05454b6af55b6f16adbf1) to [b8772ef](https://github.com/bitcoin/bitcoin/commit/122b432b71e148cd85edcd74df741f99ac7f187c) to remove a `std::string` copy in `rpc/mining.cpp`, addressing (part of) @pablomartin4btc's feedback.\r\n\r\n---\r\n\r\n> It seems like we‚Äôre going from `string` ‚Üí `string_view` ‚Üí `string`\r\n\r\n`string_view` is a non-owning read-only reference, so by definition it has to point to some other string-like type. `string` ‚Üí `string_view` doesn't incur any allocations, is trivial, and by definition happens anytime we have a `string_view`. The `string_view` ‚Üí `string` operation indeed involves a new `std::string` allocation, and should be avoided where possible.\r\n\r\nIn `signmessage.cpp`, we were already coping the 3 strings, so 91a8ed27f3f9c58a210f02640371f274bdfcddbf does not add any overhead to what we currently have. We could optimize for performance and revert to using the `request.params[{0,1,2}}.get_str();` syntax which would eliminate the copies, but I don't think the cost of these copies is meaningful to the overall cost of this cryptographically heavy function. I'd personally favour readability and phasing out the old interface, but I'm happy to change that if reviewers prefer to optimize for performance here. Another alternative would be to keep the `Arg<std::string>` specialization, but I think it is much better to get rid of it now so it doesn't get used in new places.\r\n\r\nIn `mining.cpp`, 91a8ed27f3f9c58a210f02640371f274bdfcddbf indeed introduced a new allocation. I thought avoiding it would touch too much code change, but I just had another look and it's actually pretty trivial (and enables one more use case of the `Arg` helper in the last commit), so I force-pushed to improve that in 122b432b71e148cd85edcd74df741f99ac7f187c.  Thanks for your review!",
          "created_at": "2025-07-24T11:49:05Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `ARM, unit tests, no functional tests`: https://github.com/bitcoin/bitcoin/runs/46641144470</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by a compilation error in descriptors.cpp due to a type mismatch error involving 'const char*' being used where a 'std::span<const char>' is expected.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-24T12:11:15Z"
        },
        {
          "user": "stickies-v",
          "body": "> Is updating `MessageVerify` something you‚Äôd prefer to avoid at this stage?\r\n\r\nYes. It involves a cascade of changes, many touching consensus code, that require significant review and have mostly nothing to do with RPC, so it would blow up the scope of this PR.",
          "created_at": "2025-07-24T14:10:17Z"
        },
        {
          "user": "stickies-v",
          "body": "Force-pushed from [122b432](https://github.com/bitcoin/bitcoin/commit/122b432b71e148cd85edcd74df741f99ac7f187c) to [137319b](https://github.com/bitcoin/bitcoin/commit/137319b5d6b0c4fa9e015608d6b43018f08db45c) to address silent merge conflict from https://github.com/bitcoin/bitcoin/pull/32845:\r\n- replaced `self.MaybeArg<std::string>` with `self.MaybeArg<std::string_view>` in `wallet/rpc/wallet.cpp`\r\n- updated `EnsureUniqueWalletName` signature to take `std::optional<std::string_view>` instead of `const std::string*`.\r\n\r\nOtherwise no changes.",
          "created_at": "2025-07-25T20:33:28Z"
        },
        {
          "user": "stickies-v",
          "body": "Rebased to address merge conflict from #32896, no other changes.",
          "created_at": "2025-08-19T11:39:04Z"
        },
        {
          "user": "maflcko",
          "body": "re-ACK b49a4f17aba76d2f2d7f1109d7e68b02303947bf üì¶\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK b49a4f17aba76d2f2d7f1109d7e68b02303947bf üì¶\r\nJW4EvwaR4XLQhcR6T9hGyLgtYsINoIScF38nceTExXcoMNow8XF1qF09JmqP0GHa9MG74bnoJu39PvfdvemcAg==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-09-01T05:31:36Z"
        },
        {
          "user": "maflcko",
          "body": "Still looks like a nice change using more named `Arg` and `MaybeArg` helpers, removing the manual `params[idx].isNull` and `params[idx].get_str` legacy handling.\r\n\r\nre-ACK b63428ac9ce2c903670409b3e47b9f6730917ae8 üéâ\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK b63428ac9ce2c903670409b3e47b9f6730917ae8 üéâ\r\n01hezAbAsrlrdi4mpWuS//0Xux46CJ9DK+oK6Cc5/o5ajTTSoqllwMLFJZ8l95e7b/JyycTSig4pZ49xrkuVAA==\r\n```\r\n\r\n</details>\r\n\r\nrfm?",
          "created_at": "2025-10-24T10:28:06Z"
        },
        {
          "user": "achow101",
          "body": "ACK b63428ac9ce2c903670409b3e47b9f6730917ae8",
          "created_at": "2025-10-24T17:17:41Z"
        },
        {
          "user": "Sjors",
          "body": "See #33914 for a followup.",
          "created_at": "2025-11-20T11:37:41Z"
        }
      ]
    },
    {
      "number": 32982,
      "title": "set min tx fee to 100sat/kvB",
      "body": "as the price of bitcoin rose and the mempool is already filled with 100sat/kvB txs, accept this reality and reflect the change in the current policy/code\r\n",
      "state": "closed",
      "user": "puchu",
      "created_at": "2025-07-15T19:13:41Z",
      "updated_at": "2025-07-15T19:15:23Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32982",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32982.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T19:13:45Z"
        },
        {
          "user": "pinheadmz",
          "body": "closing as duplicate of https://github.com/bitcoin/bitcoin/pull/32959",
          "created_at": "2025-07-15T19:15:23Z"
        }
      ]
    },
    {
      "number": 32981,
      "title": ".",
      "body": "<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
      "state": "closed",
      "user": "Sazwan96",
      "created_at": "2025-07-15T17:17:24Z",
      "updated_at": "2025-07-15T17:18:50Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32981",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32981.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T17:17:29Z"
        },
        {
          "user": "Sazwan96",
          "body": "Helo",
          "created_at": "2025-07-15T17:17:42Z"
        }
      ]
    },
    {
      "number": 32980,
      "title": ".",
      "body": "<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
      "state": "closed",
      "user": "Sazwan96",
      "created_at": "2025-07-15T17:07:34Z",
      "updated_at": "2025-07-15T17:08:43Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32980",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32980.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T17:07:39Z"
        }
      ]
    },
    {
      "number": 32979,
      "title": "test: Check that the GUI interactive reindex works",
      "body": "Given that several bugs have been introduced in the last release alone (https://github.com/bitcoin/bitcoin/pull/31346#discussion_r2207914726, https://github.com/bitcoin/bitcoin/pull/30965#discussion_r2207822121, ...), it could make sense to test this code path.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-07-15T15:59:13Z",
      "updated_at": "2025-07-16T05:20:14Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32979",
      "labels": [
        "Tests",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32979.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T15:59:18Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46027241170</sub>\n<sub>LLM reason (‚ú® experimental): Lint check failed due to a `ruff` error caused by an unused import in the Python code.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-15T18:35:09Z"
        },
        {
          "user": "maflcko",
          "body": "fix (and this test) in https://github.com/bitcoin/bitcoin/pull/32987",
          "created_at": "2025-07-16T05:20:04Z"
        }
      ]
    },
    {
      "number": 32978,
      "title": "fix: Python 3 bytes comparison in linearize-data.py",
      "body": "Replace comparison of a bytes element to the string literal \"\\0\" with an integer 0 in linearize-data.py to ensure correct behavior in Python 3. In Python 3, indexing a bytes object returns an integer, not a single-character string, so the previous comparison would always be false. This change improves compatibility and correctness of the script when detecting end-of-file or null bytes.\r\n\r\n",
      "state": "closed",
      "user": "Galoretka",
      "created_at": "2025-07-15T15:50:07Z",
      "updated_at": "2025-07-16T18:29:34Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32978",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32978.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T15:50:12Z"
        },
        {
          "user": "maflcko",
          "body": "Are there steps to reproduce, or a test to confirm the fix?",
          "created_at": "2025-07-15T16:38:12Z"
        },
        {
          "user": "Galoretka",
          "body": "> Are there steps to reproduce, or a test to confirm the fix?\r\n\r\nThe change is necessary because, in Python 3, indexing a bytes object returns an integer, not a single-character string. For example:\r\n> ```python\r\n> b\"\\0\"[0] == \"\\0\" # always False in Python 3\r\n> b\"\\0\"[0] == 0 # True\r\n> ```\r\nSo, the previous comparison would never detect a null byte as intended.",
          "created_at": "2025-07-15T18:15:36Z"
        },
        {
          "user": "maflcko",
          "body": "I was asking about an end-to-end test, like test/functional/feature_loadblock.py or by calling linearize-data.py  manually",
          "created_at": "2025-07-15T18:17:28Z"
        }
      ]
    },
    {
      "number": 32977,
      "title": "wallet: Remove wallet version and several legacy related functions",
      "body": "This PR incorporates the suggestion provided by PRabahy and pablomartin4btc in https://github.com/bitcoin/bitcoin/pull/32944 of removing `CWallet::nWalletVersion` and several related functions, such as `SetMinVersion()`, `GetVersion()`, `GetClosestWalletFeature()`, `IsFeatureSupported()`, `CanSupportFeature()`, etc ...\r\n\r\nThis field is no longer used in the descriptor wallet and there is still a lot of code related to it, so the changes here provide a good cleanup in the wallet code.\r\n\r\nBuilt on top of https://github.com/bitcoin/bitcoin/pull/32944",
      "state": "closed",
      "user": "w0xlt",
      "created_at": "2025-07-15T08:20:12Z",
      "updated_at": "2025-08-15T23:38:35Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32977",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32977.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32977#issuecomment-3126623052), [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32977#pullrequestreview-3103840464), [achow101](https://github.com/bitcoin/bitcoin/pull/32977#issuecomment-3192994561) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33043](https://github.com/bitcoin/bitcoin/pull/33043) ([POC] wallet: Enable non-electronic (paper-based) wallet backup with codex32 by w0xlt)\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#32895](https://github.com/bitcoin/bitcoin/pull/32895) (wallet: Prepare for future upgrades by recording versions of last client to open and decrypt by achow101)\n* [#32603](https://github.com/bitcoin/bitcoin/pull/32603) (rpc, doc: clarify wallet version in getwalletinfo help by rkrux)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T08:20:17Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46032167315</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by lint errors, including an unused variable warning and trailing whitespace issues, which caused the lint check to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-15T17:32:57Z"
        },
        {
          "user": "w0xlt",
          "body": "@pablomartin4btc thanks for the detailed review. I've addressed all your comments.",
          "created_at": "2025-07-15T17:46:14Z"
        },
        {
          "user": "w0xlt",
          "body": "Rebased. Ready for reviews.",
          "created_at": "2025-07-25T21:53:54Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm, but I haven't reviewed the hd-split refactor. I'd say it would be good to add a test for this, using a previous release to create an ancient wallet, and then checking that the migration works as expected?\r\n\r\nreview ACK 60d1042b9a4db8daf9fffdc29053652e99b7126e üêæ\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 60d1042b9a4db8daf9fffdc29053652e99b7126e üêæ\r\nBpiTgZvW7U15rsCHuiBRDBIwD0rs/b7vScLRfC2s1IWNtrwW3cJXMZypARYkTwzRNhBXI5/kGmwWHkrYhA8BCg==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-07-28T10:39:47Z"
        },
        {
          "user": "w0xlt",
          "body": "From what I understand, you're requesting tests for the non-HD wallet and the single-chain HD wallet (`VERSION_HD_BASE`) because, as far as I know, the dual-chain wallet migration (`VERSION_HD_CHAIN_SPLIT`) has already been tested in `wallet_backwards_compatibility.py`.\r\n\r\nIf that's the case, I've added those tests in #33186.",
          "created_at": "2025-08-13T18:55:54Z"
        },
        {
          "user": "achow101",
          "body": "ACK 60d1042b9a4db8daf9fffdc29053652e99b7126e",
          "created_at": "2025-08-15T23:28:15Z"
        }
      ]
    },
    {
      "number": 32975,
      "title": "assumevalid: log every script validation state change",
      "body": "The `-assumevalid` option skips script verification for a specified block and all its ancestors during Initial Block Download.\r\nMany new [users are surprised](https://github.com/bitcoin/bitcoin/issues/32832) when this suddenly slows their node to a halt.\r\nThis commit adds a log message to clearly indicate when this optimization ends and full validation begins (and vice versa).\r\n\r\n<details>\r\n<summary>Testing instructions</summary>\r\n\r\nThe behavior can easily be tested by adding this before the new log:\r\n```C++\r\n    // TODO hack to enable/disable script checks based on block height for testing purposes\r\n         if (pindex->nHeight < 100) fScriptChecks = false;\r\n    else if (pindex->nHeight < 200) fScriptChecks = true;\r\n    else if (pindex->nHeight < 300) fScriptChecks = false;\r\n    else if (pindex->nHeight < 400) fScriptChecks = true;\r\n```\r\nand exercise the new code with:\r\n```bash\r\ncmake -B build && cmake --build build && mkdir -p demo && build/bin/bitcoind -datadir=demo -stopatheight=500 | grep 'signature validation'\r\n```\r\nshowing something like:\r\n* Disabling signature validations at block #‚Äã1 (00000000839a8e6886ab5951d76f411475428afc90947ee320161bbf18eb6048).\r\n* Enabling signature validations at block #‚Äã100 (000000007bc154e0fa7ea32218a72fe2c1bb9f86cf8c9ebf9a715ed27fdb229a).\r\n* Disabling signature validations at block #‚Äã200 (000000008f1a7008320c16b8402b7f11e82951f44ca2663caf6860ab2eeef320).\r\n* Enabling signature validations at block #‚Äã300 (0000000062b69e4a2c3312a5782d7798b0711e9ebac065cd5d19f946439f8609).\r\n\r\n</details>\r\n",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-07-15T05:14:42Z",
      "updated_at": "2025-09-08T06:34:54Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32975",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32975.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/32975#issuecomment-3177011727), [ajtowns](https://github.com/bitcoin/bitcoin/pull/32975#issuecomment-3186633753), [davidgumberg](https://github.com/bitcoin/bitcoin/pull/32975#issuecomment-3190175619) |\n| Concept ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/32975#pullrequestreview-3081040650) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-15T05:14:45Z"
        },
        {
          "user": "l0rinc",
          "body": "Ran a reindex until 890k without `-assumevalid` to make sure it works for an actual IBD/reindex as well:\r\n```python\r\n2025-07-16T04:43:03Z UpdateTip: new best=00000000000000000001b658dd1120e82e66d2790811f89ede9742ada3ed6d77 height=886157 version=0x22024000 log2_work=95.475345 tx=1161875261 date='2025-03-03T15:52:21Z' progress=0.955815 cache=4682.3MiB(34814627txo)\r\n2025-07-16T04:43:03Z Started signature validation at block 000000000000000000022614dc170eadb7b544824cbcdb0732bdeca42839aa37.\r\n2025-07-16T04:43:04Z UpdateTip: new best=000000000000000000022614dc170eadb7b544824cbcdb0732bdeca42839aa37 height=886158 version=0x24c3a000 log2_work=95.475357 tx=1161878233 date='2025-03-03T15:56:42Z' progress=0.955816 cache=4682.3MiB(34814461txo)\r\n```",
          "created_at": "2025-07-16T17:33:06Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/47715147143</sub>\n<sub>LLM reason (‚ú® experimental): Lint errors due to duplicate include statements caused the CI failure.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-08T23:48:05Z"
        },
        {
          "user": "achow101",
          "body": "ACK fab2980bdc55b5c77f574f879a6ab62db5eda427",
          "created_at": "2025-08-11T21:55:17Z"
        },
        {
          "user": "ajtowns",
          "body": "crACK fab2980bdc55b5c77f574f879a6ab62db5eda427\r\n\r\ncode and tests look good; no opinion on how useful this will be at solving confusion over IBD speed",
          "created_at": "2025-08-14T03:17:47Z"
        },
        {
          "user": "davidgumberg",
          "body": "untested crACK https://github.com/bitcoin/bitcoin/commit/fab2980bdc55b5c77f574f879a6ab62db5eda427\r\n\r\nIt seems useful to me to log when signature validations begin during an assumevalid IBD.",
          "created_at": "2025-08-14T23:22:10Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32976,
      "title": "GUI bitcoin core shows wrong amount",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nI have in my bitcoin core 2 addresses for deposit. I see in GUI bitcoin core 0.3 btc, but if I check both addresses by blockchain I will see that one address 0.2 btc and the second one is empty\nSo I dont understand where I miss 0.1 btc, I dont see it on addresses, but I see it in programm GUI\n\n### Expected behaviour\n\nI dont know\n\n### Steps to reproduce\n\nI dont know if someone have this bug like me\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nOther\n\n### What version of Bitcoin Core are you using?\n\n28.2\n\n### Operating system and version\n\nWindows 10 x64\n\n### Machine specifications\n\n_No response_",
      "state": "closed",
      "user": "Username7823553",
      "created_at": "2025-07-15T07:13:56Z",
      "updated_at": "2025-07-17T15:14:03Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/issues/32976",
      "labels": [
        "Questions and Help"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "That is likely a change address, which is created normally. See for example https://bitcoin.stackexchange.com/questions/736/how-does-change-work-in-a-bitcoin-transaction\n\n\nUsually the issue tracker is used to track technical issues related to the Bitcoin Core code base.\n\nGeneral bitcoin questions and/or support requests are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com) or the `#bitcoin` IRC channel on Libera Chat, or one of the Bitcoin subreddits, or any other place that you feel is well suited.\n\n",
          "created_at": "2025-07-15T07:39:31Z"
        },
        {
          "user": "Username7823553",
          "body": "> That is likely a change address, which is created normally. See for example https://bitcoin.stackexchange.com/questions/736/how-does-change-work-in-a-bitcoin-transaction\n> \n> Usually the issue tracker is used to track technical issues related to the Bitcoin Core code base.\n> \n> General bitcoin questions and/or support requests are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com) or the `#bitcoin` IRC channel on Libera Chat, or one of the Bitcoin subreddits, or any other place that you feel is well suited.\n\nThx, yes it's problem like mine, but in thread not info about how to make it visible, this new address with change",
          "created_at": "2025-07-15T08:27:47Z"
        },
        {
          "user": "maflcko",
          "body": "You can use the coin selection expert feature, or the RPC interface",
          "created_at": "2025-07-15T09:57:03Z"
        },
        {
          "user": "Username7823553",
          "body": "> You can use the coin selection expert feature, or the RPC interface\n\nCan you give some manual ? I need to get btc from that address, from change address",
          "created_at": "2025-07-16T17:58:02Z"
        },
        {
          "user": "maflcko",
          "body": "coin control is an expert feature, but you can enable it in \n\n    Settings > Options > Wallet\n    Check \"Enable coin control features (experts only!)\"\n\nThe RPC has a manual, you can just go to \"Window\"->\"Console\" and type `help`.",
          "created_at": "2025-07-16T18:16:38Z"
        },
        {
          "user": "Username7823553",
          "body": "> coin control is an expert feature, but you can enable it in\n> \n> ```\n> Settings > Options > Wallet\n> Check \"Enable coin control features (experts only!)\"\n> ```\n> \n> The RPC has a manual, you can just go to \"Window\"->\"Console\" and type `help`.\n\nYes I understand this. But I dont understand how to send that btc(UTXO as I understand) from invisible wallet to my visible wallet with all other btc )",
          "created_at": "2025-07-17T15:14:02Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 9,
    "issues": 1
  }
}