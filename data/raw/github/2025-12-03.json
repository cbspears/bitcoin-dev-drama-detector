{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:36:52.527304+00:00",
  "date": "2025-12-03",
  "pull_requests": [
    {
      "number": 34003,
      "title": "test: interface_ipc.py minor fixes and cleanup",
      "body": "This PR cleans up the `interface_ipc.py` test, fixing broken checks, fixing missing await calls, removing to_dict calls, renaming variables, reducing `.result` accesses, and giving template objects explicit lifetimes. More details are in the commit messages.\r\n\r\nThe first commit changes a lot of indentation so is easiest to review ignoring whitespace.",
      "state": "closed",
      "user": "ryanofsky",
      "created_at": "2025-12-03T21:23:36Z",
      "updated_at": "2025-12-19T07:51:12Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/34003",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34003.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/34003#issuecomment-3632193600), [sedited](https://github.com/bitcoin/bitcoin/pull/34003#pullrequestreview-3582309850) |\n| Concept ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/34003#pullrequestreview-3544944968), [mercie-ux](https://github.com/bitcoin/bitcoin/pull/34003#issuecomment-3619834301) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34020](https://github.com/bitcoin/bitcoin/pull/34020) (mining: add getTransactions(ByWitnessID) IPC methods by Sjors)\n* [#33965](https://github.com/bitcoin/bitcoin/pull/33965) (mining: fix -blockreservedweight shadows IPC option by Sjors)\n* [#33936](https://github.com/bitcoin/bitcoin/pull/33936) (mining: pass missing context to createNewBlock() and checkBlock() by Sjors)\n* [#33922](https://github.com/bitcoin/bitcoin/pull/33922) (mining: add getMemoryLoad() and track template non-mempool memory footprint by Sjors)\n* [#33819](https://github.com/bitcoin/bitcoin/pull/33819) (mining: getCoinbase() returns struct instead of raw tx by Sjors)\n* [#32420](https://github.com/bitcoin/bitcoin/pull/32420) (miner: drop dummy extraNonce in coinbase scriptSig for templates requested via IPC by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-12-03T21:23:43Z"
        },
        {
          "user": "fanquake",
          "body": "cc @Sjors ",
          "created_at": "2025-12-04T10:29:29Z"
        },
        {
          "user": "Sjors",
          "body": "> Destroy calls were being made at the end of the test instead of after templates were no longer needed.\r\n\r\nI take advantage of that in #33922, but I'll figure out a way to rebase if needed. E.g. I can just add another test with multiple templates.\r\n\r\nI tested on macOS 26.1 that the tests still pass.\r\n\r\nCan you split this into a few commits as it's quite a long list of changes now.",
          "created_at": "2025-12-04T10:53:06Z"
        },
        {
          "user": "ryanofsky",
          "body": "<!-- begin push-2 -->\r\nUpdated d179f713792432c82befd39a288ab16fec13bab1 -> 6ef092c0e4343fc421c323ff09d3c791fb4bc33a ([`pr/pyipc.1`](https://github.com/ryanofsky/bitcoin/commits/pr/pyipc.1) -> [`pr/pyipc.2`](https://github.com/ryanofsky/bitcoin/commits/pr/pyipc.2), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/pyipc.1..pr/pyipc.2))<!-- end --> splitting into two commits\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/34003#issuecomment-3611494379\r\n\r\n> > Destroy calls were being made at the end of the test instead of after templates were no longer needed.\r\n> \r\n> I take advantage of that in #33922, but I'll figure out a way to rebase if needed. E.g. I can just add another test with multiple templates.\r\n\r\nI think this shouldn't change #33922 too much. You should be able to just add the check for nonzero memory usage inside the `with` block and the check for zero memory usage after it.\r\n\r\n> Can you split this into a few commits as it's quite a long list of changes now.\r\n\r\nYes, I split off a minimal change just introducing the context managers as the first commit, since it changes a lot of indentation. It should be pretty easy to review ignoring whitespace. The second commit contains all the other changes and should be more straightforward now. I could split it up more if desired, but it might be actually more work to review if the same lines change multiple times, so I kept it together for now.",
          "created_at": "2025-12-04T20:17:26Z"
        },
        {
          "user": "mercie-ux",
          "body": "Concept ACK  #34003  \r\n\r\nI ran the interface_ipc.py test locally and it passes. The PR cleans up the test by fixing broken checks, missing await calls, and variable naming. \r\n\r\nI’m new to PR reviews, but from what I can tell, the changes seem correct and improve readability. I don’t see any issues with the changes.\r\n",
          "created_at": "2025-12-06T10:01:29Z"
        },
        {
          "user": "Sjors",
          "body": "ACK a5e61b1917aff7567599beb59cc7093978b7e336\r\n\r\nThough it would be nice to also fix this:\r\n\r\n> for some reason `waitTipChanged` always seems to return right away even when the tip has not changed\r\n\r\nBecause the timeout argument defaults to 0 when called from Python.\r\n\r\n```diff\r\ndiff --git a/test/functional/interface_ipc.py b/test/functional/interface_ipc.py\r\nindex 913aea16de..5242d61c1e 100755\r\n--- a/test/functional/interface_ipc.py\r\n+++ b/test/functional/interface_ipc.py\r\n@@ -162,8 +162,10 @@ class IPCInterfaceTest(BitcoinTestFramework):\r\n             current_block_height = self.nodes[0].getchaintips()[0][\"height\"]\r\n             assert blockref.result.height == current_block_height\r\n             self.log.debug(\"Mine a block\")\r\n-            self.generate(self.nodes[0], 1)\r\n-            newblockref = (await mining.waitTipChanged(ctx, blockref.result.hash)).result\r\n+            newblockref = (await wait_and_do(\r\n+                mining.waitTipChanged(ctx, blockref.result.hash, timeout),\r\n+                lambda: self.generate(self.nodes[0], 1),\r\n+            )).result\r\n             assert_equal(len(newblockref.hash), block_hash_size)\r\n             assert_equal(newblockref.height, current_block_height + 1)\r\n             self.log.debug(\"Wait for timeout\")\r\n```\r\n\r\n(I find it more readable to have the `wait` and `do` arguments on separate lines) ",
          "created_at": "2025-12-09T09:00:48Z"
        },
        {
          "user": "ryanofsky",
          "body": "Nice suggestion!\r\n\r\n<!-- begin push-4 -->\r\nUpdated c358910b8cd6d1db51c10becb0cbcb58709b738f -> d8fe5f0326c5c0505e0f7e6e978961d24c27b175 ([`pr/pyipc.3`](https://github.com/ryanofsky/bitcoin/commits/pr/pyipc.3) -> [`pr/pyipc.4`](https://github.com/ryanofsky/bitcoin/commits/pr/pyipc.4), [compare](https://github.com/ryanofsky/bitcoin/compare/pr/pyipc.3..pr/pyipc.4))<!-- end -->  applying waitTipChanged suggestion and reformatting wait_and_do calls\r\n",
          "created_at": "2025-12-09T12:50:10Z"
        },
        {
          "user": "Sjors",
          "body": "ACK d8fe5f0326c5c0505e0f7e6e978961d24c27b175",
          "created_at": "2025-12-09T13:10:33Z"
        },
        {
          "user": "Sjors",
          "body": "The first commit in https://github.com/bitcoin/bitcoin/pull/33965 improves the `{create_block,wait_next}_template` helpers to return `None` if there's a timeout or failure.",
          "created_at": "2025-12-19T07:51:12Z"
        }
      ]
    },
    {
      "number": 34001,
      "title": "test: fix test_limit_enforcement_package",
      "body": "The current test has a couple issues:\r\n\r\n1) the parent_tx_good is regenerating the exact same transaction that is already in the cluster, so it's resulting in no replacements on submission\r\n2) once fixed, the additional fee needs to be allocated to the parent transaction in the package, not the child. If the RBF fees are allocated to the child, this triggers the package RBF logic, which requires no in-mempool ancestors to be present.\r\n\r\nFix the bug and add a few assertions to protect against regressions.\r\n\r\n",
      "state": "open",
      "user": "instagibbs",
      "created_at": "2025-12-03T18:00:12Z",
      "updated_at": "2026-01-06T18:48:29Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/34001",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34001.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [bensig](https://github.com/bitcoin/bitcoin/pull/34001#issuecomment-3715888100) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (✨ experimental)\n\n\n\nPossible typos and grammar issues:\n\n- its meant -> it's meant [missing apostrophe; \"its\" (possessive) should be \"it's\" (it is) to mean \"as it is meant to replace\"]\n\n\n\n<sup>2025-12-03</sup>\n",
          "created_at": "2025-12-03T18:00:18Z"
        },
        {
          "user": "instagibbs",
          "body": "cc @sdaftuar @glozow ",
          "created_at": "2025-12-03T18:03:56Z"
        },
        {
          "user": "bensig",
          "body": "ACK 0a8d303d667cc10a68fd15d799039b9ae26c3315",
          "created_at": "2026-01-06T18:48:26Z"
        }
      ]
    },
    {
      "number": 33997,
      "title": "[30.x] Backports & 30.1rc1",
      "body": "Backports:\r\n* #32009\r\n* #33528\r\n* #33723\r\n* #33996\r\n\r\nPrior `30.x` backports in #33609.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-12-03T11:34:01Z",
      "updated_at": "2025-12-05T15:01:25Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33997",
      "labels": [
        "Backport"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33997.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33997#pullrequestreview-3544326443), [marcofleon](https://github.com/bitcoin/bitcoin/pull/33997#pullrequestreview-3544399527) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-12-03T11:34:11Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 34002,
      "title": "Request to help mining two Nonstandard UTXO which fails cleanstack",
      "body": "### Please describe the feature you'd like to see added.\n\nI have 2 anybody can spend UTXO which fails cleanstack validation which says non-mandatory script verify flag(Stack size must be exactly one after execution) for P2SH, the script passes consensus perfectly as top item is true but get problem here even if it ends with 2 elements gives the same error. Requesting you to at least make it 5 elements max on the stack .\n\n### Is your feature related to a problem, if so please describe it.\n\n_No response_\n\n### Describe the solution you'd like\n\nJust requesting for a bit change in standard policy for the number of elements on the stack should be <=5\n\n### Describe any alternatives you've considered\n\n_No response_\n\n### Please leave any additional context\n\n_No response_",
      "state": "closed",
      "user": "Sreejitroy",
      "created_at": "2025-12-03T20:31:44Z",
      "updated_at": "2025-12-03T21:56:30Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/34002",
      "labels": [
        "Feature"
      ],
      "comment_list": [
        {
          "user": "pinheadmz",
          "body": "The Bitcoin Core issue tracker is reserved for specific software issues like bug reports and feature requests. Individual help inquiries or general Bitcoin usage questions are more appropriate at https://bitcoin.stackexchange.com https://reddit.com/r/bitcoin or IRC channels such as `#bitcoin`",
          "created_at": "2025-12-03T21:56:30Z"
        }
      ]
    },
    {
      "number": 34000,
      "title": "fuzz: crash in psbt fuzzer",
      "body": "From: https://github.com/bitcoin/bitcoin/pull/29675#discussion_r2585106930:\n\n> looks like this line crashes:\n\n```bash\n$ echo 'cHNidP8BAP0+AQIAAAAGy4dxGNHKAQgFPtEAoVgyMqb+N0ghgmdne5OjULYs2sUAAAr/AP3////L\nfnEY0crZmwU+EVahszExpv43SCGCZ2d7k6NQtizaOwADAC4ABHwdAMt+cRjRytmbBT4RVqFYMTGm\n/jdIIYJnZ3uTo1AAOwAsAAC2KwD9////hqbXlTl39C5ZmAtOAI4+zy32vWLVnyQjw7IvQsBa6rYA\nAAcAAP3//zKG/zqgb7JIwmli68xeUjUXVp+c4b/tvc55IsAI4yQAAAAAAAAA/f///8t/0cpxGNmb\nBT4RVqFYMTOm/jdIIXj///8AAAAAgNo7AACAAAD9//3/AiHf9QUAAAAAFgAU9/Ykq9yiCFGnUpsi\nRsS6FFGLkQEAAAAAAAABABYAFEEQliEApQAADCBABv78gsn+/////wAAAAAAAAAAACIagHQAAAAV\nDLQyJycoAHNiKDIDAEIAAEEA/wEABgDI/jdIIYJnZ3uTo1AAOwAsAAC2KwD9////hqbXAY9zeZ10\nc/zcAAEBK2ECEWUrKwAAIlEgcPx0K2ICYgQkKwABAQEBAQsCAgAERUIADwADAAADmSsAAAA=' | base64 --decode > /tmp/crash.bin \n\n\n$ FUZZ=psbt ./bld-cmake/bin/fuzz -runs=1 /tmp/crash.bin \nINFO: Running with entropic power schedule (0xFF, 100).\nINFO: Seed: 494792800\nINFO: Loaded 1 modules   (385403 inline 8-bit counters): 385403 [0x55c06b279420, 0x55c06b2d759b), \nINFO: Loaded 1 PC tables (385403 PCs): 385403 [0x55c06b2d75a0,0x55c06b8b8d50), \n./bld-cmake/bin/fuzz: Running 1 inputs 1 time(s) each.\nRunning: /tmp/crash.bin\n/usr/bin/../include/c++/v1/span:512: assertion __offset <= size() failed: span<T>::subspan(offset, count): offset out of range\n```\n(needs a hardened libc++, msan, or valgrind)\n",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-12-03T13:27:23Z",
      "updated_at": "2025-12-03T13:27:55Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/34000",
      "labels": []
    },
    {
      "number": 33999,
      "title": "FUZZ=psbt in musig2, runs into uninitialized read",
      "body": "(found by Murch in https://github.com/bitcoin-core/qa-assets/pull/246)\n\n _Originally posted by @maflcko in https://github.com/bitcoin/bitcoin/pull/29675#discussion_r2585106930_\n\n(needs a hardened libc++, msan, or valgrind)\n\n```\n$ echo 'cHNidP8BAP0+AQIAAAAGy4dxGNHKAQgFPtEAoVgyMqb+N0ghgmdne5OjULYs2sUAAAr/AP3////L\nfnEY0crZmwU+EVahszExpv43SCGCZ2d7k6NQtizaOwADAC4ABHwdAMt+cRjRytmbBT4RVqFYMTGm\n/jdIIYJnZ3uTo1AAOwAsAAC2KwD9////hqbXlTl39C5ZmAtOAI4+zy32vWLVnyQjw7IvQsBa6rYA\nAAcAAP3//zKG/zqgb7JIwmli68xeUjUXVp+c4b/tvc55IsAI4yQAAAAAAAAA/f///8t/0cpxGNmb\nBT4RVqFYMTOm/jdIIXj///8AAAAAgNo7AACAAAD9//3/AiHf9QUAAAAAFgAU9/Ykq9yiCFGnUpsi\nRsS6FFGLkQEAAAAAAAABABYAFEEQliEApQAADCBABv78gsn+/////wAAAAAAAAAAACIagHQAAAAV\nDLQyJycoAHNiKDIDAEIAAEEA/wEABgDI/jdIIYJnZ3uTo1AAOwAsAAC2KwD9////hqbXAY9zeZ10\nc/zcAAEBK2ECEWUrKwAAIlEgcPx0K2ICYgQkKwABAQEBAQsCAgAERUIADwADAAADmSsAAAA=' | base64 --decode > /tmp/crash.bin \n\n\n$ FUZZ=psbt ./bld-cmake/bin/fuzz -runs=1 /tmp/crash.bin \nINFO: Running with entropic power schedule (0xFF, 100).\nINFO: Seed: 494792800\nINFO: Loaded 1 modules   (385403 inline 8-bit counters): 385403 [0x55c06b279420, 0x55c06b2d759b), \nINFO: Loaded 1 PC tables (385403 PCs): 385403 [0x55c06b2d75a0,0x55c06b8b8d50), \n./bld-cmake/bin/fuzz: Running 1 inputs 1 time(s) each.\nRunning: /tmp/crash.bin\n/usr/bin/../include/c++/v1/span:512: assertion __offset <= size() failed: span<T>::subspan(offset, count): offset out of range\n```\n\nA shorter input:\n\n```\n$ echo 'cHNidP8BADMAAZJuAQAAAAAAAAAAAABMHQD/AAAAAAAAAAAA//////9BAB4AjIwAAAD5////AAAA\n/NwAAQErYQIAAAAAAAAiUSBw/G0rYgJicCsrtgAA2P//+HN0AAIA+f//7gAF++8AACIaCAEAAP8A\ncHNidP8BABMAAiEeAAEXDD4AAAEBAACCpP73IUL8j3+PjNNzYnT/AAAAAAAAlpb/AAAAAAAAAAYE\nAisAAAA=' | base64 --decode > /tmp/crash.bin ",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-12-03T13:26:36Z",
      "updated_at": "2026-01-05T22:56:50Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/33999",
      "labels": [
        "Fuzzing"
      ],
      "comment_list": [
        {
          "user": "fanquake",
          "body": "cc @achow101 @fjahr @rkrux ",
          "created_at": "2025-12-03T13:28:44Z"
        },
        {
          "user": "fanquake",
          "body": "https://issues.oss-fuzz.com/issues/465913232.",
          "created_at": "2025-12-04T15:40:51Z"
        }
      ]
    },
    {
      "number": 33998,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "ruthsigela6982-lab",
      "created_at": "2025-12-03T12:46:40Z",
      "updated_at": "2025-12-03T12:46:49Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/33998",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "\nLLM spam detection (✨ experimental): SPAM. The submission is an unsolicited promotional message advertising a paid recovery/hacking service, includes contact details and a testimonial-style claim, and provides no project-relevant information, reproducible issue, or constructive contribution.\n\n♻️ Automatically wiping, closing, and locking for now based on heuristics.\nGenerally, please focus on creating high-quality, original content that demonstrates a clear\nunderstanding of the project's requirements and goals.\n",
          "created_at": "2025-12-03T12:46:46Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 3,
    "issues": 4
  }
}