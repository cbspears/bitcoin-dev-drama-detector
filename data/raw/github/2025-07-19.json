{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:59:20.154785+00:00",
  "date": "2025-07-19",
  "pull_requests": [
    {
      "number": 33020,
      "title": "test: delete commented-out tests and add a test case in wallet_signer",
      "body": "\r\nI noticed that some test cases had been commented out in wallet_signer.py.\r\nThis PR uncomments and modifies some of those test cases so that they can pass.\r\n\r\nhttps://github.com/bitcoin/bitcoin/commit/dac74c69491c3787c63b7bf09a3818ea79f9b8a8 -> deleting this assertion since multiple signers is being tested here https://github.com/bitcoin/bitcoin/blob/master/test/functional/wallet_signer.py#L273\r\n\r\nhttps://github.com/bitcoin/bitcoin/commit/1707c905661ef43935eaaeff06e8141f1be5ea07 test when  an external signer returns malformed or invalid JSON, which would trigger this error:\r\n‚Üí https://github.com/bitcoin/bitcoin/blob/master/src/common/run_command.cpp#L42\r\n\r\nhttps://github.com/bitcoin/bitcoin/commit/b96156821efda510c262e80d38b9063fb9ab762f test  importdescriptors with external signer\r\n",
      "state": "closed",
      "user": "naiyoma",
      "created_at": "2025-07-19T22:17:24Z",
      "updated_at": "2025-07-22T22:49:13Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33020",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33020.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/33020#issuecomment-3102748924), [theStack](https://github.com/bitcoin/bitcoin/pull/33020#pullrequestreview-3043484317), [achow101](https://github.com/bitcoin/bitcoin/pull/33020#issuecomment-3105022393) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-19T22:17:28Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46322070708</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by a commit message formatting issue related to missing a blank line after the subject line.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-19T22:25:51Z"
        },
        {
          "user": "naiyoma",
          "body": "\r\n> For the third commit [74fb47f](https://github.com/bitcoin/bitcoin/commit/74fb47f071451145b550062e382416db9388433d): I suggest deleting the commented out code. It's not doing anything useful for the test, and I can't remember why I wrote it.\r\n\r\n@Sjors, thanks for the review. \r\nI have also deleted this part https://github.com/bitcoin/bitcoin/blob/master/test/functional/wallet_signer.py#L235\r\n\r\n",
          "created_at": "2025-07-22T13:34:33Z"
        },
        {
          "user": "Sjors",
          "body": "ACK da318fe53fa954cc3eadd7c39e17eb3da7c3e09e",
          "created_at": "2025-07-22T13:34:58Z"
        },
        {
          "user": "achow101",
          "body": "ACK da318fe53fa954cc3eadd7c39e17eb3da7c3e09e",
          "created_at": "2025-07-22T22:36:50Z"
        }
      ]
    },
    {
      "number": 33018,
      "title": "coins: remove SetFresh method from CCoinsCacheEntry",
      "body": "There is plenty of test code that exercises the code path for FRESH-but-not-DIRTY coins in CCoinsViewCache. However, we can see there is only one place in production code where we call `SetFresh` that is not preceded by `SetDirty`. This is in `CCoinsViewCache::FetchCoin` and we can see that this is called if the coin retrieved from `base->GetCoin` is spent. The `base` in this case can be another `CCoinsViewCache` or a `CCoinsViewDB`. In `CCoinsViewCache::GetCoin` we can see that we do not return spent coins, and in `CCoinsViewDB` we don't ever store spent coins so there are none to return.\r\n\r\nThus, we can safely remove this dead code, and now we can see that there are never any calls to `SetFresh` not preceded by `SetDirty`. This PR removes this dead code and replaces `SetFresh` by passing a `fresh` boolean flag to `SetDirty`. This simplifies the logic of `CCoinsViewCache` and lets us remove test cases checking for FRESH-but-not-DIRTY coins. It removes the possibility of FRESH-but-not-DIRTY coins being called from any code path, so we can eliminate this state entirely and reduce the cognitive load of having to consider it.\r\n\r\nThis is pulled out from https://github.com/bitcoin/bitcoin/pull/30673 to make the change simpler.",
      "state": "open",
      "user": "andrewtoth",
      "created_at": "2025-07-19T19:21:35Z",
      "updated_at": "2026-01-07T02:36:10Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/33018",
      "labels": [
        "UTXO Db and Indexes"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33018.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/33018#pullrequestreview-3036128101), [sedited](https://github.com/bitcoin/bitcoin/pull/33018#pullrequestreview-3558493235) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34207](https://github.com/bitcoin/bitcoin/pull/34207) (coins/refactor: enforce `GetCoin()` returns only unspent coins by l0rinc)\n* [#33512](https://github.com/bitcoin/bitcoin/pull/33512) (coins: use number of dirty cache entries in flush warnings/logs by l0rinc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-19T19:21:39Z"
        },
        {
          "user": "Lalaweazel",
          "body": "' DQ at need  f cc 2iooo9 to be in work iiiiiiii iroieeieeieowwiereo W e\r\n\r\nOn Mon, 21 July 2025, 12:02 pm Andrew Toth, ***@***.***>\r\nwrote:\r\n\r\n> ***@***.**** commented on this pull request.\r\n> ------------------------------\r\n>\r\n> In src/coins.h\r\n> <https://github.com/bitcoin/bitcoin/pull/33018#discussion_r2218067867>:\r\n>\r\n> >   * - spent, not FRESH, DIRTY (e.g. a coin is spent and spentness needs to be flushed to the parent)\r\n>   */\r\n>  struct CCoinsCacheEntry\r\n>  {\r\n>  private:\r\n>      /**\r\n>       * These are used to create a doubly linked list of flagged entries.\r\n> -     * They are set in SetDirty, SetFresh, and unset in SetClean.\r\n> -     * A flagged entry is any entry that is either DIRTY, FRESH, or both.\r\n> +     * They are set in SetDirty and unset in SetClean.\r\n> +     * A flagged entry is any entry that is DIRTY or DIRTY and FRESH.\r\n>\r\n> Done.\r\n>\r\n> ‚Äî\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/33018#discussion_r2218067867>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/BLCZ66TZ63CTQEG3FDJLXXD3JRC23AVCNFSM6AAAAACB46C4HCVHI2DSMVQWIX3LMV43YUDVNRWFEZLROVSXG5CSMV3GSZLXHMZTAMZWGMZDKOBZGM>\r\n> .\r\n> You are receiving this because you are subscribed to this thread.Message\r\n> ID: ***@***.***>\r\n>\r\n",
          "created_at": "2025-07-21T02:06:34Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `CentOS, depends, gui`: https://github.com/bitcoin/bitcoin/runs/46353382966</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by an assertion failure in coins.cpp during the coins_tests, leading to subprocess abortion.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-21T02:21:26Z"
        },
        {
          "user": "andrewtoth",
          "body": "@sedited @l0rinc thank you both for your reviews! I rebased and updated with your suggestions.",
          "created_at": "2025-12-12T17:25:38Z"
        },
        {
          "user": "andrewtoth",
          "body": "Rebased due to https://github.com/bitcoin/bitcoin/pull/34095 modifying code that is deleted in this change.",
          "created_at": "2025-12-20T15:38:38Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/20696479226/job/59412536506</sub>\n<sub>LLM reason (‚ú® experimental): Lint failure due to trailing whitespace detected in src/coins.h (trailing_whitespace check).</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2026-01-04T17:24:52Z"
        }
      ]
    },
    {
      "number": 33016,
      "title": "test: Add functional tests for blockreconstructionextratxn",
      "body": "This adds tests for the `-blockreconstructionextratxn` parameter which controls the extra transaction pool used for compact block reconstruction.\n\nUses RBF transaction pairs to populate the pool since that's a straightforward way to get transactions into the extra pool - send an original, then replace it with higher fee, and the original ends up in the extra pool.\n\nNote: Targeting 29.x because the extra transaction pool eviction behavior tested here doesn't currently work on master.",
      "state": "closed",
      "user": "bigshiny90",
      "created_at": "2025-07-19T16:32:34Z",
      "updated_at": "2025-07-20T01:28:54Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33016",
      "labels": [
        "Backport",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33016.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-19T16:32:40Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46316118729</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by lint errors, specifically trailing whitespace issues and code style problems detected by `ruff`.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-19T18:28:14Z"
        }
      ]
    },
    {
      "number": 33014,
      "title": "rpc: Fix internal bug in descriptorprocesspsbt when encountering invalid signatures",
      "body": "Fixes #32849\r\nThe descriptorprocesspsbt RPC was crashing with an internal bug assertion when processing PSBTs with invalid signatures (like invalid Schnorr signatures with SIGHASH_SINGLE | ANYONECANPAY flags). Instead of returning a helpful error message, it would just crash.\r\nThis change replaces the CHECK_NONFATAL call with proper error handling that catches the failure and returns a JSONRPCError with a clear message to the user.\r\nTested with Bitcoin Core v29.0.0 using the exact PSBT from the issue report. The fix now returns proper error messages instead of crashing.",
      "state": "open",
      "user": "b-l-u-e",
      "created_at": "2025-07-19T05:15:00Z",
      "updated_at": "2026-01-13T06:56:01Z",
      "comments": 11,
      "url": "https://github.com/bitcoin/bitcoin/pull/33014",
      "labels": [
        "RPC/REST/ZMQ"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33014.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/33014#pullrequestreview-3626721928) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34193](https://github.com/bitcoin/bitcoin/pull/34193) (wallet: make migration more robust against failures by furszy)\n* [#34176](https://github.com/bitcoin/bitcoin/pull/34176) (wallet: improve error msg when db directory is not writable by furszy)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-19T05:15:05Z"
        },
        {
          "user": "achow101",
          "body": "The `CHECK_NONFATAL` is correct. `complete == true` means that the PSBT is complete and can be finalized. The invariant here is that `complete == true` means `FinalizeAndExtract` must succeed.\r\n\r\nBIP 174 states that a finalizer must only construct valid scriptSigs and witnesses. We encounter this error because we assume that if a PSBT is finalized, the scriptSigs and witnesses are valid so we are not performing the extra step of verifying the script. However, in this situation, the finalizer has misbehaved and produce invalid scriptSigs or witnesses which causes the assumption to fail.\r\n\r\nThis should be resolved by using `PSBTInputSignedAndVerified` instead. It may even be worth it to combine `PSBTInputSigned` with `PSBTInputSignedAndVerified` and replacing `PSBTInputSigned` wherever it is used. Although that may not be possible to do.",
          "created_at": "2025-07-22T22:47:58Z"
        },
        {
          "user": "b-l-u-e",
          "body": "@achow101... my initial approach was incorrect.  CHECK_NONFATAL is correctly protecting the invariant that a PSBT marked as complete must be finalizable.\r\n\r\nThe actual bug, as you pointed out, was that the completeness check was too lenient, only checking for the presence of a signature rather than its cryptographic validity.\r\n\r\nAfter ensuring that the logic first verifies the existing signatures before declaring the PSBT complete (the approach you suggested with PSBTInputSignedAndVerified), the system now behaves as expected. The same invalid PSBT now correctly results in { \"complete\": false } instead of triggering the internal bug.",
          "created_at": "2025-07-24T13:00:11Z"
        },
        {
          "user": "achow101",
          "body": "A test is definitely necessary here to avoid future regressions. @rkrux's proposed test would be fine.\r\n\r\nThe commit message has a duplicate line that needs to be removed.",
          "created_at": "2025-11-17T22:17:46Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/20010940750/job/58081580703</sub>\n<sub>LLM reason (‚ú® experimental): Lint check failed due to trailing whitespace in the codebase.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-12-15T18:04:44Z"
        },
        {
          "user": "DrahtBot",
          "body": "Could turn into draft while CI is red?\r\n\r\n@b-l-u-e  Are you still working on this?",
          "created_at": "2025-12-22T09:34:52Z"
        },
        {
          "user": "b-l-u-e",
          "body": "> Could turn into draft while CI is red?\r\n> \r\n> @b-l-u-e Are you still working on this?\r\n\r\nyes still workin on it\r\n",
          "created_at": "2025-12-22T12:36:40Z"
        },
        {
          "user": "rkrux",
          "body": "re-ACK 222139e\r\n\r\n```\r\ngit range-diff 7e468a6...222139e\r\n```",
          "created_at": "2025-12-26T08:55:01Z"
        },
        {
          "user": "b-l-u-e",
          "body": "> re-ACK [9f55be6](https://github.com/bitcoin/bitcoin/commit/9f55be650e6181f7d3ea898e3ccfafedecc26869)\r\n> \r\n> Removed the unrelated lint changes because PR #34154 is merged now.\r\n> \r\n> ```shell\r\n> git range-diff 222139e...9f55be6\r\n> ```\r\n> \r\n> Please resolve the PR comments that have been addressed to make it easier to go through the PR.\r\n\r\nall the PR comments have been resolved",
          "created_at": "2026-01-05T14:45:22Z"
        },
        {
          "user": "rkrux",
          "body": "```\r\ngit range-diff 9f55be6...e995c85\r\n```\r\n\r\nI don't see any changes in the latest range-diff, why was this latest push done after this https://github.com/bitcoin/bitcoin/pull/33014#pullrequestreview-3626721928?",
          "created_at": "2026-01-05T15:11:28Z"
        },
        {
          "user": "b-l-u-e",
          "body": "> ```\r\n> git range-diff 9f55be6...e995c85\r\n> ```\r\n> \r\n> I don't see any changes in the latest range-diff, why was this latest push done after this [#33014 (review)](https://github.com/bitcoin/bitcoin/pull/33014#pullrequestreview-3626721928)?\r\n\r\nthe review my bad i was suppose to comment after i rebased the branch that i resolved the comments \r\nthe trailing spaces was sorted in https://github.com/bitcoin/bitcoin/commit/9f55be650e6181f7d3ea898e3ccfafedecc26869\r\n\r\n",
          "created_at": "2026-01-05T15:16:01Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33019,
      "title": "A missing import to the src/chainparamsbase.h",
      "body": "Tried running the make -j $CORES as the bitcoin repo is important to what I'm working with.\n\nThe import that is missing is the ```#include <cstdint>```, it gave a plethora of errors. \n\nThis is not a bug but i just wanted the community to have a peaceful and seamless integration while building the repo",
      "state": "closed",
      "user": "totdking",
      "created_at": "2025-07-19T21:04:25Z",
      "updated_at": "2025-07-21T14:13:49Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/issues/33019",
      "labels": [],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "Fixed in 138f8671569f7ebb8c84e9d80c44cddeda9e3845",
          "created_at": "2025-07-21T07:06:21Z"
        },
        {
          "user": "maflcko",
          "body": "@totdking As this was fixed in all supported versions of bitcoin core, you are likely running an EOL version. It could make sense to consider updating it. See https://bitcoincore.org/en/lifecycle/ ",
          "created_at": "2025-07-21T07:08:53Z"
        },
        {
          "user": "totdking",
          "body": "I added the import and it worked :) , thanks man üëç ",
          "created_at": "2025-07-21T14:13:48Z"
        }
      ]
    },
    {
      "number": 33015,
      "title": "intermittent timeout in wallet_signer.py : sendall timed out",
      "body": "https://cirrus-ci.com/task/6466141373071360?logs=ci#L1714:\n```bash\n[17:24:42.699]  node1 2025-07-18T21:24:35.153536Z [scheduler] [net.cpp:2387] [void CConnman::DumpAddresses()] [net] Flushed 0 addresses to peers.dat  0ms \n[17:24:42.699]  node0 2025-07-18T21:24:35.182594Z [scheduler] [net.cpp:2387] [void CConnman::DumpAddresses()] [net] Flushed 0 addresses to peers.dat  1ms \n[17:24:42.699]  test  2025-07-18T21:24:41.997879Z TestFramework (ERROR): Called Process failed with 'error: timeout on transient error: Could not connect to the server 127.0.0.1:21617 (error code 0 - \"timeout reached\") \n[17:24:42.699]                                    Make sure the bitcoind server is running and that you are connecting to the correct RPC port.\n[17:24:42.699]                                    Use \"bitcoin-cli -help\" for more info.\n[17:24:42.699]                                    '\n[17:24:42.699]                                    Traceback (most recent call last):\n[17:24:42.699]                                      File \"/ci_container_base/test/functional/test_framework/test_framework.py\", line 195, in main\n[17:24:42.699]                                        self.run_test()\n[17:24:42.699]                                      File \"/ci_container_base/ci/scratch/build-i686-pc-linux-gnu/test/functional/wallet_signer.py\", line 58, in run_test\n[17:24:42.699]                                        self.test_valid_signer()\n[17:24:42.699]                                      File \"/ci_container_base/ci/scratch/build-i686-pc-linux-gnu/test/functional/wallet_signer.py\", line 212, in test_valid_signer\n[17:24:42.699]                                        res = hww.sendall(recipients=[{dest:0.5}, hww.getrawchangeaddress()], add_to_wallet=False)\n[17:24:42.699]                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n[17:24:42.699]                                      File \"/ci_container_base/test/functional/test_framework/test_node.py\", line 873, in __call__\n[17:24:42.699]                                        return self.cli.send_cli(self.command, *args, **kwargs)\n[17:24:42.699]                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n[17:24:42.699]                                      File \"/ci_container_base/test/functional/test_framework/test_node.py\", line 950, in send_cli\n[17:24:42.699]                                        raise subprocess.CalledProcessError(returncode, p_args, output=cli_stderr)\n[17:24:42.699]                                    subprocess.CalledProcessError: Command '['bitcoin', '-m', 'rpc', '-nonamed', '-datadir=/ci_container_base/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20250718_205643/wallet_signer_218/node1', '-rpcwallet=hww', '-named', 'sendall', 'recipients=[{\"bcrt1qw74qtc8277thn0y0v8qd5xahn583utnftrn6f5\": 0.5}, \"bcrt1q9klcdx4zrgf7m95zhpwfm0lalk92a2rh3swq85\"]', 'add_to_wallet=false']' returned non-zero exit status 1.\n[17:24:42.699]  test  2025-07-18T21:24:42.002020Z TestFramework (DEBUG): Closing down network thread \n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-07-19T10:02:07Z",
      "updated_at": "2025-07-26T09:21:04Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/33015",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "Sjors",
          "body": "Same underlying issue as https://github.com/bitcoin/bitcoin/issues/32855#issuecomment-3092571841? Both `send` and `sendall` use the external signer method to send the PSBT over to the device (mock). \n\nThe additional logging from #32928 may be helpful to narrow down where the stalling happens. ",
          "created_at": "2025-07-21T07:35:31Z"
        },
        {
          "user": "fanquake",
          "body": "https://cirrus-ci.com/task/6232770030075904?logs=ci#L1711",
          "created_at": "2025-07-23T10:05:22Z"
        },
        {
          "user": "fanquake",
          "body": "https://cirrus-ci.com/task/6439525662064640?logs=ci#L1711",
          "created_at": "2025-07-24T16:39:02Z"
        },
        {
          "user": "fanquake",
          "body": "https://cirrus-ci.com/task/4962760091500544?logs=ci#L1710",
          "created_at": "2025-07-26T09:17:09Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 4,
    "issues": 2
  }
}