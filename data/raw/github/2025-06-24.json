{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:52:08.120545+00:00",
  "date": "2025-06-24",
  "pull_requests": [
    {
      "number": 32807,
      "title": ".",
      "body": "<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
      "state": "closed",
      "user": "solveforceapp",
      "created_at": "2025-06-24T21:39:01Z",
      "updated_at": "2025-06-24T21:54:06Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32807",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32807.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T21:39:06Z"
        }
      ]
    },
    {
      "number": 32806,
      "title": ".",
      "body": "<!--\r\n*** Please remove the following help text before submitting: ***\r\n\r\nPull requests without a rationale and clear improvement may be closed\r\nimmediately.\r\n\r\nGUI-related pull requests should be opened against\r\nhttps://github.com/bitcoin-core/gui\r\nfirst. See CONTRIBUTING.md\r\n-->\r\n\r\n<!--\r\nPlease provide clear motivation for your patch and explain how it improves\r\nBitcoin Core user experience or Bitcoin Core developer experience\r\nsignificantly:\r\n\r\n* Any test improvements or new tests that improve coverage are always welcome.\r\n* All other changes should have accompanying unit tests (see `src/test/`) or\r\n  functional tests (see `test/`). Contributors should note which tests cover\r\n  modified code. If no tests exist for a region of modified code, new tests\r\n  should accompany the change.\r\n* Bug fixes are most welcome when they come with steps to reproduce or an\r\n  explanation of the potential issue as well as reasoning for the way the bug\r\n  was fixed.\r\n* Features are welcome, but might be rejected due to design or scope issues.\r\n  If a feature is based on a lot of dependencies, contributors should first\r\n  consider building the system outside of Bitcoin Core, if possible.\r\n* Refactoring changes are only accepted if they are required for a feature or\r\n  bug fix or otherwise improve developer experience significantly. For example,\r\n  most \"code style\" refactoring changes require a thorough explanation why they\r\n  are useful, what downsides they have and why they *significantly* improve\r\n  developer experience or avoid serious programming bugs. Note that code style\r\n  is often a subjective matter. Unless they are explicitly mentioned to be\r\n  preferred in the [developer notes](/doc/developer-notes.md), stylistic code\r\n  changes are usually rejected.\r\n-->\r\n\r\n<!--\r\nBitcoin Core has a thorough review process and even the most trivial change\r\nneeds to pass a lot of eyes and requires non-zero or even substantial time\r\neffort to review. There is a huge lack of active reviewers on the project, so\r\npatches often sit for a long time.\r\n-->\r\n",
      "state": "closed",
      "user": "solveforceapp",
      "created_at": "2025-06-24T20:51:57Z",
      "updated_at": "2025-06-24T21:02:59Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32806",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32806.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T20:52:01Z"
        }
      ]
    },
    {
      "number": 32805,
      "title": "cmake: Use `HINTS` instead of `PATHS` in `find_*` commands",
      "body": "According to the CMake documentation, `HINTS` \"should be paths computed by system introspection, such as a hint provided by the location of another item already found\", which is precisely the case in the `FindQRencode` module.\r\n\r\nEntries in `HINTS` are searched before those in `PATHS`. On macOS, Homebrew‚Äôs `libqrencode` will therefore be located at its real path rather than via the symlink in the default prefix.\r\n\r\nA backport to 29.x is required for https://github.com/bitcoin/bitcoin/pull/32804, as this change prevents contamination of include directories by broad locations such as `/usr/local/include` or `/opt/homebrew/include`, which take precedence over Qt‚Äôs `-iframework` flags.\r\n\r\nBelow is the relevant change in the configuration logs on my macOS 15.5 `x64`:\r\n- master branch @ ead44687483e9c936ba970de890c01d5e7ad3485:\r\n```\r\n% cmake -B build -DBUILD_GUI=ON\r\n<snip>\r\n-- Found QRencode: /usr/local/lib/libqrencode.dylib (found version \"4.1.1\")\r\n<snip>\r\n```\r\n- this PR:\r\n```\r\n% cmake -B build -DBUILD_GUI=ON\r\n<snip>\r\n-- Found QRencode: /usr/local/Cellar/qrencode/4.1.1/lib/libqrencode.dylib (found version \"4.1.1\")\r\n<snip>\r\n```",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-06-24T20:05:18Z",
      "updated_at": "2025-06-26T11:13:28Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/32805",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32805.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32805#pullrequestreview-2961702133) |\n| Concept ACK | [purpleKarrot](https://github.com/bitcoin/bitcoin/pull/32805#issuecomment-3004844018) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T20:05:22Z"
        },
        {
          "user": "fanquake",
          "body": "cc @purpleKarrot ",
          "created_at": "2025-06-25T13:10:20Z"
        },
        {
          "user": "purpleKarrot",
          "body": "utACK\r\n\r\nNit: Is there a problem on master? It looks like the result from `libqrencode.pc` is ignored, but if that is not causing actual problems, maybe `pkg_check_modules` could be dropped from `FindQRencode.cmake`?\r\nAlso, what platforms actually provide the `qrencoded` library in the Debug configuration?",
          "created_at": "2025-06-25T13:45:58Z"
        },
        {
          "user": "hebasto",
          "body": "@purpleKarrot \r\n\r\nThank you for the review!\r\n\r\n> Nit: Is there a problem on master?\r\n\r\nIn terms of build failure -- no.\r\nIn terms of needlessly including overly broad paths like `/usr/local/include` or `/opt/homebrew/include` on macOS -- yes.\r\n\r\n> It looks like the result from `libqrencode.pc` is ignored...\r\n\r\nIt depends on the platform used for building. On macOS, that's the case on the master branch, but not with this PR.\r\n\r\n> ... if that is not causing actual problems, maybe `pkg_check_modules` could be dropped from `FindQRencode.cmake`? \r\n\r\nI believe that for packages providing `*.pc` files, this is the most reliable and widely accepted approach for the find module.\r\n\r\n> Also, what platforms actually provide the `qrencoded` library in the Debug configuration?\r\n\r\nvcpkg [does](https://vcpkg.io/en/package/libqrencode).\r\n\r\n",
          "created_at": "2025-06-25T16:34:29Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #32810.",
          "created_at": "2025-06-26T11:13:28Z"
        }
      ]
    },
    {
      "number": 32804,
      "title": "Fix build on macOS when `qt@6` is installed",
      "body": "Fix https://github.com/bitcoin/bitcoin/issues/31009 on both `arm64` and `x64` macOS.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-06-24T16:46:13Z",
      "updated_at": "2025-06-27T19:12:30Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32804",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32804.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T16:46:17Z"
        },
        {
          "user": "hebasto",
          "body": "Please review https://github.com/bitcoin/bitcoin/pull/32805 first.",
          "created_at": "2025-06-24T20:06:13Z"
        },
        {
          "user": "hebasto",
          "body": "> Please review #32805 first.\r\n\r\nAlso https://github.com/bitcoin/bitcoin/pull/32814.",
          "created_at": "2025-06-25T17:54:47Z"
        },
        {
          "user": "fanquake",
          "body": "Do we need this open? Rebased it's the same as #32814.",
          "created_at": "2025-06-26T11:12:53Z"
        },
        {
          "user": "hebasto",
          "body": "> Do we need this open? Rebased it's the same as #32814.\r\n\r\nTo make testing this branch easier?",
          "created_at": "2025-06-26T12:43:48Z"
        },
        {
          "user": "fanquake",
          "body": "Both of these changes are now in #32810, so if someone would like to test them, they can use that branch.",
          "created_at": "2025-06-26T14:03:58Z"
        }
      ]
    },
    {
      "number": 32803,
      "title": "test: add functional test for upgradewallet rpc",
      "body": "followups up from https://github.com/bitcoin/bitcoin/pull/32438#issuecomment-2875411238 to add coverage for `upgradewallet` rpc. PR adds 2 test cases , trying to upgrade from the latest version and asserting it stays the same and trying to downgrade from the latest version. Test case to actually upgrade is not possible currently since the `createwallet` rpc by default creates wallet with version `FEATURE_LATEST` which is the highest.",
      "state": "closed",
      "user": "Prabhat1308",
      "created_at": "2025-06-24T15:20:37Z",
      "updated_at": "2025-07-11T06:48:58Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32803",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32803.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T15:20:41Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/44696601189</sub>\n<sub>LLM reason (‚ú® experimental): Lint check failed due to trailing whitespace and missing trailing newline in the code.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-06-24T15:28:57Z"
        },
        {
          "user": "maflcko",
          "body": "are there any plans that the rpc will be used anytime soon in the next couple of years? If not, it could make sense to just remove it, and add it back, in the unlikely case it will be used?",
          "created_at": "2025-06-24T15:34:42Z"
        },
        {
          "user": "Prabhat1308",
          "body": "> are there any plans that the rpc will be used anytime soon in the next couple of years? If not, it could make sense to just remove it, and add it back, in the unlikely case it will be used?\r\n\r\nLooking through the code this is pretty much a dead rpc where no one can use it to actually upgrade wallet and there is only 1 check that `multiwallet` can't call it before this PR . I am not very sure about what the future plans are for wallet but the only case where I see this being used is if there is a need to upgradewallet version to `quantum-compatible` wallets. Other than that I see no future use case of the rpc in the near future. ",
          "created_at": "2025-06-24T16:23:40Z"
        },
        {
          "user": "Prabhat1308",
          "body": "I am not so sure why the CI fails to call `createwallet` for the added test while works on other rpc tests . Will try to debug",
          "created_at": "2025-06-24T16:59:10Z"
        },
        {
          "user": "pablomartin4btc",
          "body": "As @maflcko mentioned, not sure how useful would be to keep the RPC, and maybe you can create the PR for its removal. I thought perhaps you could move this test to `wallet_backwards_compatibility.py`, but again not sure about its purpose.\r\n\r\ncc @achow101, @furszy ",
          "created_at": "2025-06-24T18:44:54Z"
        },
        {
          "user": "Prabhat1308",
          "body": "closing in favour of #32944 ",
          "created_at": "2025-07-11T06:48:51Z"
        }
      ]
    },
    {
      "number": 32801,
      "title": ".",
      "body": "\r\nUpdates docker/build-push-action from v5 to v6 \r\n\r\nReferences\r\ndocker/build-push-action@v6: https://github.com/docker/build-push-action/releases/tag/v6.18.0\r\n\r\n\r\nThis update ensures we're using the latest stable version of the Docker Build and Push Action, which includes performance improvements and bug fixes.",
      "state": "closed",
      "user": "PixelPil0t1",
      "created_at": "2025-06-24T11:29:29Z",
      "updated_at": "2025-06-24T15:05:26Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32801",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32801.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T11:29:34Z"
        }
      ]
    },
    {
      "number": 32800,
      "title": "rpc: Distinguish between vsize and sigop adjusted mempool vsize",
      "body": "### Motivation and Problem\r\n\r\n`CTxMemPoolEntry::GetTxSize()` returns the larger of two values: the BIP 141 virtual size (vsize) and the \"sigop-adjusted size.\" This sigop-adjusted size is used by mempool validation and mining algorithms as a safeguard to prevent overfilling blocks with transactions that approach both the weight and signature operation (sigop) limits in a way that could exploit block space efficiency.\r\n\r\nIn the current implementation, the sigop-adjusted size is reported as the \"vsize\" in RPCs that provide mempool transaction data, such as `getmempoolentry`, `getrawmempool`, `testmempoolaccept`, and `submitpackage`. However, the documentation for these RPCs typically describes this value simply as the \"virtual transaction size as defined in BIP 141,\" without acknowledging the sigop adjustment. Since the reported size may differ from the pure BIP 141 definition, this confuses people as in this [tweet](https://x.com/mononautical/status/1646166180145577990?s=20), discrepancy can be misleading, as the reported size may differ from the pure BIP 141 definition.\r\n\r\n### Proposed Solution\r\nTo resolve this, all mempool-related RPCs now return two separate fields:\r\n\r\n**vsize:** the sigop-adjusted size, i.e. max(BIP¬†141 vsize, sigop-adjusted size), which reflects the value previously returned under the vsize label and continues to drive mempool acceptance and block template scoring.\r\n\r\n**vsize_bip141:** the pure BIP¬†141 virtual size, strictly `ceil(weight/4)`, matching the consensus definition and now reported separately for clarity.\r\n\r\nThis preserves the behavior for clients that depend on the mempool policy size being reported as vsize while making the consensus size explicitly accessible under vsize_bip141.\r\n\r\nAdditionally, this PR updates the relevant RPC help text to clearly document the distinction between these two sizes, and adds supporting documentation `doc/policy/feerates-and-vsize.md` to better explain fee rates, virtual size calculations, sigop adjustments, and the mempool policy heuristics.\r\n\r\nA new field, **sigopsize**, has also been added to the getrawtransaction RPC result when input information (transaction is in the mempool) is available. This field explicitly reports the sigop-adjusted size as calculated by `ceil(sigop cost * bytes_per_sigop / WITNESS_SCALE_FACTOR)`. Exposing this value provides users with more precise insight into how the transaction‚Äôs sigops impact its effective size for policy and fee estimation.\r\n\r\nNote: This picks up work from the closed [#27591](https://github.com/bitcoin/bitcoin/pull/27591)\r\nFixes [#32775](https://github.com/bitcoin/bitcoin/issues/32775)",
      "state": "open",
      "user": "musaHaruna",
      "created_at": "2025-06-24T06:13:34Z",
      "updated_at": "2025-12-27T17:51:45Z",
      "comments": 14,
      "url": "https://github.com/bitcoin/bitcoin/pull/32800",
      "labels": [
        "RPC/REST/ZMQ",
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32800.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/32800#pullrequestreview-3571746826) |\n| Concept ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/32800#pullrequestreview-3331998740) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34113](https://github.com/bitcoin/bitcoin/pull/34113) (refactor: [rpc] Remove confusing and brittle integral casts by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T06:13:38Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/44658392174</sub>\n<sub>LLM reason (‚ú® experimental): Linting errors caused the CI failure.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-06-24T07:05:35Z"
        },
        {
          "user": "musaHaruna",
          "body": "Thanks @hodlinator and @janb84 for the detailed review. Well Appreciated, Please let me know if there's any comment left unaddressed.",
          "created_at": "2025-06-26T17:15:17Z"
        },
        {
          "user": "luke-jr",
          "body": "It makes much more sense to stick to weight for consensus-related matters, and vsize for policy in all cases.",
          "created_at": "2025-06-26T21:33:27Z"
        },
        {
          "user": "musaHaruna",
          "body": "> It makes much more sense to stick to weight for consensus-related matters, and vsize for policy in all cases.\r\n\r\nSorry, I didn't quite fully understand the comment (do you mean sigopsize should return only `int64_t sigopWeight = entry->GetSigOpCost() * nBytesPerSigOp;`) can you elaborate more on it, and what you are suggesting. Thanks. ",
          "created_at": "2025-06-27T06:51:35Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/44974262205</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by the 'trailing_newline' lint check failure due to missing a required trailing newline in a documentation file.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-06-28T10:49:49Z"
        },
        {
          "user": "musaHaruna",
          "body": "> Concept ACK [be75fa4](https://github.com/bitcoin/bitcoin/commit/be75fa48fa77c417b9ebdd3be4d1ddb212ab16b3)\r\n> \r\n> Might be good to add release notes for this PR as it is adding to the user-facing RPC interface, similarly to: https://github.com/bitcoin/bitcoin/blob/be75fa48fa77c417b9ebdd3be4d1ddb212ab16b3/doc/release-notes-27826.md\r\n\r\nAdded in [ede20b4](https://github.com/bitcoin/bitcoin/commit/ede20b438cf62b8292a3cae95893d34c3faa5b0c). \r\nThank you so much!!!\r\n\r\n",
          "created_at": "2025-06-28T10:53:13Z"
        },
        {
          "user": "musaHaruna",
          "body": "> meganit: This newline was logically separating the two commented code blocks and should probably be brought back.\r\n\r\nAddressed in [46acee8](https://github.com/bitcoin/bitcoin/pull/32800/commits/46acee890064e69b89f6cc0bc65c625972a4250d)\r\n\r\n> nit: It would be good to hyphen-prefix to make it stand out visually (from fields like vsize etc) and also call it \"setting\" or \"argument\" rather than \"parameter\" as those are the terms used in the code.\r\n\r\nFixed as suggested\r\n\r\n> nit: I think the end is a bit redundant due to prior sentances, better to explain why:\r\n\r\nFixed as suggested\r\n\r\n> Documentation of getrawtransaction says: By default, this call only returns a transaction if it is in the mempool.\r\n\r\nCorrected to \"transaction in the mempool\" \r\n\r\n> Realized the comment is now out of date:\r\n\r\nFixed as  suggested\r\n\r\n> When building block templates, I'm not sure we want to recommend using the sigop-adjusted vsize? That might leave space over in the block if some transactions have a lot of sigops. This would make a miner earn less fees due to not filling up the block.\r\n\r\nNew change is now \r\n\"When performing mempool policy operations (e.g fee estimation, eviction, or acceptance), use the\r\nsigop-adjusted `vsize`. However, when building block templates, miners should prioritize transactions\r\nby actual fee per weight unit and be mindful of the 80,000 sigop limit, rather than relying solely\r\non sigop-adjusted `vsize` from the mempool RPCs\".  Check [af3f15a](https://github.com/bitcoin/bitcoin/pull/32800/commits/af3f15a2aba2bd720325192dafc76f084b8a9537)  for docs chanages.\r\n\r\nThanks for the review!!! @hodlinator ",
          "created_at": "2025-07-28T09:48:45Z"
        },
        {
          "user": "musaHaruna",
          "body": "> Reviewed [1523e8d](https://github.com/bitcoin/bitcoin/commit/1523e8d6c981efff1394bd1669fbbbea5ff7ac97)\r\n> \r\n> Still had some late suggestions which will hopefully get this in better shape for other reviewers too.\r\n> \r\nAddressed and fixed as suggested. Thanks!!!\r\n> Might be worth pinging some participants from #27591 at this point to see what they think.\r\n\r\nHi @glozow, @ajtowns, @Sjors ‚Äî since you were involved in [#27591](https://github.com/bitcoin/bitcoin/pull/27591), I‚Äôd really appreciate your thoughts on the latest state of this PR.\r\n\r\nJust a friendly ping in case you'd like to take a look. üôÇ\r\nThanks in advance!\r\n",
          "created_at": "2025-08-07T11:37:46Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/47833880904</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by a missing trailing newline in a documentation file during the lint check.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-11T16:31:06Z"
        },
        {
          "user": "musaHaruna",
          "body": "> I think documentation is definitely helpful, but I'm not sure an extra `vsize_bip141` field is really necessary (they can just divide weight by 4) and I don't really see a reason for [ca16b18](https://github.com/bitcoin/bitcoin/commit/ca16b18c0eaae270091ede4967002a4c8174090d)\r\n\r\nI understand it can be calculated from `weight / 4`, but I thought adding `vsize_bip141` might save users from recalculating and improve clarity by avoiding confusion between policy-adjusted vsize and consensus BIP-141 vsize. I'm happy to adjust if you think it's uneccessary. Thanks. \r\n\r\nI can remove [ca16b18](https://github.com/bitcoin/bitcoin/commit/ca16b18c0eaae270091ede4967002a4c8174090d) if you feel strongly about it. I added it because of the discussion here: [#27591](https://github.com/bitcoin/bitcoin/pull/27591#discussion_r1376980882). \r\n\r\nThank you so much!",
          "created_at": "2025-08-11T17:09:37Z"
        },
        {
          "user": "musaHaruna",
          "body": "> nit: The adjusted beginning is nicer, but would rather bring back the end from 1523e8d\r\n\r\nAddressed by bring back the last sentence in commit [1523e8d](https://github.com/bitcoin/bitcoin/commit/1523e8d6c981efff1394bd1669fbbbea5ff7ac97)\r\n\r\n> nit: I think this part is repetitive and somewhat arbitrary, currently the PR ensures sigop-adjusted and non-sigop-adjusted sizes are available for all mentioned RPCs. If I was using RPCs for each transaction for this calculation I would just pick the fastest one. Maybe I'm overlooking something though.\r\n\r\nAgreed. I removed the entire paragraph from the docs. \r\n\r\nAll addressed changes are in [967d16](https://github.com/bitcoin/bitcoin/pull/32800/commits/967d1639289e12ae762d2622371bb46703c12e2a)\r\n\r\n",
          "created_at": "2025-10-22T22:12:16Z"
        },
        {
          "user": "musaHaruna",
          "body": "Rebased and fixed conflict. ",
          "created_at": "2025-12-12T11:47:54Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-12-27T17:51:45Z"
        }
      ]
    },
    {
      "number": 32799,
      "title": "mempool: use `FeeFrac` for ancestor/descendant score comparators",
      "body": "Rather than determining fee-rates for the mempool index scores and comparators manually in a rather tedious way (even involving floating-points), use the `FeeFrac` class [1] to simplify and deduplicate the code. Note that though this is intended to be a refactoring PR, there might be subtle differences in behaviour due to floating-point arithmetic involved in the original code (to avoid overflows at the cost of precision loss), but these shouldn't matter.\r\n\r\n[1] introduced in PR #29242, commit ce8e22542ed0b4fa5794d3203207146418d59473",
      "state": "closed",
      "user": "theStack",
      "created_at": "2025-06-24T02:21:34Z",
      "updated_at": "2025-07-09T19:23:42Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32799",
      "labels": [
        "Mempool"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32799.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/32799#pullrequestreview-2953351336), [glozow](https://github.com/bitcoin/bitcoin/pull/32799#pullrequestreview-2963925005) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-24T02:21:39Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32802,
      "title": "IPC via TCP Sockets",
      "body": "### Please describe the feature you'd like to see added.\n\nInterprocess communication via TCP Sockets\n\n### Is your feature related to a problem, if so please describe it.\n\nI'm dockerizing @Sjors 's Stratum V2 sidecar (`bitcoin-mine`) such that it's able to reach a Bitcoin Core node running on the host.\n\nMy host is macOS, and Docker is Linux, which means they don't have a shared kernel and their Unix socket descriptors don't match.\n\n### Describe the solution you'd like\n\nIPC over TCP sockets.\n\n### Describe any alternatives you've considered\n\nMy current workaround is to leverage `socat` and create a TCP bridge between host and container.\n\n### Please leave any additional context\n\n_No response_",
      "state": "open",
      "user": "plebhash",
      "created_at": "2025-06-24T13:32:12Z",
      "updated_at": "2025-11-18T21:29:40Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/issues/32802",
      "labels": [
        "Feature"
      ],
      "comment_list": [
        {
          "user": "Sjors",
          "body": "`bitcoin-mine` refers to the Template Provider application I wrote in https://github.com/Sjors/bitcoin/pull/48. This is not intended to be included in Bitcoin Core.\n\nIt's based on the `bitcoin-mine` demo proposed by @ryanofsky in #30437. This may or may not be included in v30, but it doesn't really matter if this particular demo adds TCP support (though it's probably a good idea).\n\nWhat does matter is that the `-ipcbind` argument of `bitcoin-node` gets TCP support.  \n\n",
          "created_at": "2025-06-24T13:51:27Z"
        },
        {
          "user": "ryanofsky",
          "body": "The reason the `ipcbind` option doesn't support TCP currently is that there's no authentication, so listening on a TCP socket would let any process on the system running as any user connect to the port, and potentially access wallets or take advantage of privileges the bitcoin process has.\n\nSo currently:\n\n- ssh provides a reasonable way to forward sockets with permissions and authentication (`ssh -L /tmp/local.sock:/path/to/remote.sock user@remotehost` or `ssh -R /tmp/remote.sock:/path/to/local.sock user@remotehost)\n\n- socat provides a reasonable way to forward sockets if authentication is not important\n\nLooking ahead:\n\n- It shouldn't be too hard to support `AF_VSOCK` (virtio sockets) for communication between vm host and guest processes. These should be more secure and more performant than TCP sockets.\n\n- It shouldn't be too hard to add an authentication mechanism using cookies or hashed passwords and support authenticated TCP sockets, if there is a good use-case, \n\n- It might make sense to let the `-ipcconnect` option support TCP sockets even if the `-ipcbind` option doesn't support them, so maybe you only need one socat process not two if forwarding over TCP.",
          "created_at": "2025-06-24T15:27:19Z"
        },
        {
          "user": "Sjors",
          "body": "Good point about the lack of authentication.\n\nOne use case I have in mind is (something like) a BitAxe that connects directly to your node to fetch templates to solo mine on. Currently this involves running a Stratum (v1) solo mining pool, which just adds needless complexity.\n\nThat said, as soon as you have more than one device you're going to need pool software to divide the work between them. At that point it makes more sense to run a sidecar application on the same machine as the node, and have it listen on TCP and deal with authentication.",
          "created_at": "2025-06-25T08:48:38Z"
        },
        {
          "user": "plebhash",
          "body": "what about encryption?\n\nassuming authentication is solved, would it be safe to use this outside of a controlled LAN environment?",
          "created_at": "2025-11-17T20:43:03Z"
        },
        {
          "user": "Sjors",
          "body": "RPC connections are not encrypted either and I'm not aware of any plans for changing that.\n\nMaybe virtio socket support would be the easiest approach for getting Docker setups to work? That might be useful for RPC too. I opened #33897 to discuss.",
          "created_at": "2025-11-18T10:02:56Z"
        },
        {
          "user": "plebhash",
          "body": "apparently @lucasbalieiro was able to ship https://github.com/stratum-mining/sv2-apps/pull/85 without running into the Docker challenges I originally described as the motivation for IPC via TCP here... I'm yet to dive into it and figure out whether I had any blindspots when opened this issue here\n\nwhen I asked about encryption I didn't really have the Docker setup in mind... I was just curious about potential use-cases of IPC over TCP",
          "created_at": "2025-11-18T12:25:18Z"
        },
        {
          "user": "Sjors",
          "body": "Ok, keep us posted on what you learn.",
          "created_at": "2025-11-18T13:34:38Z"
        },
        {
          "user": "ryanofsky",
          "body": "Rereading the issue, I noticed I missed the references to docker, and just posted about alternatives to TCP generally.\n\nAs far as I know, there should be no issue sharing the IPC socket between the docker containers or between the host and a container on linux. The socket should look like normal file on the filesystem (`node.sock`) that can be shared with docker's `--volume` / `-v` option. On macos I don't think it's possible to share the socket between a host and container, but it should be possible to do it between containers using a shared volume. If you do need to share the socket between the host and a container on mac, it should be possible but you'd need to use a tool like `socat` or `ssh` to forward the connection over TCP.\n\n\n",
          "created_at": "2025-11-18T21:29:40Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 8,
    "issues": 1
  }
}