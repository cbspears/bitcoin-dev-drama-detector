{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:07:38.241282+00:00",
  "date": "2025-08-19",
  "pull_requests": [
    {
      "number": 33223,
      "title": "coinselection: Tiebreak SRD eviction by weight",
      "body": "@yancyribbens [pointed out](https://github.com/p2pderivatives/rust-bitcoin-coin-selection/pull/108#issuecomment-3202107069) that SRD would fail to find a possible solution if there are multiple UTXOs of the same effective value with diverse weight.\r\n\r\nThis adds a tiebreaker that will make SRD succeed in such a scenario.",
      "state": "open",
      "user": "murchandamus",
      "created_at": "2025-08-19T22:51:00Z",
      "updated_at": "2025-08-27T21:35:50Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33223",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33223.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- have same effective value -> have the same effective value [missing definite article ‚Äúthe‚Äù makes the phrase less clear]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-08-19T22:51:05Z"
        },
        {
          "user": "cedwies",
          "body": "I ran the SRD tests, all pass as expected. To validate the comparator change, I also re-ran the fourth SRD test using the old comparator, and it fails (as expected). This confirms that the test setup is effective at catching the bug.\r\nThe new comparator correctly enforces the weight limit, and the test demonstrates that the previous implementation of the comparator can only succeed by chance (~1 in a billion). Looks good to me.",
          "created_at": "2025-08-21T17:11:10Z"
        },
        {
          "user": "yancyribbens",
          "body": "Any reason this is in Draft?",
          "created_at": "2025-08-22T19:33:35Z"
        },
        {
          "user": "murchandamus",
          "body": "I want to use the opportunity to move the SRD tests to the coinselection_tests, but haven‚Äôt gotten around to it yet.",
          "created_at": "2025-08-27T21:35:50Z"
        }
      ]
    },
    {
      "number": 33222,
      "title": "miner: clamp options instead of asserting",
      "body": "The `BlockAssembler::ClampOptions` function currently doesn't actually clamp most of the provided settings, but asserts that some are in range. This made sense while it was a purely internal interface.\r\n\r\nHowever, with the mining IPC interface exposed in #30510, these options are now externally accessible, and it is not entirely intuitive how to set them. In particular, calling `Mining::createNewBlock` with a default-constructed `BlockCreateOptions` will right now instantly crash the bitcoin node.\r\n\r\nThis isn't a security issue, as the IPC interface is considered trusted, but it is highly unexpected I think, and rather unergonomical to have the node crash while developing against the interface.\r\n\r\nAn alternative would be exposing a way for the interface to return a failure, but I think in this case, just correcting to reasonable values is acceptable.",
      "state": "closed",
      "user": "sipa",
      "created_at": "2025-08-19T20:56:59Z",
      "updated_at": "2025-08-22T06:16:42Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33222",
      "labels": [
        "Mining"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33222.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/33222#pullrequestreview-3141002296), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/33222#pullrequestreview-3141107720), [Sjors](https://github.com/bitcoin/bitcoin/pull/33222#issuecomment-3211667032), [achow101](https://github.com/bitcoin/bitcoin/pull/33222#issuecomment-3212033066) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T20:57:05Z"
        },
        {
          "user": "sipa",
          "body": "This makes sense for v30.0, I think, if we're going to be shipping mining interface support (#31802 or variation thereof).",
          "created_at": "2025-08-19T21:15:07Z"
        },
        {
          "user": "ryanofsky",
          "body": "@Sjors maybe you have thoughts on this?\r\n\r\nIt would probably be good if we set default field values in the capnp file:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/8333aa5302902f6be929c30b3c2b4e91c6583224/src/ipc/capnp/mining.capnp#L40-L41\r\n\r\nthat match the c++ defaults:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/8333aa5302902f6be929c30b3c2b4e91c6583224/src/node/types.h#L40-L49\r\n\r\nNote just directly changing defaults in the .capnp file would not be backwards compatible. It would cause problems if a client using the current version of the .capnp file connected to a server using a .capnp file with new defaults, or vice versa. But maybe it would ok to do now if miners are not mixing different releases of Sjors node and client?\r\n\r\n(It would also be possible to change defaults in a backwards compatible way adding new fields and renaming the old ones, or adding a new struct and renaming the old one.)",
          "created_at": "2025-08-21T15:23:26Z"
        },
        {
          "user": "Sjors",
          "body": "ACK 7392b8b084be14b75536887b7ff216152d0a3307\r\n\r\nI also prefer throwing an error to the caller, but clamping is fine.\r\n\r\n> Note just directly changing defaults in the .capnp file would not be backwards compatible.\r\n\r\nFor the time being I don't think we should hardcode these values in the `.capnp` file, since it's hard to change later.\r\n\r\nInstead I think we should document the `.capnp` file, since it's the first thing future IPC client implementers will look at. Maybe we can have a script that automatically populates / updates these docs to follow the interface header?\r\n\r\nIn Stratum v2 the values are set via the `CoinbaseOutputConstraints` message:\r\n- `coinbase_output_max_additional_sigops`: is a 16 bit integer, so it's can't go over `MAX_BLOCK_SIGOPS_COST`\r\n- `coinbase_output_max_additional_size`: is provided by the pool software and is probably going to be a low sane number, nowhere near the block size limit. The Template Provider (sidecar) IPC client then translates it to `block_reserved_weight` and just adds 2000.\r\n\r\nhttps://github.com/Sjors/bitcoin/pull/49/files#diff-576b7d75ad2ccce85935852fbc155515ebc3afdfd8fe7b806f6b56c29053b786R234-R236   \r\n\r\nhttps://github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#71-coinbaseoutputconstraints-client---server",
          "created_at": "2025-08-21T18:29:56Z"
        },
        {
          "user": "ryanofsky",
          "body": "> For the time being I don't think we should hardcode these values in the `.capnp` file, since it's hard to change later.\r\n\r\nMakes sense, if we want flexibility to change the defaults over time, they should not be set in the .capnp file. Not setting them causes capnp to use 0 as the default.\r\n\r\nHowever, in case 0 is a valid value for either of these options, we may want to set a different, invalid default value like -1 so the server can detect whether the client set the option, and use its own default if the client hasn't filled it in. For c++ clients this doesn't matter, but for python and rust clients and any client not using the c++ struct, this could be important and prevent bugs.",
          "created_at": "2025-08-21T19:05:53Z"
        },
        {
          "user": "achow101",
          "body": "ACK 7392b8b084be14b75536887b7ff216152d0a3307",
          "created_at": "2025-08-21T20:50:21Z"
        },
        {
          "user": "Sjors",
          "body": "> However, in case 0 is a valid value for either of these options, we may want to set a different, invalid default value like -1 so the server can detect whether the client set the option, and use its own default if the client hasn't filled it in.\r\n\r\nIn that case perhaps it's better if we do hardcode defaults, especially if we can pick safe ones.",
          "created_at": "2025-08-22T06:16:42Z"
        }
      ]
    },
    {
      "number": 33220,
      "title": "doc: truc packages allow sub min feerate transactions",
      "body": "Fixes https://github.com/bitcoin/bitcoin/issues/32067\r\n\r\nSome policy documentation is outdated since TRUC. This PR aims to update the documentation to the actual policy state.",
      "state": "closed",
      "user": "polespinasa",
      "created_at": "2025-08-19T18:44:48Z",
      "updated_at": "2025-09-03T16:57:33Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33220",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33220.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/33220#pullrequestreview-3178505708), [glozow](https://github.com/bitcoin/bitcoin/pull/33220#pullrequestreview-3180848706) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T18:44:54Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/48427155597</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure was caused by a trailing whitespace error detected during the lint check.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-19T18:49:13Z"
        },
        {
          "user": "glozow",
          "body": "LGTM",
          "created_at": "2025-08-20T14:07:07Z"
        }
      ]
    },
    {
      "number": 33218,
      "title": "refactor: rename `fees.{h,cpp}` to `fees/block_policy_estimator.{h,cpp}`",
      "body": "This PR is a simple refactoring that does four things:\r\n\r\n1. Renames `test/policy_fee_tests.cpp` to `test/feerounder_tests.cpp`.\r\n2. Renames `policy/fees.{h,cpp}` to `policy/fees/block_policy_estimator.{h,cpp}`.\r\n3. Renames `policy/fees_args.cpp` to `policy/fees/block_policy_estimator_args.cpp`.\r\n4. Modifies `estimateSmartFee` to return the block height at which the estimate was made by adding a `best_height` unsigned int value to the `FeeCalculation` struct.\r\n\r\n**Motivation**\r\n\r\nIn preparation for adding a new fee estimator, the `fees` directory is created so we can organize code into `block_policy_estimator` and `mempool` because\r\n\r\na) It would be clunky to add more code directly under `fees`.\r\nb) Having `policy/fees.{h,cpp}` and `policy/mempool.{h,cpp}` would also be undesirable. \r\n\r\nTherefore, it makes sense to structure the it as `policy/fees/block_policy_estimator`, `policy/fees/mempool`, etc.\r\nHence test file were also updated accordingly.\r\n\r\nThe current block height is also returned because later in #30157 we log the height at which each estimate is made (at the debug log category of  fee estimation :) ). This feature is particularly useful for empirical data analysis.\r\n",
      "state": "closed",
      "user": "ismaelsadeeq",
      "created_at": "2025-08-19T17:47:28Z",
      "updated_at": "2025-11-12T16:16:29Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/33218",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33218.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/33218#issuecomment-3450544165), [willcl-ark](https://github.com/bitcoin/bitcoin/pull/33218#pullrequestreview-3383020697), [janb84](https://github.com/bitcoin/bitcoin/pull/33218#pullrequestreview-3383039184), [polespinasa](https://github.com/bitcoin/bitcoin/pull/33218#issuecomment-3452870905) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31664](https://github.com/bitcoin/bitcoin/pull/31664) (Fees:  add Fee rate Forecaster Manager by ismaelsadeeq)\n* [#28690](https://github.com/bitcoin/bitcoin/pull/28690) (build: Introduce internal kernel library by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T17:47:33Z"
        },
        {
          "user": "polespinasa",
          "body": "ACK c70781d4241cb8b30fe33e7205868382031b4670\r\n\r\nCode reviewed and tested.\r\nThese changes are just a refactor and not functional at all, but are needed in order to implement the FeeRate Forecast Manager in a \"clean\" and \"ordered\" manner #31664 \r\n\r\n",
          "created_at": "2025-10-08T18:03:52Z"
        },
        {
          "user": "maflcko",
          "body": "Re-open to trigger the newly added GHA CI tasks",
          "created_at": "2025-10-09T10:11:31Z"
        },
        {
          "user": "darosior",
          "body": "nit: if it's already in a `fees/` subfolder i think naming them `estimator.{h,cpp}` would be as clear and thrice as short?",
          "created_at": "2025-10-09T14:31:58Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": ">  nit: if it's already in a fees/ subfolder i think naming them estimator.{h,cpp} would be as clear and thrice as short?\r\n\r\nHmm, I wanted it to be specific, thats why I named it block policy estimator  and the file being in the fees directory was meant to indicate it is estimating fees.\r\n\r\n",
          "created_at": "2025-10-13T11:21:43Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "Rebased  and fixed a nit [diff](https://github.com/bitcoin/bitcoin/compare/c70781d4241cb8b30fe33e7205868382031b4670..1a7fb5eeeef3575c1e7c27915c9b98695191299d)",
          "created_at": "2025-10-27T09:45:56Z"
        },
        {
          "user": "maflcko",
          "body": "re-ACK 1a7fb5eeeef3575c1e7c27915c9b98695191299d üê§\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 1a7fb5eeeef3575c1e7c27915c9b98695191299d üê§\r\n0NDmvK93j/5tSSnLoQV4ss3q8a7+wHsEqypMWrAD9M2ebpvgjkvEnf0jHN6pqNLLoiuSQRenKpW1kbrXJLXOCg==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-10-27T10:24:03Z"
        },
        {
          "user": "polespinasa",
          "body": "re ACK 1a7fb5eeeef3575c1e7c27915c9b98695191299d\r\n\r\nJust small rebase and small nits",
          "created_at": "2025-10-27T19:05:48Z"
        },
        {
          "user": "ryanofsky",
          "body": "I still see some references to the `src/policy/fees.h` file removed by this PR:\r\n\r\n```\r\n$ git grep -n policy/fees.h\r\nsrc/wallet/rpc/spend.cpp:206: * @param[in]     conf_target       UniValue integer; confirmation target in blocks, values between 1 and 1008 are valid per policy/fees.h;\r\ntest/functional/rpc_estimatefee.py:39:        # max value of 1008 per src/policy/fees.h\r\ntest/functional/rpc_psbt.py:604:                assert_raises_rpc_error(-8, \"Invalid conf_target, must be between 1 and 1008\",  # max value of 1008 per src/policy/fees.h\r\ntest/functional/wallet_basic.py:337:            assert_raises_rpc_error(-8, \"Invalid conf_target, must be between 1 and 1008\",  # max value of 1008 per src/policy/fees.h\r\ntest/functional/wallet_fundrawtransaction.py:851:                assert_raises_rpc_error(-8, \"Invalid conf_target, must be between 1 and 1008\",  # max value of 1008 per src/policy/fees.h\r\ntest/functional/wallet_send.py:315:                expect_error=(-8, \"Invalid conf_target, must be between 1 and 1008\"))  # max value of 1008 per src/policy/fees.h\r\n```\r\n\r\n",
          "created_at": "2025-11-12T16:16:29Z"
        }
      ]
    },
    {
      "number": 33217,
      "title": "depends: remove xinerama extension from libxcb",
      "body": "This is listed on https://doc.qt.io/qt-5.15/linux-requirements.html as \"recommended\", and doesn't seem to be needed (only used for windowing over multiple screens support?) , and the fact that it's no-longer installed by default on modern linux distros (i.e Ubuntu), is annoying/confusing for users. See:\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/30061\r\nhttps://github.com/bitcoin/bitcoin/issues/32097\r\nhttps://github.com/bitcoin/bitcoin/pull/33197\r\nhttps://bitcoin.stackexchange.com/questions/122646/libxcb-xinerama0-library-required-by-bitcoin-qt\r\n\r\nI haven't tested the GUI with these changes. Just opening an alternative to #33197. Note that we also already have `libxcb-cursor0` documented as a potentially missing runtime dependency (see `build-unix.md`).",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-08-19T17:29:40Z",
      "updated_at": "2025-09-19T10:34:14Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33217",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33217.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33217#pullrequestreview-3142184801) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T17:29:45Z"
        },
        {
          "user": "luke-jr",
          "body": "> (only used for windowing over multiple screens support?) \r\n\r\nDeprecated by and incompatible with XRandR which was introduced in ~2001.",
          "created_at": "2025-08-20T13:57:01Z"
        },
        {
          "user": "hebasto",
          "body": "Concept ACK.",
          "created_at": "2025-08-21T18:12:46Z"
        },
        {
          "user": "hebasto",
          "body": "Here are related Qt issues and commits:\r\n- [QTBUG-69411](https://bugreports.qt.io/browse/QTBUG-69411)\r\n- [QTBUG-86082](https://bugreports.qt.io/browse/QTBUG-86082)\r\n- https://github.com/qt/qtbase/commit/c91d1fdc100cda88b94217153def52ab7fe63d21",
          "created_at": "2025-08-21T19:48:08Z"
        },
        {
          "user": "fanquake",
          "body": "~~Backported to 29.x in #33238.~~\r\n\r\nThis wasn't backported.",
          "created_at": "2025-08-22T11:47:18Z"
        }
      ]
    },
    {
      "number": 33216,
      "title": "mini miner: enable `Linearize` return package feerates",
      "body": "This PR adds supports for mini miner to return the package fee rates of the linearized transactions\r\n\r\nThe first step for #30079\r\n\r\nIt is motivated by https://github.com/bitcoin/bitcoin/pull/30079#issuecomment-3191510709",
      "state": "closed",
      "user": "ismaelsadeeq",
      "created_at": "2025-08-19T17:07:46Z",
      "updated_at": "2025-11-26T09:13:41Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33216",
      "labels": [
        "Utils/log/libs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33216.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [murchandamus](https://github.com/bitcoin/bitcoin/pull/33216#issuecomment-3480414914) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30079](https://github.com/bitcoin/bitcoin/pull/30079) (Fee Estimation: Ignore all transactions that are CPFP'd by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T17:07:50Z"
        },
        {
          "user": "optout21",
          "body": "This PR only extends the return data with the package fee rate, but it does not use the new data. Is a follow-up PR available (as draft) where the new data is used?",
          "created_at": "2025-09-03T20:11:55Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "Yes it is used in #30079",
          "created_at": "2025-09-04T09:07:34Z"
        },
        {
          "user": "murchandamus",
          "body": "Concept ACK",
          "created_at": "2025-11-03T13:02:40Z"
        }
      ]
    },
    {
      "number": 33215,
      "title": "Fix compatibility with `-debuglogfile` command-line option",
      "body": "This PR avoids hardcoding the \"debug.log\" filename, ensuring compatibility with custom filenames provided via the `-debuglogfile` command-line option.",
      "state": "open",
      "user": "hebasto",
      "created_at": "2025-08-19T10:59:57Z",
      "updated_at": "2025-12-20T12:34:05Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33215",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33215.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34038](https://github.com/bitcoin/bitcoin/pull/34038) (logging: API improvements by ajtowns)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T11:00:02Z"
        }
      ]
    },
    {
      "number": 33214,
      "title": "rpc: require integer verbosity; remove boolean 'verbose'",
      "body": "### Summary\r\n\r\nStandardize RPC verbosity to integers only and remove boolean handling for clarity, consistency, and future extensibility.\r\n\r\n### Rationale\r\n\r\n - **Legacy cleanup**: Boolean verbosity has been discouraged/deprecated in docs since 2017 and continues to create tech debt (special-case parsing, inconsistent tests, user confusion).\r\n- **Consistency**: Integers enable multi-level output without overloading a boolean.\r\n\r\n### User-visible changes\r\n- getblock, getrawtransaction, getorphantxs no longer accept booleans.\r\n- Passing true/false now errors with: Verbosity was boolean but only integer allowed.\r\n- Migration: false ‚Üí 0, true ‚Üí 1.\r\n\r\n### Code / Docs\r\n- ParseVerbosity(arg, default) now rejects booleans (removed allow_bool).\r\n- Call sites and functional tests updated to use integer levels. \r\n- Developer notes updated; release notes added.\r\n\r\n**Breaking change:** scripts/tools using boolean verbosity must switch to integers.",
      "state": "open",
      "user": "fqlx",
      "created_at": "2025-08-19T02:56:36Z",
      "updated_at": "2025-11-25T12:27:43Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33214",
      "labels": [
        "RPC/REST/ZMQ",
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33214.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Approach NACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/33214#pullrequestreview-3131799623) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/911](https://github.com/bitcoin-core/gui/pull/911) (Adds non-mempool wallet balance to overview by ajtowns)\n* [#33892](https://github.com/bitcoin/bitcoin/pull/33892) (policy: Remove individual transaction <minrelay restriction by instagibbs)\n* [#33671](https://github.com/bitcoin/bitcoin/pull/33671) (wallet: Add separate balance info for non-mempool wallet txs by ajtowns)\n* [#33629](https://github.com/bitcoin/bitcoin/pull/33629) (Cluster mempool by sdaftuar)\n* [#33199](https://github.com/bitcoin/bitcoin/pull/33199) (fees: enable `CBlockPolicyEstimator` return sub 1 sat/vb fee rate estimates by ismaelsadeeq)\n* [#32545](https://github.com/bitcoin/bitcoin/pull/32545) (Replace cluster linearization algorithm with SFL by sipa)\n* [#32468](https://github.com/bitcoin/bitcoin/pull/32468) (rpc: generateblock to allow multiple outputs by polespinasa)\n* [#32138](https://github.com/bitcoin/bitcoin/pull/32138) (wallet, rpc: remove settxfee and paytxfee by polespinasa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-19T02:56:40Z"
        },
        {
          "user": "maflcko",
          "body": "I expect those to be widely used (not only in the internal tests, as you noticed in the repeated force pushes), so this may or may not be a widely breaking change (depending on how much they are used in active projects).\r\n\r\nThere is no auto-generated schema or RPC interface, so those projects would have to fix them manually.\r\n\r\nNo strong opinion, but maybe this can be closed for now, and revisited when there is a schema generator?",
          "created_at": "2025-08-28T08:44:19Z"
        },
        {
          "user": "fqlx",
          "body": "> I expect those to be widely used (not only in the internal tests, as you noticed in the repeated force pushes), so this may or may not be a widely breaking change (depending on how much they are used in active projects).\r\n> \r\n> There is no auto-generated schema or RPC interface, so those projects would have to fix them manually.\r\n> \r\n> No strong opinion, but maybe this can be closed for now, and revisited when there is a schema generator?\r\n\r\nIn my opinion, this is a significant breaking change - but it's one that should have been done in like 2018 and now the tech debt has built up.  The reason I'm suggesting this change is because people are completely unaware of the `0,1,2,3` API spec due to the assumption it's a boolean and it just works.  People don't read the docs Lol.  And the boolean flag is compounding a legacy spec.  It's a fair assumption given the tests are outdated too.",
          "created_at": "2025-08-28T20:11:41Z"
        },
        {
          "user": "achow101",
          "body": "The way to deprecate these properly would be to first require `-deprecatedrpc=boolverbose` (or similar) which gates the old behavior. Then the following release can remove them.",
          "created_at": "2025-08-28T23:32:19Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-11-25T12:27:43Z"
        }
      ]
    },
    {
      "number": 33213,
      "title": "rpc: require integer verbosity; remove boolean 'verbose'",
      "body": "### Summary\r\n\r\nStandardize RPC verbosity to integers only and remove boolean handling for clarity, consistency, and future extensibility.\r\n\r\n### Rationale\r\n\r\n - **Legacy cleanup**: Boolean verbosity has been discouraged/deprecated in docs since 2017 and continues to create tech debt (special-case parsing, inconsistent tests, user confusion).\r\n- **Consistency**: Integers enable multi-level output without overloading a boolean.\r\n\r\n### User-visible changes\r\n- getblock, getrawtransaction, getrawmempool no longer accept booleans.\r\n- Passing true/false now errors with: Verbosity was boolean but only integer allowed.\r\n- Migration: false ‚Üí 0, true ‚Üí 1.\r\n\r\n### Code / Docs\r\n- ParseVerbosity(arg, default) now rejects booleans (removed allow_bool).\r\n- Call sites and functional tests updated to use integer levels. \r\n- Developer notes updated; release notes added.\r\n\r\n**Breaking change:** scripts/tools using boolean verbosity must switch to integers.",
      "state": "closed",
      "user": "fqlx",
      "created_at": "2025-08-19T02:02:30Z",
      "updated_at": "2025-08-19T02:56:19Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33213",
      "labels": [
        "RPC/REST/ZMQ"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "‚ôªÔ∏è Automatically closing for now based on heuristics. Please leave a comment, if this was erroneous. Generally, please focus on creating high-quality, original content that demonstrates a clear understanding of the project's requirements and goals.",
          "created_at": "2025-08-19T02:02:34Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33213.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- In util.cpp error message: \"Verbosity was boolean but only integer allowed\" -> \"Verbosity was boolean but only integer values are allowed\" [missing plural/verb for clarity]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-08-19T02:02:36Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33221,
      "title": "Request for Review: Somali Translation and Explanation of Bitcoin Whitepaper",
      "body": "Issue closed as not planned",
      "state": "closed",
      "user": "CryptoYahan",
      "created_at": "2025-08-19T19:59:02Z",
      "updated_at": "2025-10-25T18:16:22Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/33221",
      "labels": []
    },
    {
      "number": 33219,
      "title": "depends: `native_libmultiprocess` fails to build on OpenBSD",
      "body": "The `native_libmultiprocess` package fails to build on OpenBSD starting with #32345:\n```\n$ uname -a\nOpenBSD openbsd.home 7.7 GENERIC.MP#625 amd64\n$ gmake -j 1 -C depends/ MULTIPROCESS=1 native_libmultiprocess\ngmake: Entering directory '/home/hebasto/dev/bitcoin/depends'\nExtracting native_libmultiprocess...\n(SHA256) /home/hebasto/dev/bitcoin/depends/sources/src-ipc-libmultiprocess.tar: OK\nPreprocessing native_libmultiprocess...\nConfiguring native_libmultiprocess...\n-- The CXX compiler identification is Clang 16.0.6\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/clang++ - skipped\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success\n-- Found Threads: TRUE\n-- Performing Test HAVE_PTHREAD_GETNAME_NP\n-- Performing Test HAVE_PTHREAD_GETNAME_NP - Failed\n-- Performing Test HAVE_PTHREAD_THREADID_NP\n-- Performing Test HAVE_PTHREAD_THREADID_NP - Failed\n-- Performing Test HAVE_PTHREAD_GETTHREADID_NP\n-- Performing Test HAVE_PTHREAD_GETTHREADID_NP - Failed\n-- Configuring done (1.6s)\n-- Generating done (0.3s)\nCMake Warning:\n  Manually-specified variables were not used by the project:\n\n    CMAKE_EXPORT_NO_PACKAGE_REGISTRY\n\n\n-- Build files have been written to: /home/hebasto/dev/bitcoin/depends/work/build/x86_64-unknown-openbsd7.7/native_libmultiprocess/-874c5f6e479\nBuilding native_libmultiprocess...\ngmake[1]: Entering directory '/home/hebasto/dev/bitcoin/depends/work/build/x86_64-unknown-openbsd7.7/native_libmultiprocess/-874c5f6e479'\n[ 14%] Building CXX object CMakeFiles/mputil.dir/src/mp/util.cpp.o\n[ 14%] Built target mputil\n[ 28%] Compiling Cap'n Proto schema include/mp/proxy.capnp\n[ 42%] Building CXX object CMakeFiles/multiprocess.dir/include/mp/proxy.capnp.c++.o\n[ 57%] Building CXX object CMakeFiles/multiprocess.dir/src/mp/proxy.cpp.o\n[ 71%] Linking CXX static library libmultiprocess.a\n[ 71%] Built target multiprocess\n[ 85%] Building CXX object CMakeFiles/mpgen.dir/src/mp/gen.cpp.o\n[100%] Linking CXX executable mpgen\nld: warning: string.c++(string.c++.o:(kj::_::(anonymous namespace)::FloatToBuffer(float, char*)) in archive /home/hebasto/dev/bitcoin/depends/x86_64-unknown-openbsd7.7/native/lib/libkj.a): warning: strcpy() is almost always misused, please use strlcpy()\nld: warning: parser.c++(parser.c++.o:(capnp::compiler::CapnpParser::CapnpParser(capnp::Orphanage, capnp::compiler::ErrorReporter&)::$_39::operator()(capnp::compiler::(anonymous namespace)::Located<capnp::Text::Reader>&&, kj::Maybe<capnp::Orphan<capnp::compiler::LocatedInteger>>&&, capnp::compiler::(anonymous namespace)::Located<kj::Array<kj::Maybe<capnp::compiler::(anonymous namespace)::Located<capnp::Text::Reader>>>>&&, capnp::Orphan<capnp::compiler::Expression>&&, kj::Array<capnp::Orphan<capnp::compiler::Declaration::AnnotationApplication>>&&) const) in archive /home/hebasto/dev/bitcoin/depends/x86_64-unknown-openbsd7.7/native/lib/libcapnpc.a): warning: strcat() is almost always misused, please use strlcat()\nld: error: undefined hidden symbol: std::__1::basic_ostream<char, std::__1::char_traits<char>>& std::__1::operator<<[abi:v160006]<char, std::__1::char_traits<char>>(std::__1::basic_ostream<char, std::__1::char_traits<char>>&, std::__1::__thread_id)\n>>> referenced by util.cpp\n>>>               CMakeFiles/mputil.dir/src/mp/util.cpp.o:(mp::ThreadName(char const*))\nclang++: error: linker command failed with exit code 1 (use -v to see invocation)\ngmake[3]: *** [CMakeFiles/mpgen.dir/build.make:110: mpgen] Error 1\ngmake[2]: *** [CMakeFiles/Makefile2:1138: CMakeFiles/mpgen.dir/all] Error 2\ngmake[1]: *** [Makefile:146: all] Error 2\ngmake[1]: Leaving directory '/home/hebasto/dev/bitcoin/depends/work/build/x86_64-unknown-openbsd7.7/native_libmultiprocess/-874c5f6e479'\ngmake: *** [funcs.mk:345: /home/hebasto/dev/bitcoin/depends/work/build/x86_64-unknown-openbsd7.7/native_libmultiprocess/-874c5f6e479/./.stamp_built] Error 2\ngmake: Leaving directory '/home/hebasto/dev/bitcoin/depends'\n```",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-08-19T18:00:36Z",
      "updated_at": "2025-08-26T07:57:32Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/issues/33219",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "cc @ryanofsky ",
          "created_at": "2025-08-19T18:02:23Z"
        },
        {
          "user": "Sjors",
          "body": "@vasild if I remember correctly you had a PR to add ?BSD CI coverage?",
          "created_at": "2025-08-19T18:06:26Z"
        },
        {
          "user": "hebasto",
          "body": "> [@vasild](https://github.com/vasild) if I remember correctly you had a PR to add ?BSD CI coverage?\n\nFor Bitcoin Core, see https://github.com/hebasto/bitcoin-core-nightly.",
          "created_at": "2025-08-19T18:08:06Z"
        },
        {
          "user": "Sjors",
          "body": "Maybe we could have a label like \"moar-ci\" that runs these extra systems? Similar to how we can request guix builds.",
          "created_at": "2025-08-19T18:14:11Z"
        },
        {
          "user": "ryanofsky",
          "body": "I am waiting for openbsd to slowly install in a vm. It might not be too hard to add an openbsd job in the libmultiprocess repository too with https://github.com/vmactions/openbsd-vm",
          "created_at": "2025-08-19T18:48:20Z"
        },
        {
          "user": "ryanofsky",
          "body": "Thanks for the report and clear reproduction steps. Following change fixes the problem for me, and I guess this was caused by the IWYU commit in https://github.com/bitcoin-core/libmultiprocess/pull/184,\n\n```\n--- a/src/ipc/libmultiprocess/src/mp/util.cpp\n+++ b/src/ipc/libmultiprocess/src/mp/util.cpp\n@@ -16,6 +16,7 @@\n #include <sys/socket.h>\n #include <sys/wait.h>\n #include <system_error>\n+#include <thread>\n #include <unistd.h>\n #include <utility>\n #include <vector>\n```\n\nAn alternate change also fixed the problem:\n\n```\n--- a/src/ipc/libmultiprocess/src/mp/util.cpp\n+++ b/src/ipc/libmultiprocess/src/mp/util.cpp\n@@ -69,7 +69,7 @@ std::string ThreadName(const char* exe_name)\n #elif defined(HAVE_PTHREAD_GETTHREADID_NP)\n     buffer << pthread_getthreadid_np();\n #else\n-    buffer << std::this_thread::get_id();\n+    buffer << pthread_self();\n #endif\n \n     return std::move(buffer).str();\n```\n\nBut the first change is probably better.",
          "created_at": "2025-08-19T21:34:22Z"
        },
        {
          "user": "maflcko",
          "body": "upstream fix (from the previous comment) is at https://github.com/bitcoin-core/libmultiprocess/pull/195",
          "created_at": "2025-08-21T15:22:47Z"
        },
        {
          "user": "maflcko",
          "body": "Closing for now as \"fixed\"",
          "created_at": "2025-08-26T07:57:32Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 9,
    "issues": 2
  }
}