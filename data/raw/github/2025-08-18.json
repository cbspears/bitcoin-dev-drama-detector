{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:07:14.265328+00:00",
  "date": "2025-08-18",
  "pull_requests": [
    {
      "number": 33212,
      "title": "index: Don't commit state in BaseIndex::Rewind",
      "body": "The committed state of an index should never be ahead of the flushed chainstate. \r\nOtherwise, in the case of an unclean shutdown, the blocks necessary to revert\r\nfrom the prematurely committed state are not be available, which would corrupt the coinstatsindex in particular.\r\nInstead, the index state will be committed with the next ChainStateFlushed notification.\r\n\r\nFixes #33208",
      "state": "closed",
      "user": "mzumsande",
      "created_at": "2025-08-18T20:52:48Z",
      "updated_at": "2025-09-09T20:47:15Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/33212",
      "labels": [
        "UTXO Db and Indexes"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33212.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/33212#issuecomment-3212021123), [stickies-v](https://github.com/bitcoin/bitcoin/pull/33212#issuecomment-3213648051) |\n| Concept ACK | [fjahr](https://github.com/bitcoin/bitcoin/pull/33212#issuecomment-3210430071) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-18T20:52:54Z"
        },
        {
          "user": "fjahr",
          "body": "Concept ACK\r\n\r\nRe [my concerns here](https://github.com/bitcoin/bitcoin/issues/33208#issuecomment-3194652080) that this might not address the full issue I am now more confident that this may be all there is to it. This is anecdotal evidence and not based on statistics but vague memories but it seems that it happens more often on testnets than on mainnet and they couldn't remember seeing it on signet ever. So this would make a lot of sense if the issues are always connected to reorgs.",
          "created_at": "2025-08-21T12:37:39Z"
        },
        {
          "user": "mzumsande",
          "body": "> It seems to me like it might not fully fix the issue. In BaseIndex::Sync(), we'll Commit() ever SYNC_LOCATOR_WRITE_INTERVAL (30s). NextSyncBlock() will get us all the way up to the chaintip, which I think is not guaranteed to be flushed to disk. So it seems like even without reorgs, Init() can still trip up here with the issue reported in https://github.com/bitcoin/bitcoin/issues/33208?\r\n\r\nGood point, I think you are right! This happens when the chaintip advances during the time when `Sync()` is syncing. In particular, we Commit right before setting `m_synced = true`. I'd guess that this is probably not responsible for the majority of reported cases, because it would happen mostly during the initial sync of the index, but I agree it's possible.\r\nhttps://github.com/bitcoin/bitcoin/pull/30611 should also help to make this more rare, because the unrelated crash would now need to happen within one hour instead of 24h.\r\n\r\n> One approach could be to set a std::optional<CBlockIndex> BaseIndex::last_flushed_block_index, which (if set) can be used by Commit() to only run if it's not ahead of that index?\r\n\r\nYes, this looks like a promising approach to me. I probably won't have time to work on this until september, so if you have time and want to take a stab at it that'd be great!",
          "created_at": "2025-08-21T14:54:33Z"
        },
        {
          "user": "mzumsande",
          "body": "[4625b4b](https://github.com/bitcoin/bitcoin/commit/4625b4b8f772de1cd852003645c75bfa68c6735a) to [a602f6f](https://github.com/bitcoin/bitcoin/commit/a602f6fb7bf5f9e57299f4d6e246c82379fad8d2): small changes to the test",
          "created_at": "2025-08-21T15:45:20Z"
        },
        {
          "user": "achow101",
          "body": "ACK a602f6fb7bf5f9e57299f4d6e246c82379fad8d2",
          "created_at": "2025-08-21T20:45:16Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK a602f6fb7bf5f9e57299f4d6e246c82379fad8d2\r\n\r\nCI [failure](https://github.com/bitcoin/bitcoin/actions/runs/17131871632/job/48598055509?pr=33212) (_\"The hosted runner lost communication with the server\"_) looks unrelated, would be good to restart?",
          "created_at": "2025-08-22T09:05:37Z"
        },
        {
          "user": "fanquake",
          "body": "Seems like the 3rd or 4th re-run finally got lucky.",
          "created_at": "2025-08-22T14:36:02Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #33251.",
          "created_at": "2025-08-24T21:48:27Z"
        }
      ]
    },
    {
      "number": 33211,
      "title": "test: modify logging_filesize_rate_limit params",
      "body": "Change `time_window` from 20s to 1h so `Reset` is not accidentally called if the test takes a while.\r\n\r\nChange `num_lines` from 1024 to 10 since `LogRateLimiter` is parameterized and does not require logging 1MiB of data.\r\n\r\nFixes #33195",
      "state": "closed",
      "user": "Crypt-iQ",
      "created_at": "2025-08-18T18:28:10Z",
      "updated_at": "2025-08-20T11:19:11Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/33211",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33211.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/33211#issuecomment-3201612121), [janb84](https://github.com/bitcoin/bitcoin/pull/33211#pullrequestreview-3133387403), [dergoegge](https://github.com/bitcoin/bitcoin/pull/33211#pullrequestreview-3135588711) |\n| Stale ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/33211#issuecomment-3199775857) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-18T18:28:17Z"
        },
        {
          "user": "Crypt-iQ",
          "body": "cc @stickies-v ",
          "created_at": "2025-08-18T20:33:31Z"
        },
        {
          "user": "achow101",
          "body": "If we believe it is due to the reset window, then we could set set the reset window to 5 hours, which is the longest CI timeout, so if that were to ever be reached, CI would be failing anyways. But 1 hour is also fine.",
          "created_at": "2025-08-18T21:52:56Z"
        },
        {
          "user": "maflcko",
          "body": "Thx. This is a nice and simple change to make the test log smaller and thus easier to debug in case of failure. Also, increasing the window should be harmless and could avoid intermittent issues on slow IO.\r\n\r\nreview ACK ab5c3be4b384d48d514b06dc8a391f1efa51ea38 ðŸŒ¤\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK ab5c3be4b384d48d514b06dc8a391f1efa51ea38 ðŸŒ¤\r\nc6XGbFdRH7qQITdhwFl6uTRmkfjfxd5/tI/vFU8WOvXxttikOceA9qapIUsYQFpgETKJNQj41YGASdIYWGwuCA==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-08-19T08:32:22Z"
        },
        {
          "user": "stickies-v",
          "body": "> Small worry is by increasing the test rest window to 1h is that this will impact CI if a test will hang for some reason, it is a big increase.\r\n\r\nAny test can slow down or hang for multiple reasons, that's why we have CI timeouts. I don't think it's pragmatic to use unexpected program flow to control timeouts.",
          "created_at": "2025-08-19T13:04:27Z"
        },
        {
          "user": "maflcko",
          "body": "> Small worry is by increasing the test rest window to 1h is that this will impact CI if a test will hang for some reason, it is a big increase.\r\n\r\nThe timeout is purely virtual and never waited on or synced on in real wall-clock time, so I don't think this comment applies?",
          "created_at": "2025-08-19T13:38:57Z"
        },
        {
          "user": "janb84",
          "body": "> > Small worry is by increasing the test rest window to 1h is that this will impact CI if a test will hang for some reason, it is a big increase.\r\n> \r\n> The timeout is purely virtual and never waited on or synced on in real wall-clock time, so I don't think this comment applies?\r\n\r\n> > Small worry is by increasing the test rest window to 1h is that this will impact CI if a test will hang for some reason, it is a big increase.\r\n> \r\n> Any test can slow down or hang for multiple reasons, that's why we have CI timeouts. I don't think it's pragmatic to use unexpected program flow to control timeouts.\r\n\r\nOk unwarranted worry :) I stand corrected. Thank you both for the answers \r\n\r\nACK ab5c3be4b384d48d514b06dc8a391f1efa51ea38",
          "created_at": "2025-08-19T13:44:06Z"
        },
        {
          "user": "Crypt-iQ",
          "body": "Latest push ab5c3be -> 5dda364c adds the diff referenced in [this comment](https://github.com/bitcoin/bitcoin/pull/33211#pullrequestreview-3131772733) so that test failures are more informative. No other changes.",
          "created_at": "2025-08-19T16:57:27Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK 5dda364c4b1965da586db7b81de8be90b6919414 for more helpful failure logging, no other changes",
          "created_at": "2025-08-19T17:35:19Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #33225.",
          "created_at": "2025-08-20T11:19:11Z"
        }
      ]
    },
    {
      "number": 33210,
      "title": "fuzz: enhance wallet_fees by mocking mempool stuff",
      "body": "Some functions in `wallet/fees.cpp` (fuzzed by the wallet_fees target) depends on some mempool stuff - e.g. relay current min fee, smart fee and max blocks estimation, relay dust fee and other ones. For better fuzzing of it, it would be great to have these values/interactions. That said, this PR enhances the `wallet_fees` target by:\r\n\r\n- Setting mempool options - `min_relay_feerate`,  `dust_relay_feerate` and `incremental_relay_feerate` - when creating the `CTxMemPool`.\r\n- Creates a `ConsumeMempoolMinFee` function which is used to have a mempool min fee (similar approach from `MockMempoolMinFee` from unit test).\r\n- Mock `CBlockPolicyEstimator` - estimateSmartFee/HighestTagretTracket functions, especifically. It's better to mock it then trying to interact to CBlockPolicyEstimator in order to have some effective values due to performance.\r\n\r\nNote that I created `FeeEstimatorTestingSetup` because we cannot set `m_node.fee_estimator` in `ChainTestingSetup` since fae8c73d9e4eba4603447bb52b6e3e760fbf15f8.",
      "state": "closed",
      "user": "brunoerg",
      "created_at": "2025-08-18T12:25:00Z",
      "updated_at": "2025-10-30T13:57:42Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/33210",
      "labels": [
        "Tests",
        "Fuzzing"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33210.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/33210#issuecomment-3242635933), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/33210#pullrequestreview-3224092444) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32747](https://github.com/bitcoin/bitcoin/pull/32747) (Introduce SockMan (\"lite\"): low-level socket handling for HTTP by pinheadmz)\n* [#26812](https://github.com/bitcoin/bitcoin/pull/26812) (test: add end-to-end tests for CConnman and PeerManager by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-18T12:25:05Z"
        },
        {
          "user": "maflcko",
          "body": "Are there any stats on increased coverage, or is this just checking more values in the same paths?\r\n\r\nlgtm ACK 84927d37745920412b270ad3502308f0ad8cb7ca ðŸ“ \r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: lgtm ACK 84927d37745920412b270ad3502308f0ad8cb7ca ðŸ“ \r\nLwOaL7YJaoPKVQe54/zAKC/RoOtidVJw2FAu4exHHtZwutOT6fuCdQ/LpiDi5sjAw5vCNVpiU2x2NhnRjQ4DAA==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-08-29T07:28:08Z"
        },
        {
          "user": "brunoerg",
          "body": "> Are there any stats on increased coverage, or is this just checking more values in the same paths?\r\n\r\nI'm going to share a coverage report but yes, it increases the coverage and reaches 100% of `wallet/fees.cpp`. One of the motivations for this PR is that I noticed that the following code was uncovered due to mempool min fee being always zero:\r\n\r\n```cpp\r\n// Obey mempool min fee when using smart fee estimation\r\nCFeeRate min_mempool_feerate = wallet.chain().mempoolMinFee();\r\nif (feerate_needed < min_mempool_feerate) {\r\n    feerate_needed = min_mempool_feerate;\r\n    if (feeCalc) feeCalc->reason = FeeReason::MEMPOOL_MIN;\r\n}\r\n```",
          "created_at": "2025-08-29T21:37:32Z"
        },
        {
          "user": "brunoerg",
          "body": "Force-pushed addressing https://github.com/bitcoin/bitcoin/pull/33210#discussion_r2313144770, https://github.com/bitcoin/bitcoin/pull/33210#discussion_r2313159186 and https://github.com/bitcoin/bitcoin/pull/33210#discussion_r2313164738. ",
          "created_at": "2025-09-01T12:39:24Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `macOS-cross, gui, no tests`: https://github.com/bitcoin/bitcoin/runs/49328200705</sub>\n<sub>LLM reason (âœ¨ experimental): Compile error in test_bitcoin: MockMempoolMinFee calls pass a unique_ptr<CTxMemPool> where a CTxMemPool& is required, causing no viable function match and failing the build.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-09-01T12:41:12Z"
        },
        {
          "user": "brunoerg",
          "body": "Oops, forgot to fix the unit test, doing this.",
          "created_at": "2025-09-01T13:05:40Z"
        },
        {
          "user": "maflcko",
          "body": "re-ACK 5ded99a7f007b142f6b0ec89e0c71ef281b42684 ðŸŽ¯\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 5ded99a7f007b142f6b0ec89e0c71ef281b42684 ðŸŽ¯\r\nUQRB3KB6eMI44rzTEUX/7KKms2q1AD4HkP+qr/eelKu1N4MWq7+SHjJ454uspf+i6DcaxbyPbDiQkl3ECel4Cw==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-09-01T14:47:59Z"
        },
        {
          "user": "brunoerg",
          "body": "rfm?",
          "created_at": "2025-09-23T12:42:15Z"
        }
      ]
    },
    {
      "number": 33209,
      "title": "cmake: Drop python dependency for translate",
      "body": "Translate the `share/qt/extract_strings_qt.py` script to CMake. This removes the python dependency from the `translate` target.\r\n\r\nResolves #33146",
      "state": "closed",
      "user": "purpleKarrot",
      "created_at": "2025-08-18T11:12:52Z",
      "updated_at": "2025-09-06T06:26:43Z",
      "comments": 12,
      "url": "https://github.com/bitcoin/bitcoin/pull/33209",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33209.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33209#pullrequestreview-3131218780), [janb84](https://github.com/bitcoin/bitcoin/pull/33209#pullrequestreview-3131829788) |\n| Stale ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/33209#pullrequestreview-3130148017) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-18T11:12:58Z"
        },
        {
          "user": "purpleKarrot",
          "body": "> CI linter complains:\r\n> \r\n> ```\r\n> [11:39:00.061] File \"share/qt/translate.cmake\" contains a shebang line, but has the file permission 644 instead of the expected executable permission 755. Do \"chmod 755 share/qt/translate.cmake\" (or remove the shebang line).\r\n> ```\r\n\r\nWhat would you prefer:\r\n\r\na) Set executable bit, or\r\nb) Remove shebang.\r\n",
          "created_at": "2025-08-18T12:15:34Z"
        },
        {
          "user": "hebasto",
          "body": "> > CI linter complains:\r\n> > ```\r\n> > [11:39:00.061] File \"share/qt/translate.cmake\" contains a shebang line, but has the file permission 644 instead of the expected executable permission 755. Do \"chmod 755 share/qt/translate.cmake\" (or remove the shebang line).\r\n> > ```\r\n> \r\n> What would you prefer:\r\n> \r\n> a) Set executable bit, or\r\n> b) Remove shebang.\r\n\r\n(b), for consistency with other CMake scripts in the repository,",
          "created_at": "2025-08-18T12:18:58Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/48299489270</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by incorrect file permissions on a script with a shebang line.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-18T12:27:34Z"
        },
        {
          "user": "purpleKarrot",
          "body": "Changes:\r\n\r\n* xgettext is instructed to sort the output by file\r\n* the messages are no longer sorted by cmake\r\n* multiline strings are joined\r\n\r\nIt was tested on both arch and ubuntu 24.04 to produce the same output (Older versions of xgettext split the strings at different positions, joining the multiline strings results in the same output).",
          "created_at": "2025-08-18T16:44:38Z"
        },
        {
          "user": "hebasto",
          "body": "@purpleKarrot \r\n\r\n> Translate the `share/qt/extract_strings_qt.py` script to CMake. This removes the python dependency from the `translate` target.\r\n\r\nMind updating the PR description with something like \"Resolves #33146\"?",
          "created_at": "2025-08-19T07:54:25Z"
        },
        {
          "user": "purpleKarrot",
          "body": "> Otherwise, the string order depends on the order in which source files are processed by `xgettext`.\r\n\r\n@hebasto, I just created two files `a.c` and `b.c` with some `gettext` content and compared the outputs of `xgettext a.c b.c` and `xgettext b.c a.c` both with `--sort-by-file` and without. I can confirm that without the `--sort-by-file` option the order of processing changes the output, but it is stable when that option is used.\r\n",
          "created_at": "2025-08-19T07:54:39Z"
        },
        {
          "user": "hebasto",
          "body": "> > Otherwise, the string order depends on the order in which source files are processed by `xgettext`.\r\n> \r\n> @hebasto, I just created two files `a.c` and `b.c` with some `gettext` content and compared the outputs of `xgettext a.c b.c` and `xgettext b.c a.c` both with `--sort-by-file` and without. I can confirm that without the `--sort-by-file` option the order of processing changes the output, but it is stable when that option is used.\r\n\r\nRight my assumption was not correct.\r\n\r\nHowever, there is another drawback to using the `--sort-by-file` option. The resulting order depends on the actual file names, so renaming a source file will cause unnecessary churn.",
          "created_at": "2025-08-19T08:06:07Z"
        },
        {
          "user": "hebasto",
          "body": ">    * multiline strings are joined\r\n\r\n~FWIW, the same effect can be achieved with the `--no-wrap` option. However, I havenâ€™t tested this with older versions of `xgettext`.~\r\n\r\nEDIT: Apparently, its behaviour is a bit complicated.",
          "created_at": "2025-08-19T08:22:59Z"
        },
        {
          "user": "purpleKarrot",
          "body": "> FWIW, the same effect can be achieved with the `--no-wrap` option. However, I havenâ€™t tested this with older versions of `xgettext`.\r\n\r\nI have tested it. It simplifies the loop a lot.",
          "created_at": "2025-08-19T08:42:10Z"
        },
        {
          "user": "purpleKarrot",
          "body": "> Apparently, its behaviour is a bit complicated.\r\n\r\nFor reference, the problem is that strings that are wrapped in C++ are not joined with `--no-wrap`.",
          "created_at": "2025-08-19T08:57:24Z"
        },
        {
          "user": "hebasto",
          "body": "> Manually checked diff of `bitcoinstrings.cpp` because of change of sorting, all the lines are included. This PR introduces 2 new lines in `bitcoinstrings.cpp`:\r\n> \r\n> ```c++\r\n>  QT_TRANSLATE_NOOP(\"bitcoin-core\", \"The %s path uses exFAT, which is known to have intermittent corruption problems on macOS. Move this directory to a different filesystem to avoid data loss.\"),\r\n>  QT_TRANSLATE_NOOP(\"bitcoin-core\", \"default wallet\"),\r\n> ```\r\n\r\nThis is expected. See: https://github.com/bitcoin/bitcoin/pull/33193.",
          "created_at": "2025-08-19T11:11:17Z"
        }
      ]
    }
  ],
  "issues": [],
  "summary": {
    "pull_requests": 4,
    "issues": 0
  }
}