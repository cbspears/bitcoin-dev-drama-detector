{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:54:06.132692+00:00",
  "date": "2025-07-02",
  "pull_requests": [
    {
      "number": 32860,
      "title": "Add BIP reference links to release notes",
      "body": "\r\nEnhanced release notes documentation by adding direct links to BIP specifications for better readability and reference:\r\nAdded links to BIP 66 specification\r\nAdded links to BIP 22 (long polling) documentation\r\nAdded links to BIP 23 block proposals specification\r\nAdded links to BIP 34 miner-voting mechanism\r\nAll links point to the official Bitcoin BIPs repository for consistency and reliability. Maintained existing document structure and formatting while improving accessibility to technical specifications.",
      "state": "closed",
      "user": "PixelPil0t1",
      "created_at": "2025-07-02T15:56:06Z",
      "updated_at": "2025-07-02T15:56:40Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32860",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "üìÅ Archived release notes are archived and should not be modified.",
          "created_at": "2025-07-02T15:56:10Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32860.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-02T15:56:11Z"
        }
      ]
    },
    {
      "number": 32859,
      "title": "functional test: correctly detect nonstd TRUC tx vsize in feature_taproot",
      "body": "Resolves https://github.com/bitcoin/bitcoin/pull/32841#discussion_r2180240391",
      "state": "closed",
      "user": "instagibbs",
      "created_at": "2025-07-02T15:05:56Z",
      "updated_at": "2025-07-02T23:01:54Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32859",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32859.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/32859#pullrequestreview-2979878770), [w0xlt](https://github.com/bitcoin/bitcoin/pull/32859#pullrequestreview-2979983814), [davidgumberg](https://github.com/bitcoin/bitcoin/pull/32859#issuecomment-3029569601), [achow101](https://github.com/bitcoin/bitcoin/pull/32859#issuecomment-3029573887) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-02T15:06:00Z"
        },
        {
          "user": "davidgumberg",
          "body": "utACK https://github.com/bitcoin/bitcoin/commit/f0524cda3995cf65adab3d0ca8da0dee4e31c79b",
          "created_at": "2025-07-02T22:54:29Z"
        },
        {
          "user": "achow101",
          "body": "ACK f0524cda3995cf65adab3d0ca8da0dee4e31c79b",
          "created_at": "2025-07-02T22:55:46Z"
        }
      ]
    },
    {
      "number": 32858,
      "title": "doc: Add workaround for vcpkg issue with paths with embedded spaces",
      "body": "This PR is an alternative to https://github.com/bitcoin/bitcoin/pull/32397 suggested in https://github.com/bitcoin/bitcoin/pull/32397#issuecomment-2883438040.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-07-02T14:46:43Z",
      "updated_at": "2025-07-03T16:39:10Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32858",
      "labels": [
        "Docs",
        "Windows"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32858.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sipsorcery](https://github.com/bitcoin/bitcoin/pull/32858#issuecomment-3031819388) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-02T14:46:47Z"
        },
        {
          "user": "fanquake",
          "body": "cc @sipsorcery ",
          "created_at": "2025-07-03T10:34:46Z"
        },
        {
          "user": "sipsorcery",
          "body": "ACK 0a1af4418ed2a135001cc0e10f0af44cbd64e521.",
          "created_at": "2025-07-03T10:55:22Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #32863.",
          "created_at": "2025-07-03T16:39:10Z"
        }
      ]
    },
    {
      "number": 32857,
      "title": "wallet: allow skipping script paths",
      "body": "While testing MuSig2 integration in #29675 I ran into a Ledger bug https://github.com/LedgerHQ/app-bitcoin-new/issues/329 that was triggered because we signed for a script path in addition to the key path. The bug itself will be fixed, but it seems useful in general to be able to skip script path signing.\r\n\r\nFor example, you may have a 2-of-2 musig() descriptor with some sort of fallback after coins are N blocks old. For both on chain privacy and fee reasons, you don't want to use this path unless absolutely necessary. But our wallet can't know if our co-signer still has their key, so we sign the script path at all times. This could lead to accidental broadcast.\r\n\r\nThis PR introduces a `keypath_only` option (default `false` for now) to:\r\n- the `send` RPC \r\n- the `walletprocesspsbt` RPC.\r\n\r\nThe resulting PSBT won't include `taproot_script_path_sigs`. It does still have `taproot_bip32_derivs` and `musig2_participant_pubkeys`.\r\n\r\nThe `wallet_taproot.py` tests are expanded to cover this behavior.\r\n\r\nIt can also be tested with https://github.com/Sjors/bitcoin/pull/91 and a slightly modified [Moosig](https://github.com/LedgerHQ/moosig). See https://github.com/LedgerHQ/app-bitcoin-new/issues/329 for the rough steps.\r\n\r\nBased on:\r\n- [ ] #32876\r\n\r\nTODO:\r\n- [ ] maybe refactor `MutableTransactionSignatureCreator`\r\n- [ ] add test coverage for `send`\r\n\r\nPotential followups:\r\n- make this default for `musig()` (after #29675)",
      "state": "open",
      "user": "Sjors",
      "created_at": "2025-07-02T14:13:31Z",
      "updated_at": "2026-01-13T07:30:40Z",
      "comments": 16,
      "url": "https://github.com/bitcoin/bitcoin/pull/32857",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32857.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34170](https://github.com/bitcoin/bitcoin/pull/34170) (fuzz: Extend `scriptpubkeyman` coverage by Chand-ra)\n* [#33008](https://github.com/bitcoin/bitcoin/pull/33008) (wallet: support bip388 policy with external signer by Sjors)\n* [#32958](https://github.com/bitcoin/bitcoin/pull/32958) (wallet/refactor: change PSBTError to PSBTResult and remove std::optional<common::PSBTResult> and return common::PSBTResult by kevkevinpal)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\n\n\nPossible places where named args for integral literals may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- MutableTransactionSignatureCreator(valid_with_witness_tx, 0, 11 * CENT, {.sighash_type = SIGHASH_DEFAULT}) in src/test/txvalidationcache_tests.cpp\n- MutableTransactionSignatureCreator(tx, i, 11 * CENT, {.sighash_type = SIGHASH_DEFAULT}) in src/test/txvalidationcache_tests.cpp\n- walletcreatefundedpsbt([], [{...}], None, {\"subtractFeeFromOutputs\":[0], \"fee_rate\": fee_rate, \"change_type\": address_type}) in test/functional/wallet_taproot.py\n- walletcreatefundedpsbt([], [{...}], None, {\"subtractFeeFromOutputs\":[0], \"fee_rate\": fee_rate, \"change_type\": address_type}) in test/functional/wallet_taproot.py\n\n\n\n<sup>2026-01-05</sup>\n",
          "created_at": "2025-07-02T14:13:36Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `ARM, unit tests, no functional tests`: https://github.com/bitcoin/bitcoin/runs/45219351756</sub>\n<sub>LLM reason (‚ú® experimental): Compilation error due to passing a bool where an int* is expected in fillPSBT function.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-02T15:53:11Z"
        },
        {
          "user": "fanquake",
          "body": "Why is one of the native Windows jobs failing to compile: https://github.com/bitcoin/bitcoin/actions/runs/16027562790/job/45219347987?pr=32857#step:10:553, but not the other: https://github.com/bitcoin/bitcoin/actions/runs/16027562790/job/45219348012?pr=32857 ?",
          "created_at": "2025-07-02T16:04:58Z"
        },
        {
          "user": "Sjors",
          "body": "@fanquake because it's in the fuzzer code, I incorrectly changed one of the function signatures there.",
          "created_at": "2025-07-02T16:35:47Z"
        },
        {
          "user": "Sjors",
          "body": "From the original description:\r\n\r\n> Under the hood it adds m_hide_script_paths to the HidingSigningProvider which triggers an early return in GetTaprootSpendData() when set.\r\n\r\n> It's also missing taproot_scripts which might be a bit too much. At least in initial testing Ledger wouldn't sign it.\r\n\r\nI probably need to implement this at the `SigningProvider` level rather than `HidingSigningProvider`. The early return needs to be inside `SignTaproot()` right before `// Try script path spending` rather than in `GetTaprootSpendData()`. The goal isn't to hide leaf scripts from co-signers, only to make sure we don't sign them ourselves. ",
          "created_at": "2025-07-02T16:53:37Z"
        },
        {
          "user": "Sjors",
          "body": "Shoehorning this into `SigningProvider` got ugly real fast. So instead I endup up passing `avoid_script_path` along the call stack from `SignPSBTInput` to `SignTaproot`. Which is also ugly...\r\n\r\nWell, it compiles and works. Thoughts on how to implement this elegantly?",
          "created_at": "2025-07-02T18:31:02Z"
        },
        {
          "user": "Sjors",
          "body": "The `walletprocesspsbt` RPC now also has this option. Added test coverage by expanding `wallet_taproot.py`.",
          "created_at": "2025-07-03T12:48:06Z"
        },
        {
          "user": "Sjors",
          "body": "I split off a non-behavior-changing commit that adds `avoid_script_path` to `FillPSBT`. I think it makes sense to pass this option here, although in general we may want to refactor `FillPSBT` to take an options struct instead of this ever expanding argument list. That could be an independent or prerequisite PR.\r\n\r\nI then did the same for `SignPSBTInput`, where I also think struct would be better.\r\n\r\nRinse and repeat for `::SignTransaction`.\r\n\r\nWill continue later to further split 09334ae0bd7939ed7476eb2b36f3bf8085885fe7. It might make sense to add a property to `BaseSignatureCreator` or it subclasses?",
          "created_at": "2025-07-03T14:01:34Z"
        },
        {
          "user": "Sjors",
          "body": "I opened #32876 and rebased this PR on top of it. That allowed me to drop 1486f05c8eded02d72690bf34d983a03e4ad748b + efc34a514b59cc1bab6e4d0f80c197481561c429.",
          "created_at": "2025-07-04T13:45:56Z"
        },
        {
          "user": "Sjors",
          "body": "I expanded #32876 with `SignOptions`. This shrinks 93fb607af3141ff1e22693588f498764401fc2c4 to just e2a151c3dc35997ac0f515feb292fc4543093593 which is very small ... but very ugly: casting `BaseSignatureCreator` to `MutableTransactionSignatureCreator` to access its `avoid_script_path` option.",
          "created_at": "2025-07-04T16:02:42Z"
        },
        {
          "user": "Sjors",
          "body": "This may also be useful for Silent Payments, cc @josibake.",
          "created_at": "2025-07-07T07:57:22Z"
        },
        {
          "user": "Sjors",
          "body": "Sidenote: currently it's unlikely you'll accidentally spend via an `older()` or `after()` script path. This is because you need to manually set the input `sequence` field in the `send` (etc.) RPC (and manually adjust the fee rate). Found out the hard way while testing ü§¶ (there's currently no useful feedback when this happens).",
          "created_at": "2025-07-07T12:59:06Z"
        },
        {
          "user": "Sjors",
          "body": "Holding off on rebasing until #32876 is merged or I have to touch it.",
          "created_at": "2025-08-25T11:51:26Z"
        },
        {
          "user": "rkrux",
          "body": "> Sidenote: currently it's unlikely you'll accidentally spend via an `older()` or `after()` script path. This is because you need to manually set the input `sequence` field in the `send` (etc.) RPC (and manually adjust the fee rate). Found out the hard way while testing ü§¶ (there's currently no useful feedback when this happens).\r\n\r\n**Scenario that I have not tested but expect to behave in this way:** 3 signers (A, B, C) form a MuSig (ABC) in the `keypath` and also have 3 non-Musig multi-sig script paths (AB, BC, AC) without any timelocks. They intend to MuSig sign in order from A to C to spend via keypath and start the signing flow first by producing nonces in the mentioned order, and then by adding partial signatures. By the time B adds its nonce, there'd would be a fully signed spendable script path? If yes, seems unusual to have this when the intent of the signers was for keypath spending, which makes a good case for this PR.\r\n\r\nI did notice unconditional key and script path signing within `SignTaproot` function when I was reviewing #29675. We tried to simulate an intentional script path spending like above in #29675 by making `A` a no-signing wallet in the last test case in functional tests: https://github.com/bitcoin/bitcoin/pull/29675/commits/ac599c4a9cb3b2d424932d3fd91f9eed17426827#diff-c94f9555a2569240d362a00a82764f4714f6c65283e3f96725cf2a1043a296b5R238. Though the script path in that case is using MuSig but the overall unconditional script signing principle is still applicable.",
          "created_at": "2025-10-06T12:39:52Z"
        },
        {
          "user": "rkrux",
          "body": "If #32876 is not garnering reviews, can consider undrafting this PR itself because it contains 7 commits only. \r\nAllowing skipping script path spending optionally seems reasonable to me and a ready-to-review PR is more inviting than a draft one.",
          "created_at": "2025-10-06T12:42:43Z"
        },
        {
          "user": "Sjors",
          "body": "@rkrux I'm not too worried about reviews just yet, let's focus on getting  https://github.com/bitcoin/bitcoin/pull/29675 in.",
          "created_at": "2025-10-07T08:10:55Z"
        }
      ]
    },
    {
      "number": 32856,
      "title": "Update `minisketch` subtree",
      "body": "This PR updates the `minisketch` subtree to latest upstream, which includes:\r\n    - https://github.com/bitcoin-core/minisketch/pull/75\r\n    - https://github.com/bitcoin-core/minisketch/pull/98",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-07-02T10:17:23Z",
      "updated_at": "2025-11-11T14:17:51Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32856",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32856.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32856#issuecomment-3511834935) |\n| Stale ACK | [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/32856#pullrequestreview-3163505949) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-02T10:17:27Z"
        },
        {
          "user": "hebasto",
          "body": "This PR concludes the joint efforts of @sipa, @purpleKarrot, @theuni, and me.",
          "created_at": "2025-07-02T10:18:04Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit 7cc9a087069bfcdb79a08ce77eb3a60adf9483af<br>(master) | commit 53fb0bed8c6b095db8a14dbbacaf10576e7de272<br>(pull/32856/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`d4d79e719716b3ec...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-aarch64-linux-gnu-debug.tar.gz) | [`c1906f0adee8ffbb...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`a2d7668998cf5581...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-aarch64-linux-gnu.tar.gz) | [`f33c164b138e4bb6...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`7837b2ae895960f0...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-arm-linux-gnueabihf-debug.tar.gz) | [`85253090381c1ca9...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`d5d7a18af35959f1...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-arm-linux-gnueabihf.tar.gz) | [`7c6ca7737ca58f3e...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`ff2bc3fc9409522c...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-arm64-apple-darwin-codesigning.tar.gz) | [`d4033b7073389025...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`3b10528036208e16...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-arm64-apple-darwin-unsigned.tar.gz) | [`a1474c40ebf2a77c...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`3b1d6add242ef0d7...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-arm64-apple-darwin-unsigned.zip) | [`c0c02a701066e196...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`4c2b7de0dabcdd4a...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-powerpc64-linux-gnu-debug.tar.gz) | [`000895cac16e7357...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`f3f972bc01c3ba2a...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-powerpc64-linux-gnu.tar.gz) | [`42a094f6df1a044f...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`89970d2c2338ca29...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-riscv64-linux-gnu-debug.tar.gz) | [`626110369eda673b...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`0e9938e42a3374e8...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-riscv64-linux-gnu.tar.gz) | [`2179c86597a2c34d...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`8efa84ef1754aeb0...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-x86_64-apple-darwin-codesigning.tar.gz) | [`5929ac11470c034e...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`cbe1699bdef1590b...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-x86_64-apple-darwin-unsigned.tar.gz) | [`88d18471fd19c63f...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`279e63b23ff0ce08...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-x86_64-apple-darwin-unsigned.zip) | [`22ace0f53beb8b35...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`512b5f4b222c4a46...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-x86_64-linux-gnu-debug.tar.gz) | [`892b17e56dd5917a...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`56b4aff66d9c4c2d...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b-x86_64-linux-gnu.tar.gz) | [`ee2e5b93fa93f407...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`194017e760c3dc48...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/bitcoin-7cc9a087069b.tar.gz) | [`f0a9a46c976957a1...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/bitcoin-53fb0bed8c6b.tar.gz) |\n| SHA256SUMS.part | [`d6231a052dc6c762...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/SHA256SUMS.part) | [`553753a14991a50c...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/SHA256SUMS.part) |\n| guix_build.log | [`682a144f4b40ec20...`](https://drahtbot.space/guix/monotree/7cc9a087069bfcdb79a08ce77eb3a60adf9483af/guix_build.log) | [`27f2dd82df7e90e4...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/guix_build.log) |\n| guix_build.log.diff |  | [`6d8a7f57eaa9c089...`](https://drahtbot.space/guix/monotree/53fb0bed8c6b095db8a14dbbacaf10576e7de272/guix_build.log.diff) |\n\n",
          "created_at": "2025-08-29T22:54:04Z"
        },
        {
          "user": "hebasto",
          "body": "Refreshed and rebased. The PR description has been updated.",
          "created_at": "2025-10-13T11:37:25Z"
        },
        {
          "user": "fanquake",
          "body": "Any chance you want to turn this into just a subtree pull, and do the switchover in a followup PR?",
          "created_at": "2025-11-10T12:16:45Z"
        },
        {
          "user": "hebasto",
          "body": "> Any chance you want to turn this into just a subtree pull, and do the switchover in a followup PR?\r\n\r\nSure. The last commit has been dropped.",
          "created_at": "2025-11-10T12:51:33Z"
        },
        {
          "user": "fanquake",
          "body": "ACK c235aa468b0dcc67b49340dbe9b675c513cec7bf",
          "created_at": "2025-11-10T14:00:12Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32855,
      "title": "intermittent timeout in wallet_signer.py : 'createwallet' RPC took longer than 1200.000000 seconds",
      "body": "in the `multiprocess, i686, DEBUG` task in `self.nodes[1].createwallet(wallet_name='hww_disconnect', disable_private_keys=True, external_signer=True)`,\n\nhttps://cirrus-ci.com/task/5704849158832128?logs=ci#L2967:\n\n```\n node1 2025-06-26T14:05:40.072184Z [msghand] [net_processing.cpp:3452] [ProcessMessage] [net] received: pong (8 bytes) peer=0 \n test  2025-06-26T14:05:43.222938Z TestFramework (ERROR): JSONRPC error \n                                   Traceback (most recent call last):\n                                     File \"/ci_container_base/test/functional/test_framework/authproxy.py\", line 174, in _get_response\n                                       http_response = self.__conn.getresponse()\n                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^\n                                     File \"/usr/lib/python3.12/http/client.py\", line 1428, in getresponse\n                                       response.begin()\n                                     File \"/usr/lib/python3.12/http/client.py\", line 331, in begin\n                                       version, status, reason = self._read_status()\n                                                                 ^^^^^^^^^^^^^^^^^^^\n                                     File \"/usr/lib/python3.12/http/client.py\", line 292, in _read_status\n                                       line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                     File \"/usr/lib/python3.12/socket.py\", line 707, in readinto\n                                       return self._sock.recv_into(b)\n                                              ^^^^^^^^^^^^^^^^^^^^^^^\n                                   TimeoutError: timed out\n                                   During handling of the above exception, another exception occurred:\n                                   Traceback (most recent call last):\n                                     File \"/ci_container_base/test/functional/test_framework/test_framework.py\", line 190, in main\n                                       self.run_test()\n                                     File \"/ci_container_base/ci/scratch/build-i686-pc-linux-gnu/test/functional/wallet_signer.py\", line 59, in run_test\n                                       self.test_disconnected_signer()\n                                     File \"/ci_container_base/ci/scratch/build-i686-pc-linux-gnu/test/functional/wallet_signer.py\", line 246, in test_disconnected_signer\n                                       self.nodes[1].createwallet(wallet_name='hww_disconnect', disable_private_keys=True, external_signer=True)\n                                     File \"/ci_container_base/test/functional/test_framework/coverage.py\", line 50, in __call__\n                                       return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\n                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                     File \"/ci_container_base/test/functional/test_framework/authproxy.py\", line 137, in __call__\n                                       response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\n                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                                     File \"/ci_container_base/test/functional/test_framework/authproxy.py\", line 111, in _request\n                                       return self._get_response()\n                                              ^^^^^^^^^^^^^^^^^^^^\n                                     File \"/ci_container_base/test/functional/test_framework/authproxy.py\", line 176, in _get_response\n                                       raise JSONRPCException({\n                                   test_framework.authproxy.JSONRPCException: 'createwallet' RPC took longer than 1200.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)\n test  2025-06-26T14:05:43.230396Z TestFramework (DEBUG): Closing down network thread ",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-07-02T07:52:38Z",
      "updated_at": "2025-07-26T09:21:04Z",
      "comments": 15,
      "url": "https://github.com/bitcoin/bitcoin/issues/32855",
      "labels": [
        "Tests",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "tnndbtc",
          "body": "@maflcko Is there a way to retrieve debug.log (in /ci_container_base/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20250626_133646/) while the test fails so it may provide more clues on why RPC took longer?",
          "created_at": "2025-07-03T15:51:57Z"
        },
        {
          "user": "maflcko",
          "body": "You can just follow the links to \"Open full logs\" to get to https://api.cirrus-ci.com/v1/task/5704849158832128/logs/ci.log, but I don't think there are any details in the log that give more hints, on a quick skim.",
          "created_at": "2025-07-03T16:22:52Z"
        },
        {
          "user": "Sjors",
          "body": "Assuming this is specific to external wallets, and not an unrelated bug in the test itself, the most interesting code is:\n\n```cpp\nvoid CWallet::SetupDescriptorScriptPubKeyMans()\n{\n...\n        UniValue signer_res = signer->GetDescriptors(account);\n```\n\nBeyond that wallet creation is more or less the same between regular and external signer wallets.\n\n```cpp\nUniValue ExternalSigner::GetDescriptors(const int account)\n{\n    return RunCommandParseJSON(m_command + \" --fingerprint \" + m_fingerprint + NetworkArg() + \" getdescriptors --account \" + strprintf(\"%d\", account));\n}\n```\n\nIn the functional test this results in a call to `mocks/signer.py` that's handled by `def getdescriptors(args)`.\n\n\nNote that `test_disconnected_signer` is not the first call to `mocks/signer.py` in the functional test. It would be useful to know if it always times out at this specific line or also elsewhere in the test.\n\nThis test was recently added in #32682, but the `createwallet` part of the new test is not unique.",
          "created_at": "2025-07-07T07:51:42Z"
        },
        {
          "user": "maflcko",
          "body": "I'd say it would be useful if the `mocks` scripts had more debug logging enabled; maybe some command tracing when entering the script and when exiting it?",
          "created_at": "2025-07-07T08:30:01Z"
        },
        {
          "user": "Sjors",
          "body": "@maflcko that's easier said than done, but see #32928!",
          "created_at": "2025-07-09T14:44:42Z"
        },
        {
          "user": "tnndbtc",
          "body": "Thanks for @Sjors ' quick clue on the potential issue.  I searched the CI output and agree that it's likely due to the calling of\n\n`return RunCommandParseJSON(m_command + \" --fingerprint \" + m_fingerprint + NetworkArg() + \" getdescriptors --account \" + strprintf(\"%d\", account));\n` \nwhich requires a read from stdin in `test/functional/mocks/signer.py`\n```\nif not sys.stdin.isatty():  # on my local mac test, this is not from terminal so it will try to run read()\n    buffer = sys.stdin.read() # this one read an empty string from stdin\n```\n\nLikely the stdin is missing in this particular run and caused `test/functional/mocks/signer.py` to hang.  The execution of the python code is implemented in `src/util/subprocess.h (Popen(std::initializer_list<const char*> cmd_args, Args&& ...args))`, which I haven't researched further on possible bugs that can cause the pipe not flushed, or closed too early before child process can consume it.\n\nSince this `mock/signer.py` is very isolated from regular python test framework so it's hard to add debug traces that can be caught by CI process.  I would propose adding a log in C++ code, like this:\n\n```\n        WalletLogPrintf(\"Begin of GetDescriptors\"); // add debug log\n        UniValue signer_res = signer->GetDescriptors(account);\n        WalletLogPrintf(\"End of GetDescriptors\"); // add debug log\n```\nThis is not ideal, but it will give a good idea on what goes wrong next time it happens.\n\nMore details on how I identified the problematic code, I searched the full CI output:\n```\n[10:05:43.853]  node1 2025-06-26T13:45:43.128865Z [httpworker.8] [wallet/wallet.h:931] [WalletLogPrintf] [hww_disconnect] Setting minversion to 169900\n[10:05:43.853]  node1 2025-06-26T13:45:43.128982Z [httpworker.8] [wallet/sqlite.cpp:55] [TraceSqlCallback] [walletdb:trace] [/ci_container_base/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20250626_133646/wallet_signer_216/node1/regtest/hww_disconnect/wallet.dat] SQLite Statement: INSERT or REPLACE into main values(?, ?)\n[10:05:43.853]  node1 2025-06-26T13:45:43.129258Z [httpworker.8] [wallet/sqlite.cpp:55] [TraceSqlCallback] [walletdb:trace] [/ci_container_base/ci/scratch/test_runner/test_runner_‚Çø_üèÉ_20250626_133646/wallet_signer_216/node1/regtest/hww_disconnect/wallet.dat] SQLite Statement: INSERT or REPLACE into main values(?, ?)\n```\nThen there is no more logs for thread: **`httpworker.8`**, which indicates a hanging issue.  However, from a good test, the traces would show.\n\n```\nwalletInstance->SetMinVersion(FEATURE_LATEST); // in CWallet::Create , this will generate following log:\n2025-07-10T16:13:48.468246Z [httpworker.7] [wallet/wallet.h:942] [WalletLogPrintf] [hww_disconnect] Setting minversion to 169900\n2025-07-10T16:13:48.468268Z [httpworker.7] [wallet/sqlite.cpp:55] [TraceSqlCallback] [walletdb:trace] [/tmp/test_runner_‚Çø_üèÉ_20250710_121343/wallet_signer_0/node1/regtest/hww_disconnect/wallet.dat] SQLite Statement: INSERT or REPLACE into main values(?, ?)\n\nwalletInstance->InitWalletFlags(wallet_creation_flags | WALLET_FLAG_LAST_HARDENED_XPUB_CACHED); // in CWallet::Create, this one will generate following logs\n2025-07-10T16:13:48.468307Z [httpworker.7] [wallet/sqlite.cpp:55] [TraceSqlCallback] [walletdb:trace] [/tmp/test_runner_‚Çø_üèÉ_20250710_121343/wallet_signer_0/node1/regtest/hww_disconnect/wallet.dat] SQLite Statement: INSERT or REPLACE into main values(?, ?)\n\nUniValue signer_res = signer->GetDescriptors(account); // in CWallet::SetupDescriptorScriptPubKeyMans(), this one requires a read from stdin\n\nif (!batch.TxnBegin()) throw std::runtime_error(\"Error: cannot create db transaction for descriptors import\"); // in CWallet::SetupDescriptorScriptPubKeyMans(), this one will generate following log\n2025-07-10T16:13:48.534299Z [httpworker.7] [wallet/sqlite.cpp:55] [TraceSqlCallback] [walletdb:trace] [/tmp/test_runner_‚Çø_üèÉ_20250710_121343/wallet_signer_0/node1/regtest/hww_disconnect/wallet.dat] SQLite Statement: BEGIN TRANSACTION\n```\n\nBased on the log traces, the python statement that causes wallet creation failure is:\n`self.nodes[1].createwallet(wallet_name='hww_disconnect', disable_private_keys=True, external_signer=True)\n`",
          "created_at": "2025-07-10T16:45:47Z"
        },
        {
          "user": "maflcko",
          "body": "> Likely the stdin is missing in this particular run and caused `test/functional/mocks/signer.py` to hang.\n\nWhat does \"stdin is missing\" mean? It should always be present and point to some file descriptor.\n\nI think the only way this could hang is when the process spawning the signer is also waiting on it, without first closing the pipes. However this seems to happen correctly, looking at `RunCommandParseJSON`:\n\n```cpp\n    auto c = sp::Popen(str_command, sp::input{sp::PIPE}, sp::output{sp::PIPE}, sp::error{sp::PIPE}, sp::close_fds{true});\n    if (!str_std_in.empty()) {\n        c.send(str_std_in);\n    }\n    auto [out_res, err_res] = c.communicate();\n```",
          "created_at": "2025-07-10T17:51:51Z"
        },
        {
          "user": "maflcko",
          "body": "Maybe this is https://github.com/bitcoin/bitcoin/issues/32524, but with N=1 and no way to reproduce, this seems difficult to debug.",
          "created_at": "2025-07-10T17:53:31Z"
        },
        {
          "user": "tnndbtc",
          "body": "@maflcko For \"stdin is missing\", I was referring to a suspicion that bitcoind failed to write an empty string to the pipe and caused signer.py waiting on `buffer = sys.stdin.read()`.  However, I was wrong about that.\n\nAfter I checked the call stack posted in https://github.com/bitcoin/bitcoin/issues/32524 , it indicated that bitcoind got stuck on a `read()` call from `err_rd_pipe` in `util::read_atmost_n`, which is to read from the child process, i.e., rpc_signer.py.\n\nAlso, the bitcoind process indeed has closed the write pipe, by calling `subprocess_close(err_wr_pipe);` which will trigger the signer.py to get a empty string from `buffer = sys.stdin.read()`, so this part is good.\n\nI'd spend more time on this subprocess::process_execute() logic and hopefully find out the potential bug.",
          "created_at": "2025-07-12T23:46:35Z"
        },
        {
          "user": "maflcko",
          "body": "Possibly similar root cause: https://cirrus-ci.com/task/5280224666976256?logs=ci#L1710\n\nAt least on CI, back when I tested https://github.com/bitcoin/bitcoin/pull/32529 by Mara did seem to improve the situation.\n\nI wonder if we should re-open and use that pull, even if there isn't  a reproducer or further details available.",
          "created_at": "2025-07-14T06:58:51Z"
        },
        {
          "user": "naiyoma",
          "body": "I was testing https://github.com/bitcoin/bitcoin/pull/32928 and made an attempt to reproduce this issue by hanging a  getdescriptors call\n\n```git diff\nindex aa9d286417..edbd5359ee 100755\n--- a/test/functional/mock_external_signer.py\n+++ b/test/functional/mock_external_signer.py\n@@ -97,6 +97,15 @@ parser_signtx.add_argument('psbt', metavar='psbt')\n parser_signtx.set_defaults(func=signtx)\n \n if not sys.stdin.isatty():\n+    log.debug(\"About to read from stdin\")\n+    log.debug(f\"Current args: {sys.argv}\")\n+    # Hang the getdescriptors call\n+    if \"getdescriptors\" in sys.argv:\n+        log.debug(\"Naiyoma HANGING: stdin hang for getdescriptors\")\n+        # Create an infinite read that will timeout\n+        import time\n+        while True:\n+            time.sleep(1)\n     buffer = sys.stdin.read()\n     if buffer and buffer.rstrip() != \"\":\n         sys.argv.extend(buffer.rstrip().split(\" \"))\n```\n\n TimeoutError: timed out\n\n````\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/Projects/bitcoin/test/functional/test_framework/test_framework.py\", line 195, in main\n    self.run_test()\n  File \"/home/ubuntu/Projects/bitcoin/./build/test/functional/wallet_signer.py\", line 45, in run_test\n    self.test_valid_signer()\n  File \"/home/ubuntu/Projects/bitcoin/./build/test/functional/wallet_signer.py\", line 58, in test_valid_signer\n    self.nodes[1].createwallet(wallet_name='hww', disable_private_keys=True, external_signer=True)\n  File \"/home/ubuntu/Projects/bitcoin/test/functional/test_framework/coverage.py\", line 50, in __call__\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/Projects/bitcoin/test/functional/test_framework/authproxy.py\", line 137, in __call__\n    response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/Projects/bitcoin/test/functional/test_framework/authproxy.py\", line 111, in _request\n    return self._get_response()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/Projects/bitcoin/test/functional/test_framework/authproxy.py\", line 176, in _get_response\n    raise JSONRPCException({\ntest_framework.authproxy.JSONRPCException: 'createwallet' RPC took longer than 30.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)\n```\n`\n",
          "created_at": "2025-07-18T20:44:10Z"
        },
        {
          "user": "tnndbtc",
          "body": "@naiyoma I also suspect this might be the cause and put comment in https://github.com/bitcoin/bitcoin/issues/32524#issuecomment-3071393448 .  As stated in that comment, one possible reason is that the close of `err_wr_pipe`, which should send the empty string to stdin for the python process (signer.py) to confirm, could return `-1` but bitcoind didn't check the return result.\n`subprocess_close(err_wr_pipe);// close child side of pipe, else get stuck in read below`\n\nTypically, close of file descriptor or pipe shouldn't cause error, but it's still good to add a result check in bitcoind code to ensure, or help rule out when next time this issue happens.",
          "created_at": "2025-07-18T21:09:38Z"
        },
        {
          "user": "naiyoma",
          "body": ">As stated in that comment, one possible reason is that the close of `err_wr_pipe`, which should send the empty string to stdin for the python process (signer.py) to confirm, could return `-1` but bitcoind didn't check the return result. `subprocess_close(err_wr_pipe);// close child side of pipe, else get stuck in read below`\n> \nI am not sure about this because on my end  subprocess works okay\n ```\nsubprocess_close(err_wr_pipe);// close child side of pipe, else get stuck in read below\nfprintf(stderr, \"PARENT: Closed err_wr_pipe (fd=%d)\\n\", err_wr_pipe);\n```\n```\nPARENT: Closed err_wr_pipe (fd=34)\nPARENT: Closed err_wr_pipe (fd=34)\n```\n",
          "created_at": "2025-07-19T20:43:47Z"
        },
        {
          "user": "naiyoma",
          "body": "\n> Likely the stdin is missing in this particular run and caused `test/functional/mocks/signer.py` to hang. \n\nI agree with this \n\nin `RunCommandParseJSON` ` str_std_in is empty `, I logged \n```\n if(str_std_in.empty()) {\n        LogPrintf(\"RunCommandParseJSON: No stdin data to send\\n\");\n    } \n```\nlogs \n```\n grep \"RunCommandParseJSON\" /tmp/bitcoin_func_test_09pw1wgg/node1/regtest/debug.log\n2025-07-19T20:52:09.711192Z [httpworker.1] [common/run_command.cpp:29] [RunCommandParseJSON] RunCommandParseJSON: command='/usr/bin/python3 /home/ubuntu/Projects/bitcoin/test/functional/test_framework/../mock_external_signer.py enumerate', stdin_length=0, stdin_empty=true\n2025-07-19T20:52:09.720216Z [httpworker.1] [common/run_command.cpp:32] [RunCommandParseJSON] RunCommandParseJSON: No stdin data to send\n2025-07-19T20:52:09.837336Z [httpworker.1] [common/run_command.cpp:29] [RunCommandParseJSON] RunCommandParseJSON: command='/usr/bin/python3 /home/ubuntu/Projects/bitcoin/test/functional/test_framework/../mock_external_signer.py --fingerprint 00000001 --chain regtest getdescriptors --account 0', stdin_length=0, stdin_empty=true\n2025-07-19T20:52:09.840036Z [httpworker.1] [common/run_command.cpp:32] [RunCommandParseJSON] RunCommandParseJSON: No stdin data to send\n```\n",
          "created_at": "2025-07-19T21:05:25Z"
        },
        {
          "user": "tnndbtc",
          "body": "@naiyoma For `if(str_std_in.empty())`, it will always return true in this case.  However, the empty string is sent by successful calling of `subprocess_close(err_wr_pipe);// close child side of pipe, else get stuck in read below`.  If you comment out this line, you will see that read from stdin in signer.py will 100% get stuck.",
          "created_at": "2025-07-21T18:11:21Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 5,
    "issues": 1
  }
}