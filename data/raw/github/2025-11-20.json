{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:33:26.460307+00:00",
  "date": "2025-11-20",
  "pull_requests": [
    {
      "number": 33920,
      "title": "Export embedded ASMap RPC",
      "body": "This depends on the embedded data PR itself (#28792), until merge this will remain in draft status. All commit but the last one are from there.\r\n\r\nThere has been interest in exporting the embedded data back into a file. This is implemented here with a simple `exportasmap` RPC which provides this functionality. The exported file can be used to verify the data integrity or statistical analysis using e.g. `contrib/asmap-tool.py`.",
      "state": "open",
      "user": "fjahr",
      "created_at": "2025-11-20T23:53:36Z",
      "updated_at": "2025-11-22T01:36:40Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33920",
      "labels": [
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33920.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33878](https://github.com/bitcoin/bitcoin/pull/33878) (refactor, docs: Embedded ASMap [2/3]: Refactor asmap internals and add documentation by fjahr)\n* [#33770](https://github.com/bitcoin/bitcoin/pull/33770) (init: Require explicit -asmap filename by ryanofsky)\n* [#33631](https://github.com/bitcoin/bitcoin/pull/33631) (init: Split file path handling out of -asmap option by fjahr)\n* [#31260](https://github.com/bitcoin/bitcoin/pull/31260) (scripted-diff: Type-safe settings retrieval by ryanofsky)\n* [#17783](https://github.com/bitcoin/bitcoin/pull/17783) (common: Disallow calling IsArgSet() on ALLOW_LIST options by ryanofsky)\n* [#17581](https://github.com/bitcoin/bitcoin/pull/17581) (refactor: Remove settings merge reverse precedence code by ryanofsky)\n* [#17580](https://github.com/bitcoin/bitcoin/pull/17580) (refactor: Add ALLOW_LIST flags and enforce usage in CheckArgFlags by ryanofsky)\n* [#17493](https://github.com/bitcoin/bitcoin/pull/17493) (util: Forbid ambiguous multiple assignments in config file by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T23:53:43Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-11-22T01:36:40Z"
        }
      ]
    },
    {
      "number": 33919,
      "title": "ci: Run GUI unit tests in cross-Windows task",
      "body": "Most users of the cross-compiled releases for Windows will most likely pick the GUI, so running the cross-compiled GUI unit tests on a real Windows seems desirable.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-11-20T21:38:57Z",
      "updated_at": "2025-11-26T17:26:49Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/33919",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33919.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/33919#pullrequestreview-3504833470) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T21:39:06Z"
        },
        {
          "user": "maflcko",
          "body": "Hmm, the CI did not fail, but I also do not see the expected output `********* Start testing of AppTests *********...` etc, so I am not sure if everything worked here.",
          "created_at": "2025-11-20T22:25:42Z"
        },
        {
          "user": "Sammie05",
          "body": "The workflow correctly attempts to execute the GUI test binary, ./bin/test_bitcoin-qt.exe. but the CI logs do not show any Qt test output and there are no lines such as ********* Start testing of <TestSuite> *********\r\nPASS / FAIL entries\r\n********* Finished testing of <TestSuite> *********\r\n\r\nIt would be helpful to confirm that test_bitcoin-qt.exe is executing as intended \r\n \r\n",
          "created_at": "2025-11-21T00:59:01Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `macOS native`: https://github.com/bitcoin/bitcoin/actions/runs/19630865894/job/56210087628</sub>\n<sub>LLM reason (‚ú® experimental): test_bitcoin-qt test failed in the Qt test run, causing the CI to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-11-24T11:11:13Z"
        },
        {
          "user": "maflcko",
          "body": "Looks like the output is missing, but this works: https://github.com/bitcoin/bitcoin/actions/runs/19630865894/job/56211087066#step:8:206:\r\n\r\n```\r\nRun ./bin/test_bitcoin-qt.exe\r\nError: Process completed with exit code 1.",
          "created_at": "2025-11-24T11:14:01Z"
        },
        {
          "user": "hebasto",
          "body": "> Looks like the output is missing...\r\n\r\nThe same happens for the native build: https://github.com/hebasto/bitcoin/actions/runs/19707163063/job/56457637457.\r\n\r\nIt seems to be a peculiarity of the GHA Windows image.",
          "created_at": "2025-11-26T17:26:49Z"
        }
      ]
    },
    {
      "number": 33918,
      "title": "depends: Update Qt download link",
      "body": "Replace the [unreliable](https://github.com/bitcoin/bitcoin/issues/33898#issuecomment-3559092421) https://code.qt.io with the GitHub mirror link.\r\n\r\nCloses https://github.com/bitcoin/bitcoin/issues/33898.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-11-20T17:23:32Z",
      "updated_at": "2025-11-25T12:22:44Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33918",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33918.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/33918#pullrequestreview-3504837208) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T17:23:39Z"
        },
        {
          "user": "fanquake",
          "body": "Concept ACK",
          "created_at": "2025-11-20T17:25:02Z"
        }
      ]
    },
    {
      "number": 33917,
      "title": "clang-format: Set Bitcoin Core IncludeCategories",
      "body": "Replace the default llvm include categories with the ones specific to Bitcoin Core.\r\n\r\nRef: https://releases.llvm.org/17.0.1/tools/clang/docs/ClangFormatStyleOptions.html#includecategories\r\n\r\nAlso, format a file as example. To test this, the diff in src/test needs\r\nto be reverted. Also `IncludeBlocks: Regroup` needs to be set. Then\r\n`clang-format -i src/test/blockchain_tests.cpp` should recreate the\r\ndiff.\r\n\r\n```diff\r\ndiff --git a/src/.clang-format b/src/.clang-format\r\nindex 15335fe9ae..579079095f 100644\r\n--- a/src/.clang-format\r\n+++ b/src/.clang-format\r\n@@ -99,3 +99,3 @@ IfMacros:\r\n   - KJ_IF_MAYBE\r\n-IncludeBlocks:   Preserve\r\n+IncludeBlocks:   Regroup\r\n IncludeCategories:\r\n```\r\n",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-11-20T15:57:25Z",
      "updated_at": "2025-11-25T13:01:21Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33917",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33917.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/33917#issuecomment-3559773920) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33637](https://github.com/bitcoin/bitcoin/pull/33637) (refactor: optimize block index comparisons (1.4-6.8x faster) by l0rinc)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T15:57:33Z"
        },
        {
          "user": "l0rinc",
          "body": "ACK fa7e222a23266e258d82e085f62cbf89d20dc8f3\r\n\r\nThanks for adjusting these.\r\nAfter this PR we can remove the deprecated ones and add the new options in 17 by regenerating the config.",
          "created_at": "2025-11-20T19:49:17Z"
        }
      ]
    },
    {
      "number": 33916,
      "title": "fuzz: wallet: add target for `TransactionCanBeBumped`",
      "body": "This PR adds a fuzz target for the `TransactionCanBeBumped` function. This function checks if a transaction can be bumped based on:\r\n\r\n1. Transaction has descendants in the wallet.\r\n2. Transaction has descendants in the mempool.\r\n3. Transaction has been mined.\r\n4. Transaction was already bumped.\r\n5. Transaction has inputs that are not mine.\r\n\r\nThis target will create scenarios to exercise all these cases. For the scenario (2), it has a mocked `CTxMemPool` that has a function to update the descendant state on mempool - this way we can speed up the target by avoiding to interacting with the mempool to really create descedants (e.g. creating blocks to trigger it).\r\n\r\nAlso, the `CheckTransaction` calls are to avoid UB on `SetSpentKeyState` - e.g. by calling it with a transaction without any output.",
      "state": "open",
      "user": "brunoerg",
      "created_at": "2025-11-20T14:07:08Z",
      "updated_at": "2025-11-26T17:16:55Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33916",
      "labels": [
        "Tests",
        "Fuzzing"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33916.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/33916#pullrequestreview-3500413492) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T14:07:19Z"
        },
        {
          "user": "brunoerg",
          "body": "Coverage report is available at: https://brunoerg.xyz/bitcoin-core-coverage/33916/",
          "created_at": "2025-11-20T14:13:28Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `previous releases`: https://github.com/bitcoin/bitcoin/actions/runs/19539609660/job/56432179681</sub>\n<sub>LLM reason (‚ú® experimental): Compilation failed: missing member UpdateDescendantState in CTxMemPoolEntry (feebumper.cpp) causing fuzz target build error.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-11-26T10:02:12Z"
        },
        {
          "user": "brunoerg",
          "body": "Force-pushed 2df9f10755ea7de94ecc9a17e6dd6dc89de0a637..52101d8809062d524393ebfde20c926d36fe5bf8:\r\n\r\n- Rebased - and now that we have cluster mempool, I simplified the target by mocking `HasDescendants`.\r\n- Addressed https://github.com/bitcoin/bitcoin/pull/33916#discussion_r2564296509 and https://github.com/bitcoin/bitcoin/pull/33916#discussion_r2564297647",
          "created_at": "2025-11-26T16:30:20Z"
        }
      ]
    },
    {
      "number": 33915,
      "title": "test: Retry download in get_previous_releases.py",
      "body": "Hopefully fixes https://github.com/bitcoin/bitcoin/issues/33913 (intermittent download issues)\r\n\r\nIf not, the diff there to cache the bins can be considered.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-11-20T11:48:20Z",
      "updated_at": "2025-11-24T09:41:30Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33915",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33915.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [enirox001](https://github.com/bitcoin/bitcoin/pull/33915#pullrequestreview-3488992622), [davidgumberg](https://github.com/bitcoin/bitcoin/pull/33915#issuecomment-3559587991), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/33915#pullrequestreview-3489961023), [janb84](https://github.com/bitcoin/bitcoin/pull/33915#pullrequestreview-3491910763), [achow101](https://github.com/bitcoin/bitcoin/pull/33915#issuecomment-3564659764) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T11:48:28Z"
        },
        {
          "user": "davidgumberg",
          "body": "ACK https://github.com/bitcoin/bitcoin/pull/33915/commits/fad06f3bb436a97683e8248bfda1bd0d9998c899\r\n\r\nNice! I've also had issues with this locally, retrying once seems a good idea.",
          "created_at": "2025-11-20T18:58:26Z"
        },
        {
          "user": "Sammie05",
          "body": "I verified the retry mechanism by testing both successful downloads (v25.0) and failure scenarios (invalid_version_123), the retry logic correctly activates on HTTP 404 errors and provides clear error message\r\n\r\n\r\nFetching: https://bitcoincore.org/bin/bitcoin-core-nvalid_version_123/bitcoin-nvalid_version_123-osx64.tar.gz\r\n\r\nDownload failed: HTTP Error 404: Not Found\r\nRetrying download after failure ...\r\n\r\nDownload failed a second time: HTTP Error 404: Not Found\r\n\r\n",
          "created_at": "2025-11-21T07:03:38Z"
        },
        {
          "user": "achow101",
          "body": "ACK fad06f3bb436a97683e8248bfda1bd0d9998c899",
          "created_at": "2025-11-21T21:34:27Z"
        }
      ]
    },
    {
      "number": 33914,
      "title": "Change Parse descriptor argument to string_view",
      "body": "While investigating a silent merge conflict in #33135 I noticed that #32983 changed the descriptor `Parse` function signature from `const std::string& descriptor` to `std::span<const char> descriptor`.\r\n\r\nCalling that new version of `Parse` with a string literal will trigger a confusing \"Invalid characters in payload\" due to the trailing \"\\0\".\r\n\r\nIt can be worked around by having (the test) wrap string literals in `std::string()`, but that's easy to forget.\r\n\r\nUsing `string_view` is easier and more compact than (as a previous version of this PR did) checking for trailing `\\0`.\r\n\r\nAlso add a test.\r\n",
      "state": "closed",
      "user": "Sjors",
      "created_at": "2025-11-20T11:32:47Z",
      "updated_at": "2025-11-27T09:53:57Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33914",
      "labels": [
        "Bug",
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33914.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [enirox001](https://github.com/bitcoin/bitcoin/pull/33914#pullrequestreview-3502191427), [maflcko](https://github.com/bitcoin/bitcoin/pull/33914#issuecomment-3580635290), [stickies-v](https://github.com/bitcoin/bitcoin/pull/33914#pullrequestreview-3510482245), [rkrux](https://github.com/bitcoin/bitcoin/pull/33914#pullrequestreview-3510903589) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T11:32:55Z"
        },
        {
          "user": "Sjors",
          "body": "Changed the approach to using `string_view` as suggested by @maflcko.",
          "created_at": "2025-11-20T12:34:50Z"
        },
        {
          "user": "Sjors",
          "body": "Addressed nits.\r\n\r\nI'll look into if we can also use `string_view` in one or more of the calls we make, see https://github.com/bitcoin/bitcoin/pull/33914#discussion_r2545907849. _Update: meh, I'll leave that up for grabs :-)_",
          "created_at": "2025-11-20T12:45:48Z"
        },
        {
          "user": "maflcko",
          "body": "review ACK c0bfe72f6e1f63e05772eda959137b3d0bbbf6c3 üç®\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK c0bfe72f6e1f63e05772eda959137b3d0bbbf6c3 üç®\r\npvam4BPTr8J37auRPeURedg6b5jdffzEG42/IhHGXLGQ/uLJVaGNdmJpAC+raxvXXzi2MQekFTqxaErJGiRzCA==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-11-26T10:23:17Z"
        },
        {
          "user": "fanquake",
          "body": "cc @stickies-v ",
          "created_at": "2025-11-26T10:25:48Z"
        }
      ]
    },
    {
      "number": 33912,
      "title": "clang-format: Set PackConstructorInitializers: CurrentLine",
      "body": "Now that the minimum supported clang version is larger than 14, the `PackConstructorInitializers` setting can be set to `CurrentLine` in the clang-format file. (This option was added in clang 14. Ref: https://releases.llvm.org/17.0.1/tools/clang/docs/ClangFormatStyleOptions.html#packconstructorinitializers)\r\n\r\nThe `CurrentLine` option will either put all constructor initializers on the current line if they fit. Otherwise, it will put each one on its own line.\r\n\r\nThe `CurrentLine` option is desirable over the current `BinPack` option, because:\r\n\r\n* It is what the majority of the codebase is currently using.\r\n* It makes it easier to skim the lines to ensure all fields are properly initialized, without having to parse bin-packed constructor initializers, possibly with nested initializer lists, function calls, or ternary operators.\r\n* It makes diffs smaller when an initializer is added or removed, because only a single line is touched. Otherwise, the whole bin-packed block could re-flow, making the diff harder to parse.\r\n\r\nNote: The previous `BinPack` option allows any formatting, due to the current `ColumnLimit: 0`. I presume developers manually formatted most constructor initializers to be on separate lines? With the new `CurrentLine` setting, one has to only put the first initializer on a separate line, and clang-format will take care of the rest.\r\n\r\nFor example:\r\n\r\n```sh\r\necho 'A::A(O o)\r\n: m_first{o.a, o.b},\r\n  m_second{fun(o)}, m_third{o.c?o.d:o.e} {}' | clang-format --style=file:./src/.clang-format\r\n```\r\n\r\nWill put each on a separate line. Previously, it was left as-is.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-11-20T10:10:22Z",
      "updated_at": "2025-11-20T22:05:09Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33912",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33912.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/33912#pullrequestreview-3487068101), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/33912#pullrequestreview-3489975713), [hebasto](https://github.com/bitcoin/bitcoin/pull/33912#pullrequestreview-3490063992) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-20T10:10:30Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33913,
      "title": "ci: failure to download 0.14.3-win64.zip in Win test cross-built",
      "body": "This is happening semi-frequently:\n\nhttps://github.com/bitcoin/bitcoin/actions/runs/19520873587/job/55885060054:\n```bash\nRun ./test/get_previous_releases.py --target-dir $PREVIOUS_RELEASES_DIR\n\nDownload failed: Remote end closed connection without response\nReleases directory: D:\\a\\_temp/previous_releases\nFetching: https://bitcoincore.org/bin/bitcoin-core-0.14.3/bitcoin-0.14.3-win64.zip\nError: Process completed with exit code 1.\n```\n\nhttps://github.com/bitcoin/bitcoin/actions/runs/19239483669/job/55006759227:\n```bash\n Releases directory: D:\\a\\_temp/previous_releases\nFetching: https://bitcoincore.org/bin/bitcoin-core-0.14.3/bitcoin-0.14.3-win64.zip\n\nDownload failed: [WinError 10054] An existing connection was forcibly closed by the remote host\nDownloading: [----------------------------------------] 0.0%\nError: Process completed with exit code 1.\n```\n\nhttps://github.com/bitcoin/bitcoin/actions/runs/19481968460/job/55756476621:\n```bash\n\nRun ./test/get_previous_releases.py --target-dir $PREVIOUS_RELEASES_DIR\n\nDownload failed: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond\nReleases directory: D:\\a\\_temp/previous_releases\nFetching: https://bitcoincore.org/bin/bitcoin-core-0.14.3/bitcoin-0.14.3-win64.zip\nError: Process completed with exit code 1.\n```\n",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-11-20T11:03:15Z",
      "updated_at": "2025-11-21T21:35:22Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/33913",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "yeah, network requests should be retried.\n\nAn alternative could be to cache the bins, but I am not sure how large they are and if the diff is worth it. It could look something like this, if the simply retry does not improve things:\n\n\n```diff\ndiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 7ba353a..3e2e1a1 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -394,6 +394,7 @@ jobs:\n     env:\n       PYTHONUTF8: 1\n       TEST_RUNNER_TIMEOUT_FACTOR: 40\n+      CONTAINER_NAME: windows-native-test\n \n     steps:\n       - *ANNOTATION_PR_NUMBER\n@@ -452,6 +453,27 @@ jobs:\n         run: |\n           echo \"PREVIOUS_RELEASES_DIR=${{ runner.temp }}/previous_releases\" >> \"$GITHUB_ENV\"\n \n+      - name: Set previous releases hash\n+        run: |\n+          PREVIOUS_RELEASES_HASH=$(py -3 - <<'PY'\n+          import hashlib, subprocess\n+          data = subprocess.check_output([\"git\", \"ls-tree\", \"HEAD\", \"test/get_previous_releases.py\"])\n+          print(hashlib.sha256(data).hexdigest())\n+          PY)\n+          echo \"PREVIOUS_RELEASES_HASH=$PREVIOUS_RELEASES_HASH\" >> \"$GITHUB_ENV\"\n+\n+      - name: Restore previous releases cache\n+        id: previous-releases\n+        uses: actions/cache/restore@v4\n+        with:\n+          path: ${{ env.PREVIOUS_RELEASES_DIR }}\n+          key: previous-releases-${{ env.CONTAINER_NAME }}-${{ env.PREVIOUS_RELEASES_HASH }}\n+          restore-keys: |\n+            previous-releases-${{ env.CONTAINER_NAME }}-\n+\n+      - name: Record previous releases cache hit\n+        run: echo \"PREVIOUS_RELEASES_CACHE_HIT=${{ steps.previous-releases.outputs.cache-hit }}\" >> \"$GITHUB_ENV\"\n+\n       - name: Get previous releases\n         run: ./.github/get_previous_releases_with_retry.py --target-dir $PREVIOUS_RELEASES_DIR\n \n@@ -463,6 +485,13 @@ jobs:\n           TEST_RUNNER_EXTRA: ${{ github.event_name != 'pull_request' && '--extended' || '' }}\n         run: py -3 test/functional/test_runner.py --jobs $NUMBER_OF_PROCESSORS --ci --quiet --tmpdirprefix=\"$RUNNER_TEMP\" --combinedlogslen=99999999 --timeout-factor=$TEST_RUNNER_TIMEOUT_FACTOR $EXCLUDE $TEST_RUNNER_EXTRA\n \n+      - name: Save previous releases cache\n+        if: ${{ (github.event_name == 'push') && (github.ref_name == github.event.repository.default_branch) && (env.PREVIOUS_RELEASES_CACHE_HIT != 'true') }}\n+        uses: actions/cache/save@v4\n+        with:\n+          path: ${{ env.PREVIOUS_RELEASES_DIR }}\n+          key: previous-releases-${{ env.CONTAINER_NAME }}-${{ env.PREVIOUS_RELEASES_HASH }}\n+\n   ci-matrix:\n     name: ${{ matrix.name }}\n     needs: runners\n",
          "created_at": "2025-11-20T11:47:22Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 8,
    "issues": 1
  }
}