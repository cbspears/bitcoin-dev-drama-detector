{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:14:30.960238+00:00",
  "date": "2025-02-04",
  "pull_requests": [
    {
      "number": 31794,
      "title": "wallet: abandon orphan coinbase txs, and their descendants, during startup",
      "body": "Since #26499, we mark coinbase transactions and their descendants as abandoned when a reorg arises through the \"block disconnection\" signal handler. However, this does not cover all scenarios; external wallets could contain coinbase transactions from blocks the node has not seen yet, or the user could have replaced the chain with an earlier or different version (one without the coinbase chain).\r\n\r\nThis affects balance calculation as well as mempool rebroadcast (descendants shouldn't be relayed).\r\nFix this by marking orphaned coinbase transactions and their descendants as abandoned during wallet startup.",
      "state": "closed",
      "user": "furszy",
      "created_at": "2025-02-04T16:17:16Z",
      "updated_at": "2025-02-24T14:46:51Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/31794",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31794.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/31794#pullrequestreview-2619470433), [mzumsande](https://github.com/bitcoin/bitcoin/pull/31794#pullrequestreview-2622090730), [achow101](https://github.com/bitcoin/bitcoin/pull/31794#issuecomment-2667345072) |\n| Stale ACK | [Eunovo](https://github.com/bitcoin/bitcoin/pull/31794#issuecomment-2648923341) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n",
          "created_at": "2025-02-04T16:17:19Z"
        },
        {
          "user": "furszy",
          "body": "Test failure is unrelated.",
          "created_at": "2025-02-04T20:09:30Z"
        },
        {
          "user": "furszy",
          "body": "Thanks for the review Eunovo. Feedback tackled.\r\n\r\n> While testing, I noticed that trying to abandon a tx in mempool wasn't covered in the functional tests\r\n\r\nThat seems to be material for a different PR (a quick one). Happy to ACK it if you push it.",
          "created_at": "2025-02-10T18:31:12Z"
        },
        {
          "user": "Eunovo",
          "body": "> That seems to be material for a different PR (a quick one). Happy to ACK it if you push it.\r\n\r\nIt'd be a really tiny PR. I think you can just add it but I'm happy to open a new one if needed.",
          "created_at": "2025-02-10T18:39:28Z"
        },
        {
          "user": "Eunovo",
          "body": "ReACK https://github.com/bitcoin/bitcoin/pull/31794/commits/409241db5dca0b23f5c7714f99be52411fc5541e",
          "created_at": "2025-02-10T18:41:30Z"
        },
        {
          "user": "achow101",
          "body": "ACK 3c89cab06a6259fa70eaf3a78c01ee42780c4e27",
          "created_at": "2025-02-14T22:09:41Z"
        },
        {
          "user": "achow101",
          "body": "ACK e4dd5a351bde88a94326824945f4c8b1e4c15df2",
          "created_at": "2025-02-19T02:13:04Z"
        },
        {
          "user": "rkrux",
          "body": "Re: https://github.com/bitcoin/bitcoin/pull/31794#pullrequestreview-2605174936\r\n\r\nI created a PR for this here https://github.com/bitcoin/bitcoin/pull/31943 and made @Eunovo co-author.",
          "created_at": "2025-02-24T11:36:13Z"
        }
      ]
    },
    {
      "number": 31793,
      "title": "ci: Use clang-20 for sanitizer tasks",
      "body": "A new clang version generally comes with bugfixes, new (sanitizer) features, and deprecations.\r\n    \r\nUpgrade the sanitizer tasks to use the new version.\r\n\r\nThis was also suggested in https://github.com/bitcoin/bitcoin/pull/31691#issuecomment-2602517116",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-02-04T16:01:51Z",
      "updated_at": "2025-02-10T10:44:07Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/31793",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/31793.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/31793#pullrequestreview-2605356354) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31802](https://github.com/bitcoin/bitcoin/pull/31802) (Add bitcoin-{node,gui} to release binaries for IPC by Sjors)\n* [#30975](https://github.com/bitcoin/bitcoin/pull/30975) (ci: build multiprocess on most jobs by Sjors)\n* [#28710](https://github.com/bitcoin/bitcoin/pull/28710) (Remove the legacy wallet and BDB dependency by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
          "created_at": "2025-02-04T16:01:54Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 31797,
      "title": "CI: Failed pulls from docker.io causing jobs to fail",
      "body": "```terminal\n[15:50:52.950] STEP 1/7: FROM docker.io/debian:bookworm\n[15:50:52.956] Trying to pull docker.io/library/debian:bookworm...\n[15:51:23.200] time=\"2025-02-04T15:51:23-05:00\" level=warning msg=\"Failed, retrying in 2s ... (1/3). Error: initializing source docker://debian:bookworm: reading manifest bookworm in docker.io/library/debian: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit\"\n[15:51:55.409] time=\"2025-02-04T15:51:55-05:00\" level=warning msg=\"Failed, retrying in 2s ... (2/3). Error: initializing source docker://debian:bookworm: reading manifest bookworm in docker.io/library/debian: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit\"\n[15:52:57.833] time=\"2025-02-04T15:52:57-05:00\" level=warning msg=\"Failed, retrying in 2s ... (3/3). Error: copying system image from manifest list: determining manifest MIME type for docker://debian:bookworm: reading manifest sha256:f6008b2d1c096556ec301a0c76fe0b40657594ffcfa43aaf63ca9d40767f9a63 in docker.io/library/debian: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit\"\n[15:53:30.043] Error: creating build container: initializing source docker://debian:bookworm: reading manifest bookworm in docker.io/library/debian: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit\n[15:53:30.051] \n[15:53:30.051] Exit status: 125\n\n```\n\nhttps://cirrus-ci.com/task/6014627928080384\nhttps://github.com/bitcoin/bitcoin/pull/31384/checks?check_run_id=36674073808",
      "state": "closed",
      "user": "ismaelsadeeq",
      "created_at": "2025-02-04T21:07:09Z",
      "updated_at": "2025-02-20T18:42:24Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/issues/31797",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "This should only happen when a new ci image build is triggered without the images being cached from previous builds. So it should be rare enough to not happen often. When it happens, it should clear itself after an hour or two.\n\nAn alternative would be to use (or run) a mirror that has a higher rate limit, but I am not sure if this is worth it.\n\nI've re-run the CI tasks for now.",
          "created_at": "2025-02-04T21:28:06Z"
        },
        {
          "user": "Sjors",
          "body": "@maflcko can you re-run #30975 as well?",
          "created_at": "2025-02-05T13:12:06Z"
        },
        {
          "user": "maflcko",
          "body": "I've rebooted the CI machines yesterday and today, which caused the issues here. I'll keep an eye on the tasks an re-run any that fail due to dockerhub limits for the next few hours. This should fix it once and for all (for now ðŸ˜… ).",
          "created_at": "2025-02-05T13:15:57Z"
        },
        {
          "user": "l0rinc",
          "body": "Another one https://github.com/bitcoin/bitcoin/pull/30535/checks?check_run_id=36740042246",
          "created_at": "2025-02-05T18:38:05Z"
        },
        {
          "user": "maflcko",
          "body": "Reminds  me that the CI script will silently continue after an error, see https://cirrus-ci.com/task/4909301485010944?logs=ci#L194. It would be good to stop using bash for scripts, or force pipefail (etc) to be set in all of them.",
          "created_at": "2025-02-05T20:12:34Z"
        },
        {
          "user": "maflcko",
          "body": "If someone set's up a new CI machine, one could consider the local build cache from 6835e9686c41b31d14ef25dc8df9409a99f079a8 as a fix, but I haven't tried if that works with podman.",
          "created_at": "2025-02-10T13:06:18Z"
        },
        {
          "user": "maflcko",
          "body": "This still happens: https://cirrus-ci.com/task/4901485584056320\n\nThough, it seems odd, because that run should not have pulled more than two images. Rate-limiting that seems that the new rate limits are stronger that they document themselves?\n\nIf that is true, maybe the easiest fix would be to run (or pick) a caching pass-through mirror instead?",
          "created_at": "2025-02-13T11:56:29Z"
        },
        {
          "user": "l0rinc",
          "body": "Happened again in https://github.com/bitcoin/bitcoin/pull/31904/checks?check_run_id=37470244364",
          "created_at": "2025-02-19T13:48:21Z"
        },
        {
          "user": "maflcko",
          "body": "`24.04` is already cached, so it is unclear why `noble` gets rate-limited. I guess that'd be a reason to use the same name consistently.\n\nAbsent that, a real fix would still be good.",
          "created_at": "2025-02-19T14:04:22Z"
        }
      ]
    },
    {
      "number": 31796,
      "title": "bitcoind loglevel=info too noisy",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nwhen setting bitcoind log level in `bitcoin.conf`:\n\n`loglevel=info`\n\nthe _journactl_ logs are too noisy:\n\n\nthis of course make the journal full and remove all other applications logs after a while.\n\n### Expected behaviour\n\n`loglevel=info` should avoid printing out `UpdateTip`\n\n\n### Steps to reproduce\n\nNA\n\n### Relevant log output\n\n```\nFeb 04 17:23:07 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:07Z UpdateTip: new best=000000000000000001b96471b919f7f13656152099b9484ddadc446b5c067620 height=464311 version=0x00000004 log2_work=86.362716 tx=217963485 date='2017-05-01T06:54:32Z' progress=0.187834 cache=156.7MiB(1269783txo)\nFeb 04 17:23:07 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:07Z UpdateTip: new best=00000000dc68b1790126db7f6de33939666 height=464317 version=0x20000000 log2_work=86.362911 tx=217975729 date='20100000000000f87e812bfe3ec23a7813ca5078aa41eb9224d8f8986dbb height=464312 version=0x20000000 log2_work=86.362749 tx=217965391 date='2017-05-01T07:02:49Z' progress=0.187836 cache=156.9MiB(1271998txo)\nFeb 04 17:23:07 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:07Z UpdateTip: new best=000000000000000000dc676018a865d57cf5600b5705535f0b3271cf6b6719f0 height=464313 version=0x20000002 log2_work=86.362781 tx=217966965 date='2017-05-01T07:07:17Z' progress=0.187837 cache=157.2MiB(1273461txo)\nFeb 04 17:23:08 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:08Z UpdateTip: new best=000000000000000000e6122e7927af3d7f6d9c7ef8c12915cd35c7f43f4c54e1 height=464314 version=0x20000002 log2_work=86.362814 tx=217969664 date='2017-05-01T07:22:19Z' progress=0.187840 cache=157.4MiB(1276100txo)\nFeb 04 17:23:08 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:08Z UpdateTip: new best=0000000000000000019b6f3038196350d79f8611f7613c1153af78cabf0e34c4 height=464315 version=0x20000000 log2_work=86.362846 tx=217971903 date='2017-05-01T07:33:39Z' progress=0.187842 cache=157.7MiB(1278565txo)\nFeb 04 17:23:08 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:08Z UpdateTip: new best=000000000000000000afb346eeff2de5a7fb634503a4bcba0002132df4495904 height=464316 version=0x00000004 log2_work=86.362879 tx=217973844 date='2017-05-01T07:36:23Z' progress=0.187843 cache=157.9MiB(1280309txo)\nFeb 04 17:23:08 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:08Z UpdateTip: new best=000000000000000001f3028d356fb5976ffe7-05-01T07:45:38Z' progress=0.187845 cache=158.2MiB(1283484txo)\nFeb 04 17:23:08 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:08Z UpdateTip: new best=000000000000000000ca968c83b97b7ad4eeb09a2ea6456ef2b19186a19292e9 height=464318 version=0x20000000 log2_work=86.362944 tx=217977017 date='2017-05-01T07:51:27Z' progress=0.187846 cache=158.7MiB(1286411txo)\nFeb 04 17:23:08 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:08Z UpdateTip: new best=00000000000000000203c41063378c2daeceadbd15dcd7c54337bba429da2085 height=464319 version=0x20000000 log2_work=86.362976 tx=217977530 date='2017-05-01T07:53:58Z' progress=0.187847 cache=158.9MiB(1290158txo)\nFeb 04 17:23:24 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:24Z UpdateTip: new best=000000000000000001dcc2194c7a334fac60c0c3fd660422be07aee7242fef4e height=464320 version=0x00000004 log2_work=86.363009 tx=217979725 date='2017-05-01T08:07:44Z' progress=0.187848 cache=159.4MiB(1292984txo)\nFeb 04 17:23:52 raspberrypi5-c8-bf-64 bitcoind[1470]: 2025-02-04T17:23:52Z UpdateTip: new best=000000000000000001bd33d5bc3b4d25d41854a435d3a0f43b155ee793e25c12 height=464321 version=0x20000000 log2_work=86.363041 tx=217981579 date='2017-05-01T08:14:19Z' p\n\n```\n\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nall\n\n### Operating system and version\n\nLinux\n\n### Machine specifications\n\n_No response_",
      "state": "closed",
      "user": "embetrix",
      "created_at": "2025-02-04T17:27:43Z",
      "updated_at": "2025-02-05T11:38:09Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/issues/31796",
      "labels": [
        "Linux/Unix",
        "Questions and Help"
      ],
      "comment_list": [
        {
          "user": "pinheadmz",
          "body": "> loglevel=info should avoid printing out UpdateTip\n>  height=464313 \n\nYou are in initial block download. Once the chain is synced these messages will be reduced to one every ten minutes or so ;-)",
          "created_at": "2025-02-04T17:58:01Z"
        },
        {
          "user": "embetrix",
          "body": "the problem is that I use a raspberrypi/sdcard over tor proxy which take a lot of time to download the initial blockchain, if there are other application on my system which crashes or kernel problem, I cannot see it since bitcoind logs are all over the place.",
          "created_at": "2025-02-04T18:06:06Z"
        },
        {
          "user": "pinheadmz",
          "body": "I have a lot of experience running bitcoind on raspberry pi and I strongly encourage you to use the SD card as little as possible: the bitcoin data directory should be on an external SSD.\n\n> other application on my system \n\nHow does bitcoin's debug log interfere with monitoring or logging any other application?",
          "created_at": "2025-02-04T18:08:49Z"
        },
        {
          "user": "embetrix",
          "body": "the `systemd-journald` can be configured to rotate and prune old logs, in this case I see only `bitcoind` logs",
          "created_at": "2025-02-04T18:12:22Z"
        },
        {
          "user": "pinheadmz",
          "body": "Ok well, `UpdateTip` means a block is being added to the consensus block chain, there's gonna be about a million of them, and its arguably the entire purpose of running a full node. I think you should reconsider your monitoring.",
          "created_at": "2025-02-04T18:17:23Z"
        },
        {
          "user": "embetrix",
          "body": "probably the noisy logs from https://github.com/bitcoin/bitcoin/issues/31796 are writing too much data and wearing out the SDCard quickly if configured to an sd partition instead of RAM.",
          "created_at": "2025-02-04T18:18:50Z"
        },
        {
          "user": "pinheadmz",
          "body": ">  wearing out the SDCard \n\nDo not write bitcoin's data directory to an SD card, you're gonna have a bad time",
          "created_at": "2025-02-04T18:20:59Z"
        },
        {
          "user": "embetrix",
          "body": "I have an industrial grade SDCard, I will let you know how it went ;-)",
          "created_at": "2025-02-04T18:24:41Z"
        },
        {
          "user": "maflcko",
          "body": "If you don't want the logs to end up in the journal at all, you can configure it so. If you want to disable logs completely, you can do so as well. If you want to filter out info logs, you can do so as well.\n\nYou can also modify the log level locally of the log that you don't want to see (Bitcoin Core is open source).\n\nHowever, I don't think modifying the log level in the source code here is the correct fix, because (as mentioned) this only happens during IBD and other people expect the log.\n\nUsually the issue tracker is used to track technical issues related to the Bitcoin Core code base.\n\nGeneral bitcoin questions and/or support requests are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com) or the `#bitcoin` IRC channel on Libera Chat, or one of the Bitcoin subreddits, or any other place that you feel is well suited.",
          "created_at": "2025-02-05T11:31:35Z"
        }
      ]
    },
    {
      "number": 31795,
      "title": "bitcoind debug log file is growing without limit",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nwhen setting bitcoind log file in `bitcoin.conf`:\n\n`debuglogfile=/var/run/bitcoin/bitcoind.log`\n\nthe file is just growing without a limit\n\nWorkaround: \n\n`debuglogfile=/dev/null`\n\n\n### Expected behaviour\n\nthe file should rollback to 0 if a specified limit or predefined limit size is reached i.e : \n\n`debuglogfile_size=16 ` (in MB)\n\n### Steps to reproduce\n\nNA\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nall\n\n### Operating system and version\n\nLinux\n\n### Machine specifications\n\n_No response_",
      "state": "closed",
      "user": "embetrix",
      "created_at": "2025-02-04T17:20:49Z",
      "updated_at": "2025-02-05T09:30:03Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/issues/31795",
      "labels": [
        "Questions and Help"
      ],
      "comment_list": [
        {
          "user": "pinheadmz",
          "body": "The log file gets truncated when you restart bitcoind. There have been proposals for pruning the log but I think the recommendation is just to use a manager on your own system:\n\nhttps://github.com/bitcoin/bitcoin/pull/24950#issuecomment-1111900473\n\nhttps://github.com/bitcoin/bitcoin/pull/22350#issuecomment-899539876",
          "created_at": "2025-02-04T18:01:44Z"
        },
        {
          "user": "embetrix",
          "body": "I'm using a raspberrypi with sdcard (1TB), I want to let my full node running and do not plan to restart my bitcoind everyday, this is unnecessary to use humongous amout of RAM or SDCard for the logs.\n\nI disabled now the debug by setting\n\n`nodebuglogfile=1 `\n\nBut I think that log rotation make sense.\n",
          "created_at": "2025-02-04T18:10:58Z"
        },
        {
          "user": "pinheadmz",
          "body": "Please see the linked comments above. I think your issue is a duplicate and has been addressed many times already",
          "created_at": "2025-02-04T18:12:16Z"
        },
        {
          "user": "embetrix",
          "body": "I saw the MRs but they were not merged",
          "created_at": "2025-02-04T18:15:26Z"
        },
        {
          "user": "pinheadmz",
          "body": "but did you read the **comments** -- the reason bitcoin core doesn't manage its logs how you want",
          "created_at": "2025-02-04T18:18:48Z"
        },
        {
          "user": "embetrix",
          "body": "it's not how I want, it just make a sens to implement that if using a system with restricted ressources and have in mind that not all bitcoin nodes are powerful PCs.",
          "created_at": "2025-02-04T18:21:57Z"
        },
        {
          "user": "maflcko",
          "body": "\n\nhttps://bitcoin.stackexchange.com/questions/18857/how-to-limit-the-debug-log-file-while-running-bitcoind\n\nUsually the issue tracker is used to track technical issues related to the Bitcoin Core code base.\n\nGeneral bitcoin questions and/or support requests are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com) or the `#bitcoin` IRC channel on Libera Chat, or one of the Bitcoin subreddits, or any other place that you feel is well suited.\n\n",
          "created_at": "2025-02-04T23:34:14Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 2,
    "issues": 3
  }
}