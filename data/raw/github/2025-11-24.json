{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:34:22.471595+00:00",
  "date": "2025-11-24",
  "pull_requests": [
    {
      "number": 33939,
      "title": "contrib: Count entry differences in asmap-tool diff summary",
      "body": "Currently the output of `asmap-tool.py diff` returns the total number of addresses that has changed at the end of the list.\r\n\r\nExample output currently:\r\n\r\n```\r\n2602:feda:c0::/48 AS1029 # was AS43126\r\n2604:7c00:100::/40 AS29802 # was AS40244\r\n# 0 IPv4 addresses changed; 79552154633921058212365205504 (2^96.01) IPv6 addresses changed\r\n```\r\n\r\nThis is good indicator but in case of a longer list I would like the number of changed entries as well, since that is an easier number to parse and for debugging of certain issues also the more relevant value. This PR adds the count of changed entries to this summary output at the end. There as also a bit more structure so it's easier to parse as well.\r\n\r\nExample new output:\r\n\r\n```\r\n2602:feda:c0::/48 AS1029 # was AS43126\r\n2604:7c00:100::/40 AS29802 # was AS40244\r\n# Summary\r\nIPv4: 0 entries with 0 addresses changed\r\nIPv6: 12 entries with 79552154633921058212365205504 (2^96.01) addresses changed\r\n```",
      "state": "closed",
      "user": "fjahr",
      "created_at": "2025-11-24T13:39:36Z",
      "updated_at": "2025-12-05T15:27:07Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33939",
      "labels": [
        "Scripts and tools"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33939.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/33939#pullrequestreview-3511446986), [hodlinator](https://github.com/bitcoin/bitcoin/pull/33939#pullrequestreview-3511709141), [jurraca](https://github.com/bitcoin/bitcoin/pull/33939#issuecomment-3617365793) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T13:39:43Z"
        },
        {
          "user": "fanquake",
          "body": "cc @hodlinator ",
          "created_at": "2025-11-25T16:20:25Z"
        },
        {
          "user": "jurraca",
          "body": "utACK [`fd4ce55121`](https://github.com/bitcoin/bitcoin/pull/33939/commits/fd4ce55121e7b0fe0e5b1ecf648dc3178ed37fd8)\r\n\r\ntested several different diff runs. ",
          "created_at": "2025-12-05T15:25:37Z"
        }
      ]
    },
    {
      "number": 33938,
      "title": "wallet: Validate all descriptors before rescanning in importdescriptors",
      "body": "Fixes #33655\n\nThe importdescriptors RPC was performing expensive blockchain rescans even when descriptor validation failed, wasting time and resources.\n\n## Changes\n\nThis PR separates validation logic into a new ValidateDescriptorImport() function that validates all descriptors before any wallet modifications or rescanning occurs.\n\n## Behavior\n\n- **Before**: ProcessDescriptorImport() validated and imported descriptors one by one, triggering a rescan even if some descriptors were invalid\n- **After**: ValidateDescriptorImport() checks all descriptors first, fails fast on any validation error, and only proceeds to ProcessDescriptorImport() and rescanning if all descriptors are valid\n\n## Benefits\n\n- Fails fast on invalid descriptors without triggering rescan\n- Validates all descriptors upfront before processing any\n- Improves user experience with immediate feedback on validation errors\n- Saves significant time by avoiding unnecessary blockchain rescans\n- Follows the approach suggested by @pinheadmz in the issue discussion",
      "state": "closed",
      "user": "psam21",
      "created_at": "2025-11-24T13:29:49Z",
      "updated_at": "2025-11-24T13:56:11Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33938",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33938.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T13:29:57Z"
        },
        {
          "user": "maflcko",
          "body": "thx, but LLM generated pull requests, where the author does not understand the changes themselves, are not accepted:\r\n\r\n* There are no tests\r\n* The code does not even compile\r\n* There is a already a pull request and you'd have to review/reflect that one first, as already mentioned previously",
          "created_at": "2025-11-24T13:56:10Z"
        }
      ]
    },
    {
      "number": 33937,
      "title": "depends: Fix native_capnp to respect build_CC and build_CXX",
      "body": "Fixes #33859\n\nnative_capnp was ignoring CC/CXX environment variables and always using the system default compiler. This caused build failures on systems with older GCC versions when users tried to specify a different compiler.\n\nAdded config_env settings in native_capnp.mk to properly use build_CC and build_CXX variables, following the same pattern used in native_qt.mk.",
      "state": "closed",
      "user": "psam21",
      "created_at": "2025-11-24T13:12:48Z",
      "updated_at": "2025-11-26T15:36:47Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33937",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33937.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T13:12:56Z"
        },
        {
          "user": "hebasto",
          "body": "> Fixes #33859\r\n\r\nI‚Äôm not convinced it does.\r\n\r\nOn the master branch @ 0690514d4f72aac251ee0b876cded9187d42c63e:\r\n```\r\n$ gmake --no-print-directory -C depends print-native_capnp_cxx CXX=clang++\r\nnative_capnp_cxx=g++\r\n```\r\n\r\nWith this PR, the behaviour is unchanged:\r\n```\r\n$ gmake --no-print-directory -C depends print-native_capnp_cxx CXX=clang++\r\nnative_capnp_cxx=g++\r\n```",
          "created_at": "2025-11-25T11:30:32Z"
        },
        {
          "user": "maflcko",
          "body": "@psam21 Is this LLM generated? Have you tested this yourself?",
          "created_at": "2025-11-25T11:35:27Z"
        },
        {
          "user": "hebasto",
          "body": "The PR title states \"depends: Fix native_capnp to respect build_CC and build_CXX\", but it already appears to work as expected on master:\r\n```\r\n$ gmake --no-print-directory -C depends print-native_capnp_cxx build_CXX=clang++\r\nnative_capnp_cxx=clang++\r\n```",
          "created_at": "2025-11-25T11:37:14Z"
        },
        {
          "user": "psam21",
          "body": "@ryanofsky Thanks for pushing for the detailed the investigation. You're absolutely right - I tested it and the `config_env` approach doesn't actually change the behavior. \r\n\r\nI compared both scenarios:\r\nWithout the fix (master): `env CC=\"gcc\" CXX=\"g++\" ... cmake`\r\nWith the fix (this PR): `env CC=\"gcc\" CXX=\"g++\" ... cmake`\r\n\r\nEven when running `make CC=clang CXX=clang++`, both produce identical results using gcc. The issue is that `$(build_CC)` defaults to `gcc` in depends/builders/default.mk, and the command-line `CC=clang` sets the host compiler but doesn't propagate to the build compiler variables.\r\n\r\nThe `_cmake` macro on funcs.mk:215 already uses `env CC=\"$($(1)_cc)\"`, so adding config_env just sets the same value twice - it's redundant as you suspected.\r\n\r\nI also checked native_libmultiprocess, which uses CMake but has no config_env at all, and it behaves identically. The difference with native_qt is that it uses Qt's `configure` script directly rather than the `_cmake` macro, so it actually needs the environment variables.\r\n\r\nFixing this properly would then require modifying depends/Makefile (after line 118) to propagate `CC`‚Üí`build_CC` when not cross-compiling. The code change itself may not be complex, but the testing across all supported platforms and cross-compilation scenarios would be significant.\r\n\r\nGiven @maflcko's comment on the original issue (#33859) about documenting `build_CC`/`build_CXX` usage, and that PR #33902 already takes that documentation approach, I'll can close this PR. \r\n\r\nAgain, thanks - it helped clarify how the depends system actually handles compilers for native packages.",
          "created_at": "2025-11-25T12:43:14Z"
        },
        {
          "user": "maflcko",
          "body": "Closing as an LLM generated \"AI agent\" patch. Please note that contributors are required to fully understand their authored code themselves.\r\n\r\nAlso, the explanation is obviously wrong and hallucinated.\r\n\r\nIf you wish to contribute in the future, please focus on creating high-quality, original content that demonstrates a clear understanding of the project's requirements and goals. Also, see the [contributing guidelines](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#refactoring).",
          "created_at": "2025-11-25T12:45:59Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit 0690514d4f72aac251ee0b876cded9187d42c63e<br>(master) | commit 0ed2bf9b58efac49afa9845f2df3944b4b5ae83b<br>(pull/33937/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`95abec4325e1013f...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-aarch64-linux-gnu-debug.tar.gz) | [`60158577dd89897d...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`6cad75f92ed84069...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-aarch64-linux-gnu.tar.gz) | [`375dc85b37bc126f...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`216e30d6934906ce...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-arm-linux-gnueabihf-debug.tar.gz) | [`9d3cf8844255930d...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`1da2e69e25852c26...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-arm-linux-gnueabihf.tar.gz) | [`03bfa8b684d4b2c2...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`71c43763a20ddcdd...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-arm64-apple-darwin-codesigning.tar.gz) | [`e5a26b2dce81bed2...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`d3035a499cf40a43...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-arm64-apple-darwin-unsigned.tar.gz) | [`a4e56eedcb8bfbbe...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`400a2d3f2196f103...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-arm64-apple-darwin-unsigned.zip) | [`0392ebc85759f71e...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`d9f3af47de04cdc1...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-powerpc64-linux-gnu-debug.tar.gz) | [`f56036b9ceb2b886...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`76272b81767ce577...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-powerpc64-linux-gnu.tar.gz) | [`c5fa0f87b99bcd02...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`7be5b029e11a7a3a...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-riscv64-linux-gnu-debug.tar.gz) | [`7227a4b7d739e6fb...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`bacd0f228373a3ff...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-riscv64-linux-gnu.tar.gz) | [`a2cf1ec491df1b4f...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`22813d352fc82a18...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-x86_64-apple-darwin-codesigning.tar.gz) | [`c636f74367b57fd9...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`2f5b3ab1d9dd86a7...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-x86_64-apple-darwin-unsigned.tar.gz) | [`ff939e58786a0ad0...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`3cd9f2b884a443cd...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-x86_64-apple-darwin-unsigned.zip) | [`98ea07f43a9c21b3...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`085ba4629b5e1390...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-x86_64-linux-gnu-debug.tar.gz) | [`e36e09d22a1f3acc...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`6df1c3c5dd456576...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72-x86_64-linux-gnu.tar.gz) | [`27b43e34f6264f58...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`cea8f8a81ba8d07a...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/bitcoin-0690514d4f72.tar.gz) | [`ab3ca7ccc90d083c...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/bitcoin-0ed2bf9b58ef.tar.gz) |\n| SHA256SUMS.part | [`2ae97748df82c293...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/SHA256SUMS.part) | [`4c540a27d1e210a0...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/SHA256SUMS.part) |\n| guix_build.log | [`646146efca981243...`](https://drahtbot.space/guix/monotree/0690514d4f72aac251ee0b876cded9187d42c63e/guix_build.log) | [`c113da22aa0d599b...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/guix_build.log) |\n| guix_build.log.diff |  | [`4cf676d0510c6a28...`](https://drahtbot.space/guix/monotree/0ed2bf9b58efac49afa9845f2df3944b4b5ae83b/guix_build.log.diff) |\n\n",
          "created_at": "2025-11-26T15:36:47Z"
        }
      ]
    },
    {
      "number": 33936,
      "title": "mining: pass missing context to createNewBlock() and checkBlock()",
      "body": "Adding a `context` parameter ensures that these methods are run in their own thread and don't block other calls.\r\n\r\nFor `createNewBlock()` this is not expected to have much impact, because block template creation is fast.\r\n\r\nFor `checkBlock()` this ensures that if we receive a slow to validate block from an untrusted origin (the IPC connection itself is assumed to trusted), it will not block the IPC server. But since validation itself blocks `cs_main` this is also not a huge performance win.\r\n\r\nThis is a breaking change both ways:\r\n- clients must use the updated capnp file\r\n- updated clients can't call these methods on an unupgraded node\r\n\r\n---\r\n\r\nBecause it's a breaking change, but not really important, this PR is marked pending some other more important breaking change. See #33777.",
      "state": "open",
      "user": "Sjors",
      "created_at": "2025-11-24T12:36:43Z",
      "updated_at": "2026-01-13T19:54:29Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33936",
      "labels": [
        "Mining"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33936.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T12:36:51Z"
        },
        {
          "user": "Sjors",
          "body": "Although the change is fine, the original motivation is incorrect. I thought this would fix a serious memory management issue where the `destroy` was never called, but that's not the case, see https://github.com/bitcoin/bitcoin/issues/33940#issuecomment-3571010573.\r\n\r\nI marked the PR draft and updated the description to explain what it achieves and why it's not urgent.",
          "created_at": "2025-11-24T14:15:20Z"
        },
        {
          "user": "ryanofsky",
          "body": "> This is a breaking change\r\n\r\nCould be nice to return an explicit error to clients that are too old with a change like the following from https://github.com/bitcoin/bitcoin/issues/33777#issuecomment-3528997008:\r\n\r\n<details><summary>diff</summary>\r\n<p>\r\n\r\n```diff\r\n--- a/src/ipc/capnp/init.capnp\r\n+++ b/src/ipc/capnp/init.capnp\r\n@@ -19,5 +19,8 @@ using Mining = import \"mining.capnp\";\r\n interface Init $Proxy.wrap(\"interfaces::Init\") {\r\n     construct @0 (threadMap: Proxy.ThreadMap) -> (threadMap :Proxy.ThreadMap);\r\n     makeEcho @1 (context :Proxy.Context) -> (result :Echo.Echo);\r\n-    makeMining @2 (context :Proxy.Context) -> (result :Mining.Mining);\r\n+    makeMining @3 (context :Proxy.Context) -> (result :Mining.Mining);\r\n+\r\n+    # DEPRECATED: no longer supported; server returns an error.\r\n+    makeMiningV2 @2 () -> ();\r\n }\r\n--- a/src/interfaces/init.h\r\n+++ b/src/interfaces/init.h\r\n@@ -39,6 +39,7 @@ public:\r\n     virtual Ipc* ipc() { return nullptr; }\r\n     virtual bool canListenIpc() { return false; }\r\n     virtual const char* exeName() { return nullptr; }\r\n+    virtual void makeMiningV2() { throw std::runtime_error(\"Old mining interface (@2) not supported. Please update your client!\"); }\r\n };\r\n \r\n //! Return implementation of Init interface for the node process. If the argv\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n",
          "created_at": "2025-11-24T15:25:43Z"
        },
        {
          "user": "Sjors",
          "body": "Bumping the version number would also allow clients that wish to support older Bitcoin Core version to keep two capnp files around.",
          "created_at": "2025-11-24T15:53:55Z"
        }
      ]
    },
    {
      "number": 33935,
      "title": "net: Execute Discover() when bind=0.0.0.0 or :: is set",
      "body": "Fixes #31293\r\n\r\nWhen using `-bind=0.0.0.0:port` or `-bind=[::]:port` (or their `-whitebind` equivalents), the `Discover()` function was not being executed because `bind_on_any` was set to false when explicit bind addresses were provided.\r\n\r\nThis meant that nodes using explicit \"any\" bind addresses would not discover and advertise their own local addresses to peers, even though they were effectively listening on all interfaces.\r\n\r\nThis commit checks if any of the explicitly provided `-bind` or `-whitebind` addresses are \"any\" addresses (0.0.0.0 or ::) and ensures `Discover()` runs in those cases, matching the behavior when no explicit bind is given.",
      "state": "closed",
      "user": "psam21",
      "created_at": "2025-11-24T12:32:21Z",
      "updated_at": "2025-11-24T12:59:33Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33935",
      "labels": [
        "P2P"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33935.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T12:32:30Z"
        },
        {
          "user": "maflcko",
          "body": "Thx, but instead of opening a third (3rd) pull request to fix this, it would be better to review the first two and possibly explain why they are insufficient and why a third pull request is needed.",
          "created_at": "2025-11-24T12:59:32Z"
        }
      ]
    },
    {
      "number": 33934,
      "title": "Update GitHub Actions",
      "body": "Updated checkout action to v6 for Node.js 24 support and enhanced credential security.\r\n\r\nv6 - https://github.com/actions/checkout/releases/tag/v6.0.0",
      "state": "closed",
      "user": "wedjob0X",
      "created_at": "2025-11-24T11:53:43Z",
      "updated_at": "2025-11-25T16:10:00Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33934",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33934.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T11:53:51Z"
        },
        {
          "user": "maflcko",
          "body": "thx, but you'll need to follow the contrib guidelines",
          "created_at": "2025-11-24T12:57:51Z"
        }
      ]
    },
    {
      "number": 33933,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "rejected-l",
      "created_at": "2025-11-24T10:42:30Z",
      "updated_at": "2025-11-25T16:10:31Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33933",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33933.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T10:42:38Z"
        },
        {
          "user": "maflcko",
          "body": "thx, but subtrees need to be modified upstream, not here",
          "created_at": "2025-11-24T11:12:07Z"
        }
      ]
    },
    {
      "number": 33932,
      "title": "ci: Use latest Xcode that the minimum macOS version allows",
      "body": "Changing the CI policy to use the *latest* Xcode (instead of the *earliest*), allowed by the Bitcoin Core minimum supported macOS version, makes sense: While this may require the developer or user to install a later security point-release on macOS, this should generally be fine and it is even expected that users run the latest supported security release of their operating system. Also, in practise, this often doesn't result in a visible change anyway: This specific change from Xcode 16.0 to 16.2 does not change any behavior of the Bitcoin Core CI, because there are no C++-related changes in those point releases.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-11-24T08:34:18Z",
      "updated_at": "2025-11-25T10:41:49Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33932",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33932.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [vasild](https://github.com/bitcoin/bitcoin/pull/33932#pullrequestreview-3500009912), [fanquake](https://github.com/bitcoin/bitcoin/pull/33932#pullrequestreview-3500865738), [l0rinc](https://github.com/bitcoin/bitcoin/pull/33932#issuecomment-3571747488) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-24T08:34:30Z"
        },
        {
          "user": "l0rinc",
          "body": "This probably doesn't help https://github.com/bitcoin/bitcoin/pull/29415#discussion_r2550717279, the `<=>` is not fixed in [16.2](https://developer.apple.com/documentation/xcode-release-notes/xcode-16_2-release-notes) yet, only in [16.3](https://developer.apple.com/documentation/xcode-release-notes/xcode-16_3-release-notes).\r\nAnd it seems this isn't the source of that error, we're [explicitly downloading](https://github.com/l0rinc/bitcoin/actions/runs/19633894569/job/56224901024?pr=57#step:9:1265) version 15 there:\r\n> 22.23 + retry -- curl --location --fail [bitcoincore.org/depends-sources/sdks/Xcode-15.0-15A240d-extracted-SDK-with-libcxx-headers.tar.gz](https://bitcoincore.org/depends-sources/sdks/Xcode-15.0-15A240d-extracted-SDK-with-libcxx-headers.tar.gz) -o /home/runner/work/_temp/depends/sdk-sources/Xcode-15.0-15A240d-extracted-SDK-with-libcxx-headers.tar.gz\r\n\r\nDo we have to keep those or can we bump them to 16? That might also enable us using `std::jthread` in a few places...\r\nI don't mind pushing a PR for it if there's a conceptual agreement it's what we want.",
          "created_at": "2025-11-24T15:17:35Z"
        },
        {
          "user": "maflcko",
          "body": "> This probably doesn't help [#29415 (comment)](https://github.com/bitcoin/bitcoin/pull/29415#discussion_r2550717279), the `<=>` is not fixed in [16.2](https://developer.apple.com/documentation/xcode-release-notes/xcode-16_2-release-notes) yet, only in [16.3](https://developer.apple.com/documentation/xcode-release-notes/xcode-16_3-release-notes).\r\n\r\nCorrect. This diff here does not change any behavior of the Bitcoin Core CI, as explained in the description.\r\n\r\n> Do we have to keep those or can we bump them to 16?\r\n\r\nYeah, it should be possible to bump to the latest version. Though, it may be best to first make it deterministic: https://github.com/bitcoin/bitcoin/pull/32009. Otherwise, it will be harder to re-create. Though, changing the Xcode used for releases seems unrelated to this pull, which is about using the latest Xcode for the minimum macOS version.",
          "created_at": "2025-11-24T15:56:30Z"
        },
        {
          "user": "l0rinc",
          "body": "ACK fa9537cde10120b12c96061cbc3f79a7680f9d64",
          "created_at": "2025-11-24T16:44:05Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33941,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "jdavidthomson",
      "created_at": "2025-11-24T21:50:36Z",
      "updated_at": "2025-11-24T21:50:48Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/33941",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "\nLLM spam detection (‚ú® experimental): SPAM. The submission primarily promotes an external product and presents a vague, non-technical idea rather than a clear, actionable feature request relevant to the project. It includes an external commercial link and lacks coherent technical detail or reproducible proposal for the repository, which matches common spam characteristics.\n\n‚ôªÔ∏è Automatically wiping, closing, and locking for now based on heuristics.\nGenerally, please focus on creating high-quality, original content that demonstrates a clear\nunderstanding of the project's requirements and goals.\n",
          "created_at": "2025-11-24T21:50:45Z"
        }
      ]
    },
    {
      "number": 33940,
      "title": "Memory leak when using IPC mining interface",
      "body": " _Originally posted by @plebhash in [#33899](https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3568788623)_\n\n> we are getting reports of out-of-memory crashes on https://github.com/stratum-mining/sv2-apps/pull/59#issuecomment-3568252007\n> \n> initially I suspected there could be thread-related issues similar to what I reported on https://github.com/bitcoin/bitcoin/issues/33923, but it turns out it was the VPS running out of it's 2GB available RAM, which only happened after long (12h+) running sessions\n> \n> so I leveraged [`psrecord`](https://github.com/astrofrog/psrecord) to observe how Bitcoin Core (a14e7b9dee9145920f93eab0254ce92942bd1e5e from `30.x` branch) was consuming RAM across time (connected to `mainnet` for high mempool activity, for about ~1h to have enough chain tip updates)\n> \n> this is RAM consumption of Bitcoin Core with the Rust code from https://github.com/stratum-mining/sv2-apps/pull/59 (more specifically SRI Pool at https://github.com/stratum-mining/sv2-apps/pull/59/commits/57576e083e82fb5acd5dbad75e8b4de7158a3d61) connected to it:\n> \n> <img width=\"640\" height=\"480\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/452a8246-9fdb-490c-b1d1-57a51ebb7c92\" />\n> \n> there's a clear upwards trend in RAM consumption, which made me wonder if we were doing something wrong on the Rust code\n> \n> so then I ran it alongside [`sv2-tp`](https://github.com/stratum-mining/sv2-tp) for a comparison:\n> \n> <img width=\"640\" height=\"480\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/edf8fbf0-c05e-43ad-8883-ba76fb43138b\" />\n> \n> which shows a similar upwards trend that never gets throttled down\n> \n> ---\n> \n> I don't know whether the root cause for this is related to template memory management, but there's a chance it is, so I'm reporting it here rather than opening a new issue \n\n _Originally posted by @Sjors in [#33899](https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3569959628)_\n\n> I'm planning to make similar plots for #33922 (without CPU and ideally with marks to indicate where blocks were found).\n> \n> If you're measuring the process memory instead of only the template memory (which #33922 enables), you'll want to hold the mempool itself constant. E.g. by picking some value for `-maxmempool` and waiting for it to fill before starting the measurement. You also want to set `-dbcache` to its minimum, because that's also accuring  \n\n _Originally posted by @Sjors in [#33899](https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570523079)_\n\n> @plebhash it looks like you found a real bug. Because `BlockTemplate::createNewBlock` doesn't have a context param, it looks like its destroy method is not invoked until sv2-tp disconnects. So the node keeps holding on to templates even though the Template Provider already pruned them.\n> \n> I'll open a PR to fix that.  \n\n _Originally posted by @plebhash in [#33899](https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570541428)_\n\n> that's good to know!\n> \n> but do we have to explicitly call `destroy` or is it sufficient to drop the reference from memory on the client side?\n> \n> from my understanding of capnp, I believe it should be sufficient to drop it from memory, but on the other hand there must be a reason for `destroy` to exist? \n\n _Originally posted by @Sjors in [#33899](https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570785658)_\n\n> @plebhash IIUC libmultiprocess does this automatically, but only `sv2-tp` uses that library. So it probably depends on how the rust capnp library is implemented. It might be worth testing how that library behaves out of the box, with and without the fix here. Just look for the `IPC server destroy` messages on the Bitcoin Core side (preferably tested against master). \n\n\n\n",
      "state": "open",
      "user": "ryanofsky",
      "created_at": "2025-11-24T14:11:12Z",
      "updated_at": "2026-01-14T15:15:34Z",
      "comments": 18,
      "url": "https://github.com/bitcoin/bitcoin/issues/33940",
      "labels": [
        "Bug",
        "Resource usage",
        "interfaces"
      ],
      "comment_list": [
        {
          "user": "Sjors",
          "body": "Turns out I was chasing a ghost. The reason `destroy` wasn't called by sv2-tp was not because of a missing `context` param, but because of an unrelated regression.\n\nSo the memory leak @plebhash is seeing is probably due to not calling destroy.",
          "created_at": "2025-11-24T14:17:34Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570523079\n\n> it looks like you found a real bug. Because `BlockTemplate::createNewBlock` doesn't have a context param, it looks like its destroy method is not invoked until sv2-tp disconnects.\n\nI can imagine there's a bug causing the block template not to be freed until the disconnect happens, but I don't think `createNewBlock` method having a context parameter would affect this. Having a context parameter just allows the method to run on an asynchronous thread without blocking the event loop, instead of running on the event loop thread. But which thread the block was created on should not affect how it's destroyed",
          "created_at": "2025-11-24T14:18:06Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570541428\n\n> but do we have to explicitly call `destroy` or is it sufficient to drop the reference from memory on the client side?\n> \n> from my understanding of capnp, I believe it should be sufficient to drop it from memory, but on the other hand there must be a reason for `destroy` to exist?\n\nYour understanding is right, I think, but there are a lot of details here and I can imagine there being some bug where just dropping the reference on the client side does not delete the server side object right away. The reason for having an explicit destroy method is to give clients a way to destroy the server side-object and actually wait for it to be destroyed. If clients just drop their references to server side objects, the server side objects will get destroyed, but it will happen asynchronously.",
          "created_at": "2025-11-24T14:24:25Z"
        },
        {
          "user": "plebhash",
          "body": "I ran two sessions with https://github.com/bitcoin/bitcoin/pull/33936 at a3a6861e131120eabf6e2f7ecd15e5ea805c66b2, where the client was our Sv2 Rust code\n\nboth of them had at least one chain tip update, which should trigger templates being flushed from memory (so I'd expect to see a sharp decline in RAM consumption)\n\nin the first one, we're not calling `destroy`:\n\n<img width=\"640\" height=\"480\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3e3cb655-8069-4107-8532-bed5455189dd\" />\n\nin the second one, we're calling `destroy` after chain tip updates:\n\n<img width=\"640\" height=\"480\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/0c3d84a7-b8ca-4001-8c70-95a16c895f07\" />\n\nI guess this indicates that @Sjors approach on https://github.com/bitcoin/bitcoin/pull/33936 isn't fully fixing the issue yet, which I guess is already known due to this comment https://github.com/bitcoin/bitcoin/pull/33936#issuecomment-3570998560",
          "created_at": "2025-11-24T14:57:57Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570541428\n\n> do we have to explicitly call `destroy` or is it sufficient to drop the reference from memory on the client side?\n\nFollowing up on this, it's good practice to call `destroy` methods on objects which have them, to guarantee the objects are destroyed right away instead of asynchronously. This is most important if objects have nontrivial destructors, or if it matters what order objects get destroyed.\n\nBlock templates using a lot of memory in a memory-constrained environment could be another reason to call `destroy` explicitly. But if adding `destroy` calls to the client fixes a memory leak, this does sound like a bug, because memory should be freed soon after references are dropped even without explicit `destroy` calls.\n\nre: https://github.com/bitcoin/bitcoin/issues/33899#issuecomment-3570523079\n\n> its destroy method is not invoked until sv2-tp disconnects\n> \n> The reason `destroy` wasn't called by sv2-tp was not because of a missing `context` param, but because of an unrelated regression.\n\nI was looking into this to remind myself what current behavior is. It actually changed sort of recently, but before the 30.0 release in https://github.com/bitcoin-core/libmultiprocess/commit/949573da84112388f68d1893f55aae0ca7f12d0c from https://github.com/bitcoin-core/libmultiprocess/pull/160. The commit mention there mentions \"this change causes the ProxyServer::m_impl object to be freed shortly after the client is freed, instead of being delayed until the connection is closed.\"\n\nBefore that change, libmultiprocess would only delete server objects if the client explicitly called a `destroy` method, or when the connection was cleaned up. But currently it should delete them immediately even if a `destroy` method is never called. The previous behavior didn't matter very much for libmultiprocoess c++ clients call which `destroy()` internally in their own destructors, but could matter for rust and python clients which don't do that.",
          "created_at": "2025-11-24T14:58:44Z"
        },
        {
          "user": "lucasbalieiro",
          "body": "here are some insights from the experiments I‚Äôve been running over the past few days.\n\nWhen I first reported this issue (https://github.com/stratum-mining/sv2-apps/pull/59#issuecomment-3568252007), my server was also running a few utility tools that I typically use during long test sessions.\n\nTo eliminate the ‚Äúmaybe it‚Äôs something else eating the memory‚Äù hypothesis, I started a fresh session with **only** the following running:\n\n* `sv2-apps`\n* Bitcoin Core v30 (mainnet)\n* The essential system processes\n  *(no extra utilities, no accessories)*\n\n**Server specs (VPS):**\n\n* 2 vCPUs\n* 2 GB RAM\n* Ubuntu 24.04 LTS\n\n  ```bash\n  Distributor ID: Ubuntu\n  Description:    Ubuntu 24.04 LTS\n  Release:        24.04\n  Codename:       noble\n  ```\n\n---\n\n## Baseline Start\n\nAt startup, with the full SV2 stack running (two apps using IPC), the total memory usage hovered between **800 MB and 1 GB**, with some expected minor spikes.\n\nAfter letting it run overnight, the total VPS RAM usage sat around **1.5 GB**.\n\nDuring that same period:\n\n* Bitcoin Core increased by roughly **160 MB**\n* But the *rest* of the increase could not be explained by Bitcoin Core alone\n* This made me suspect the `sv2-apps` were also growing over time\n* A few hours later, @plebhash confirmed with `psrecord` that the apps were indeed growing as well\n\n<img width=\"2336\" height=\"1420\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/63bc97da-a902-47d1-a89f-595c5d060f1d\" />\n\n---\n\n## Next 8 Hours\n\nOver the next 8 hours, total RAM usage climbed from **1.5 GB ‚Üí 1.6 GB**.\n\nSince I had a bit of headroom left, I decided to stress things slightly.\n\n---\n\n## Adding More Load\n\nAlongside the already-running apps, I launched **three more pool instances** (also using IPC).\n\nWithin ~3 hours:\n\n* Bitcoin Core‚Äôs RAM usage increased (expected because of more IPC traffic, I think)\n* Total RAM climbed to **1.75 GB**\n\nI then shut down the extra pool instances.\n\nHowever:\n\n* **Bitcoin Core did *not* release the memory**\n* Even by the next morning, RAM usage was still between **1.69‚Äì1.75 GB**\n* So it seems Bitcoin Core doesn‚Äôt reduce its memory footprint after clients disconnect\n\n<img width=\"2268\" height=\"1420\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/f1ec3bb7-04b2-4235-b714-3baa0bac41a3\" />\nThe screenshot is half an hour after I closed the extra pool instances.\n\n---\n\n## Final Incident (Today)\n\nSince the VPS was close to running out of RAM again, I repeated the test:\nI spun up one more pool instance using IPC. RAM usage jumped to **~1.82 GB**.\n\nI closed the pool instance and waited to see if memory would drop. It didn‚Äôt.\n\nA few hours later, the OS killed Bitcoin Core:\n\n```bash\nTue Nov 25 14:51:01 2025] Out of memory: Killed process 2763434 (bitcoin-node) total-vm:13471820kB, anon-rss:1302224kB, file-rss:2916kB, shmem-rss:0kB, UID:0 pgtables:19496kB oom_score_adj:0\n```\n\nSo at the moment, Bitcoin Core ends up consuming about **1 .3GB** of RAM and never seems to shrink back down.\n\n## Why I‚Äôm Reporting This\n\nI‚Äôm sharing these observations because they might help narrow down the behavior we‚Äôre seeing, both in Bitcoin Core and the SV2 apps.\n\nI‚Äôm also willing to run another clean testing session.\nIf you have recommendations for specific instrumentation or profiling tools to run, I can set them up.\nRight now, I avoided using things like `psrecord` during the run so I could rule out secondary tools affecting the memory footprint.",
          "created_at": "2025-11-25T15:50:38Z"
        },
        {
          "user": "Sjors",
          "body": "@lucasbalieiro does Bitcoin Core behave better if you compile the `30.x` branch from source? That's the equivalent of how v30.1 will behave when it comes out. ",
          "created_at": "2025-11-25T18:17:55Z"
        },
        {
          "user": "lucasbalieiro",
          "body": "> [@lucasbalieiro](https://github.com/lucasbalieiro) does Bitcoin Core behave better if you compile the `30.x` branch from source? That's the equivalent of how v30.1 will behave when it comes out.\n\nBuilt Bitcoin Core at commit **a14e7b9dee9145920f93eab0254ce92942bd1e5e**:\n\n```bash\nroot@srv-f20833:~/Projects/bitcoin/build/bin# git log\ncommit a14e7b9dee9145920f93eab0254ce92942bd1e5e (HEAD -> 30.x, origin/30.x)\nMerge: d0f6d9953a ae63cc4bf2\nAuthor: merge-script <fanquake@gmail.com>\nDate:   Thu \n```\nRan the same stress test again (spawning multiple IPC-heavy apps).\n\n**Observed differences:**\n\n* Core feels noticeably more tolerant. Baseline RAM usage is ~100 MB lower. I could spin up more apps simultaneously without Core hitting big spikes, looks like it‚Äôs using less memory per connected app.\n* However, after disconnecting the extra pool I used for stress testing, the RAM **doesn‚Äôt drop back down** to the original baseline (the level seen when only the SV2 apps + Core were running). It stays elevated, as if it‚Äôs still serving several pool apps.\n\nEven when disconnecting all the apps. It does not return to its ~700MB of consumption\n\n<img width=\"1980\" height=\"1362\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4b111e0a-2c2b-4446-b3c4-5dabffa64841\" />\n\n",
          "created_at": "2025-11-25T21:46:03Z"
        },
        {
          "user": "ryanofsky",
          "body": "Thanks the the updates! If I'm understanding correctly, it seems like memory usage increasing 160MB overnight and 100MB over next 8 hours, and this would be pretty consistent with block templates not being freed. I think there are two key unknowns here:\n\n- We don't know whether the client is holding onto the block template references. If it is, then the memory usage going up would be expected and this is client bug, otherwise it is a server bug.\n- We don't know if server is failing to release block templates when the client disconnects. The fact that RSS number does not decrease when the client disconnects suggests that server is failing to release memory, but it's not a reliable indicator, because it only show much memory has been allocated by the OS to the process, but not how much memory is actually in use by the process. When the C library frees memory, it's normal for it to hold onto the pages that were in use and not return them to the OS. It's possible to see how much memory is actually in use using a tool like [heaptrack](https://launchpad.net/ubuntu/+source/heaptrack)\n\nProbably a good next step would be to add log statements to `BlockTemplateImpl` constructor and destructor and write a python test program creating a template, and seeing if the destructor is actually called on sudden disconnect, or when calling the `destroy` method, or when just deleting the reference with `del template; await asyncio.sleep(0)`. This could indicate if there's an obvious problem with the IPC server. It does seem like there is a real leak here, but it's not clear if it this is caused by a bug on the client side or server side.",
          "created_at": "2025-11-26T01:41:09Z"
        },
        {
          "user": "Sjors",
          "body": "The node log messages should contain a `destroy` entry every time the client releases a template. It's probably also a good idea to have the client emit a log message when it discards a template. If the client waits until disconnect you'll see a flood of destroy methods at that point.\n\nIf the latter isn't happening, that could suggest a bug where Bitcoin Core doesn't release the memory after the client disconnects. As suggested by @ryanofsky adding logging to `BlockTemplateImpl` and `~BlockTemplateImpl` should reveal this.",
          "created_at": "2025-11-26T09:44:39Z"
        },
        {
          "user": "plebhash",
          "body": "we merged https://github.com/stratum-mining/sv2-apps/pull/59 so deploying SRI Pool and/or JDC for testing can be done from `main` branch\n\n> The node log messages should contain a destroy entry every time the client releases a template. It's probably also a good idea to have the client emit a log message when it discards a template.\n\nI just did some tests with:\n- Bitcoin Core v30 binary downloaded from official website\n- `mainnet` (for frequent template updates)\n- SRI Pool from commit https://github.com/stratum-mining/sv2-apps/commit/ecf5f258766ac9e08bd8aaaa53b45b1c1bf961d8 (and also `RUST_LOG=debug` for extra verbosity)\n\non Pool logs, after block [`0000000000000000000077e34472247575f4858357541269d56a8df5b429862b`](https://mempool.space/block/0000000000000000000077e34472247575f4858357541269d56a8df5b429862b), we destroyed 84 stale templates:\n```\n2025-11-26T17:25:37.848442Z DEBUG bitcoin_core_sv2: Creating a dedicated thread IPC client for destroy_ipc_client\n2025-11-26T17:25:37.848446Z DEBUG bitcoin_core_sv2: Creating new thread IPC client\n...\n2025-11-26T17:25:37.848727Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 53\n2025-11-26T17:25:37.848961Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 40\n2025-11-26T17:25:37.849116Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 2\n2025-11-26T17:25:37.849244Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 28\n2025-11-26T17:25:37.849361Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 30\n2025-11-26T17:25:37.849469Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 38\n2025-11-26T17:25:37.849572Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 83\n2025-11-26T17:25:37.849681Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 56\n2025-11-26T17:25:37.849784Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 74\n2025-11-26T17:25:37.849892Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 78\n2025-11-26T17:25:37.849985Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 11\n2025-11-26T17:25:37.850105Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 62\n2025-11-26T17:25:37.850412Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 33\n2025-11-26T17:25:37.850624Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 4\n2025-11-26T17:25:37.850733Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 9\n2025-11-26T17:25:37.850827Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 60\n2025-11-26T17:25:37.851049Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 41\n2025-11-26T17:25:37.851254Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 58\n2025-11-26T17:25:37.851392Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 19\n2025-11-26T17:25:37.851487Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 20\n2025-11-26T17:25:37.851582Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 66\n2025-11-26T17:25:37.851836Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 7\n2025-11-26T17:25:37.851976Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 65\n2025-11-26T17:25:37.852159Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 34\n2025-11-26T17:25:37.852310Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 61\n2025-11-26T17:25:37.852428Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 72\n2025-11-26T17:25:37.852529Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 80\n2025-11-26T17:25:37.852681Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 1\n2025-11-26T17:25:37.852807Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 84\n2025-11-26T17:25:37.852913Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 51\n2025-11-26T17:25:37.853050Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 76\n2025-11-26T17:25:37.853141Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 24\n2025-11-26T17:25:37.853236Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 25\n2025-11-26T17:25:37.853330Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 67\n2025-11-26T17:25:37.853433Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 81\n2025-11-26T17:25:37.853538Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 52\n2025-11-26T17:25:37.853635Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 16\n2025-11-26T17:25:37.853744Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 54\n2025-11-26T17:25:37.853838Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 71\n2025-11-26T17:25:37.854109Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 43\n2025-11-26T17:25:37.854312Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 26\n2025-11-26T17:25:37.854399Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 59\n2025-11-26T17:25:37.854538Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 63\n2025-11-26T17:25:37.854842Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 5\n2025-11-26T17:25:37.854982Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 47\n2025-11-26T17:25:37.855140Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 31\n2025-11-26T17:25:37.855235Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 48\n2025-11-26T17:25:37.855347Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 50\n2025-11-26T17:25:37.855592Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 32\n2025-11-26T17:25:37.855800Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 3\n2025-11-26T17:25:37.855927Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 12\n2025-11-26T17:25:37.856130Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 18\n2025-11-26T17:25:37.856264Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 79\n2025-11-26T17:25:37.856481Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 14\n2025-11-26T17:25:37.856598Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 73\n2025-11-26T17:25:37.856811Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 15\n2025-11-26T17:25:37.856966Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 8\n2025-11-26T17:25:37.857177Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 23\n2025-11-26T17:25:37.857442Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 45\n2025-11-26T17:25:37.857652Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 17\n2025-11-26T17:25:37.857810Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 22\n2025-11-26T17:25:37.858028Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 69\n2025-11-26T17:25:37.858241Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 36\n2025-11-26T17:25:37.858478Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 37\n2025-11-26T17:25:37.858753Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 6\n2025-11-26T17:25:37.858937Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 10\n2025-11-26T17:25:37.859114Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 68\n2025-11-26T17:25:37.859342Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 35\n2025-11-26T17:25:37.859488Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 44\n2025-11-26T17:25:37.859668Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 57\n2025-11-26T17:25:37.859808Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 29\n2025-11-26T17:25:37.860018Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 55\n2025-11-26T17:25:37.860223Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 75\n2025-11-26T17:25:37.860526Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 82\n2025-11-26T17:25:37.860771Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 21\n2025-11-26T17:25:37.860934Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 77\n2025-11-26T17:25:37.861091Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 27\n2025-11-26T17:25:37.861339Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 46\n2025-11-26T17:25:37.861568Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 39\n2025-11-26T17:25:37.862058Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 13\n2025-11-26T17:25:37.862436Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 42\n2025-11-26T17:25:37.862732Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 64\n2025-11-26T17:25:37.862947Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 70\n2025-11-26T17:25:37.863187Z DEBUG bitcoin_core_sv2::template_data: Destroying template IPC client: 49\n\n```\n\nall of this come from the execution of [`TemplateData::destroy_ipc_client`](https://github.com/stratum-mining/sv2-apps/blob/ecf5f258766ac9e08bd8aaaa53b45b1c1bf961d8/bitcoin-core-sv2/src/template_data.rs#L51), where we allocate one dedicated server thread, and then destroy each template sequentially\n\nand on Bitcoin Core logs, we also see 84 stale templates being destroyed:\n```\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #356 {bitcoin-node-50907/30921742 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #357 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #357 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #357 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #358 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #358 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #358 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #359 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #359 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #359 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #360 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #360 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #360 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #361 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #361 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #361 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #362 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #362 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #362 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #363 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #363 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #363 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #364 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #364 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #364 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #365 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #365 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #365 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #366 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #366 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #366 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #367 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #367 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #367 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #368 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #368 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #368 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #369 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #369 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #369 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #370 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #370 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #370 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #371 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #371 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #371 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #372 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #372 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #372 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #373 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #373 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #373 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #374 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #374 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #374 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #375 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #375 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #375 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #376 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #376 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #376 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #377 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #377 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #377 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #378 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #378 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #378 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #379 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #379 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #379 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #380 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #380 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #380 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #381 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #381 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #381 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #382 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #382 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #382 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #383 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #383 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #383 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #384 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #384 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #384 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #385 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #385 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #385 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #386 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #386 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #386 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #387 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #387 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #387 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #388 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #388 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #388 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #389 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #389 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #389 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #390 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #390 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #390 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #391 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #391 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #391 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #392 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #392 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #392 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #393 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #393 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #393 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #394 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #394 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #394 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #395 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #395 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #395 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #396 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #396 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #396 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #397 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #397 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #397 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #398 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #398 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #398 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #399 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #399 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #399 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #400 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #400 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #400 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #401 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #401 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #401 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #402 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #402 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #402 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #403 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #403 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #403 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #404 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #404 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #404 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #405 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #405 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #405 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #406 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #406 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #406 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #407 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #407 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #407 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #408 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #408 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #408 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #409 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #409 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #409 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #410 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #410 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #410 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #411 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #411 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #411 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #412 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #412 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #412 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #413 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #413 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #413 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #414 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #414 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #414 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #415 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #415 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #415 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #416 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #416 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #416 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #417 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #417 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #417 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #418 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #418 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #418 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #419 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #419 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #419 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #420 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #420 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #420 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #421 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #421 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #421 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #422 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #422 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #422 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #423 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #423 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #423 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #424 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #424 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #424 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #425 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #425 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #425 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #426 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #426 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #426 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #427 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #427 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #427 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #428 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #428 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #428 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #429 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #429 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #429 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #430 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #430 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #430 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #431 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #431 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #431 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #432 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #432 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #432 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #433 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #433 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #433 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #434 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #434 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #434 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #435 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #435 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #435 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #436 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #436 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #436 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #437 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #437 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #437 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #438 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #438 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #438 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #439 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #439 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #439 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server recv request  #440 BlockTemplate.destroy$Params (context = (thread = <external capability>))\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server post request  #440 {bitcoin-node-50907/30931699 (from )}\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server send response #440 BlockTemplate.destroy$Results ()\n2025-11-26T17:25:37Z [ipc] {bitcoin-node-50907/b-capnp-loop-30920310} IPC server destroy N2mp11ProxyServerIN3ipc5capnp8messages13BlockTemplateEEE\n```",
          "created_at": "2025-11-26T18:52:45Z"
        },
        {
          "user": "ryanofsky",
          "body": "Following up on https://github.com/bitcoin/bitcoin/issues/33940#issuecomment-3578402033, I added log statements to the `BlockTemplateImpl` constructor and destructor and wrote a python test creating a block template object and calling the destroy method or not (`DESTROY` variable), and deleting the python template variable or not (`DEL` variable). As soon as either of these things were done, I could see the `~BlockTemplateImpl` destructor being called. I could also see the destructor being called just disconnecting regardless of whether these things were done. I tested with current bitcoin master and with the v30.0 tag and saw the same behavior in both.\n\nThis test would seem to indicate that the leak is happening on the rust client side, and that when the bug happens, the client is probably not dropping references to all old templates or calling `destroy` on them, since doing either of these things should be sufficient to free memory on the server. It is possible there is a more subtle bug on the server side, and not a problem on the client, but so far I haven't seen behavior that looks like a problem. The test program looks like:\n\n<details><summary>test-destroy.py</summary>\n<p>\n\n```diff\n#!/usr/bin/env python3\n\nimport asyncio\nfrom pathlib import Path\nimport shutil\nimport capnp\n\nSRC_DIR = \"/home/ryanofsky/work/bitcoin/src\"\nSOCK_PATH = \"/home/ryanofsky/.bitcoin/regtest/node.sock\"\nDESTROY = 1\nDEL = 1\n\nclass IPCInterfaceTest:\n    def main(self):\n        if capnp_bin := shutil.which(\"capnp\"):\n            capnp_dir = Path(capnp_bin).resolve().parent.parent / \"include\"\n        else:\n            capnp_dir = Path(capnp.__path__[0]).parent\n        src_dir = Path(SRC_DIR)\n        mp_dir = src_dir / \"ipc\" / \"libmultiprocess\" / \"include\"\n        imports = [str(mp_dir), str(capnp_dir), str(src_dir)]\n        self.capnp_modules = {\n            \"proxy\": capnp.load(str(mp_dir / \"mp\" / \"proxy.capnp\"), imports=imports),\n            \"init\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"init.capnp\"), imports=imports),\n            \"echo\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"echo.capnp\"), imports=imports),\n            \"mining\": capnp.load(str(src_dir / \"ipc\" / \"capnp\" / \"mining.capnp\"), imports=imports),\n        }\n        print(\"Running mining test\")\n\n        async def async_routine():\n            ctx, init = await self.make_capnp_init_ctx()\n            mining = init.makeMining(ctx)\n            opts = self.capnp_modules['mining'].BlockCreateOptions()\n            opts.useMempool = True\n            opts.blockReservedWeight = 4000\n            opts.coinbaseOutputMaxAdditionalSigops = 0\n            template = await mining.result.createNewBlock(opts)\n            print(\"Created template\")\n            if DESTROY:\n                template.result.destroy(ctx)\n                print(\"Destroyed template\")\n            if DEL:\n                del template\n                await asyncio.sleep(0)\n                print(\"Deleted template\")\n            await asyncio.sleep(1000)\n\n        asyncio.run(capnp.run(async_routine()))\n\n    async def make_capnp_init_ctx(self):\n        connection = await capnp.AsyncIoStream.create_unix_connection(SOCK_PATH)\n        client = capnp.TwoPartyClient(connection)\n        init = client.bootstrap().cast_as(self.capnp_modules['init'].Init)\n        threadmap = init.construct().threadMap\n        thread = threadmap.makeThread(\"pythread\").result\n        ctx = self.capnp_modules['proxy'].Context()\n        ctx.thread = thread\n        return ctx, init\n\nif __name__ == '__main__':\n    IPCInterfaceTest().main()\n```\n</p>\n</details>",
          "created_at": "2025-12-02T21:40:08Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33940#issuecomment-3582775203\n\n> after block [`0000000000000000000077e34472247575f4858357541269d56a8df5b429862b`](https://mempool.space/block/0000000000000000000077e34472247575f4858357541269d56a8df5b429862b), we destroyed 84 stale templates:\n> [...]\n> all of this come from the execution of [`TemplateData::destroy_ipc_client`](https://github.com/stratum-mining/sv2-apps/blob/ecf5f258766ac9e08bd8aaaa53b45b1c1bf961d8/bitcoin-core-sv2/src/template_data.rs#L51), where we allocate one dedicated server thread, and then destroy each template sequentially\n\n@plebhash, I'm trying to figure out what these logs mean. One thing I'm not sure about is why exactly the rust client is keeping 84 block template references. Is this because of lack of `interruptWait` method and inability to delete templates before `waitNext()` returns? Or are the references being kept because the blocks might need to be submitted? Or maybe some other reason?\n\nI guess from looking at the rust code, it is currently designed to hold onto all templates and then free them when the tip changes. If so, this seems reasonable and should hopefully not use too much memory since the blocks should contain many of the same transactions. I guess the logs also indicate that rust code is able to trigger blocktemplate deletions on the server side, so this also seems good. If I'm understanding correctly, your logs here seem to show the rust client behaving well and deleting the templates it doesn't need.",
          "created_at": "2025-12-02T21:54:36Z"
        },
        {
          "user": "plebhash",
          "body": "> One thing I'm not sure about is why exactly the rust client is keeping 84 block template references.\n\nWe are conservatively keeping all templates in memory up until a chain tip update, because we could potentially receive a solution to any of them.\n\nThis might change with https://github.com/bitcoin/bitcoin/issues/33899, but the limit will remain something to be configured on Bitcoin Core, and whenever `waitNext` returns `Overloaded` error, we discard the oldest template.\n\n> Is this because of lack of `interruptWait` method and inability to delete templates before `waitNext()` returns?\n\nno, so far I haven't noticed any meaningful limitations around deleting templates being imposed by the lack of `interruptWait`\n\n> I guess from looking at the rust code, it is currently designed to hold onto all templates and then free them when the tip changes.\n\ncorrect.\n\n> If so, this seems reasonable and should hopefully not use too much memory since the blocks should contain many of the same transactions.\n\nwe don't keep transaction data on the client side... whenever it's needed, we fetch it via `getBlock` ad-hoc.\n\n> If I'm understanding correctly, your logs here seem to show the rust client behaving well and deleting the templates it doesn't need.\n\nyes, that's also my understanding... the puzzling thing is that we're still having the memory leaks... so we're either missing some detail on this analysis, or the cause is related to something other than templates",
          "created_at": "2025-12-03T12:18:50Z"
        },
        {
          "user": "ryanofsky",
          "body": "> yes, that's also my understanding... the puzzling thing is that we're still having the memory leaks... so we're either missing some detail on this analysis, or the cause is related to something other than templates\n\nI think at this point we've ruled out the obvious possible causes of leaks, and need to start debugging the issue more directly. \n\nIt would help to have some steps to reproduce. If someone can let me know what code to check out and build, and what commands to run that will show the increasing memory usage over time, that would be great. As long as we can observe it happening we should be able to figure out the cause.",
          "created_at": "2025-12-03T15:37:58Z"
        },
        {
          "user": "plebhash",
          "body": "> If someone can let me know what code to check out and build, and what commands to run that will show the increasing memory usage over time, that would be great.\n\n- launch Bitcoin Core on `mainnet` (for high mempool activity)\n- `git clone https://github.com/stratum-mining/sv2-apps -b v0.1.0`\n- edit `sv2-apps/pool-apps/pool/config-examples/mainnet/pool-config-bitcoin-core-ipc-example.toml` to make sure `unix_socket_path` is set correctly\n- `cd sv2-apps/pool-apps/pool; cargo run -- -c config-examples/mainnet/pool-config-bitcoin-core-ipc-example.toml`\n\nat this point, you can start monitoring RAM\n\nI used [`psrecord`](https://github.com/astrofrog/psrecord): `psrecord $(pgrep bitcoin-node | head -1) --plot plot.png`\n\nbut it also consumes a lot of RAM itself (so the OS might kill it if your system doesn't have enough and you run it for too long), so maybe there's more sophisticated ways to do this kind of instrumentation",
          "created_at": "2025-12-04T09:09:00Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33940#issuecomment-3611006053\n\n>* `git clone https://github.com/stratum-mining/sv2-apps -b v0.1.0`\n\nThanks for the instructions. I've been experimenting with the v0.1.0 pool_sv2 app on regtest with a python script to generate transactions & connect blocks quickly to make a memory leak happen without needing to wait a long time.\n\nSo far, behavior has been mostly as expected, where generating lots of transactions without connecting new blocks causes block templates to accumulate and memory usage to go up, but when a new block is connected, the templates get released by the mining client.\n\nOne thing I saw that was surprising was that if the python client connected blocks too quickly, the mining client seemed to fall behind and only release templates after a delay. Like the mining client would be calling `destroy` method on the template from block height 5000 when block height 5015 was being connected. But pausing the python script would cause the mining client to catch up.\n\nI guess I need to try letting the code run a longer time to see if memory usage will accumulate. But I think a slow & gradual leak could be pretty difficult to debug and fix. So if there's anything that can be done to trigger a leak quickly, it will make this debugging this issue a lot easier.\n\n<details><summary>test/functional/test-generate.py</summary>\n<p>\n\n```python\n#!/usr/bin/env python3\n\nfrom test_framework.authproxy import AuthServiceProxy\nfrom test_framework.address import create_deterministic_address_bcrt1_p2tr_op_true\nfrom test_framework.messages import (\n    CTxOut,\n)\nfrom test_framework.script import (\n    CScript,\n    OP_RETURN,\n)\nfrom test_framework.util import (\n    get_auth_cookie,\n)\nfrom test_framework.wallet import MiniWallet\nfrom random import randbytes\n\nSRC_DIR = \"/home/ryanofsky/work/bitcoin/src\"\nDATADIR = \"/home/ryanofsky/.bitcoin\"\nSOCK_PATH = \"/home/ryanofsky/.bitcoin/regtest/node.sock\"\n\nINIT_BLOCKS = 200\nBLOCKS_TO_MINE = 300\nTXS_PER_BLOCK = 100\nTX_BYTES = 50000\n\ndef main():\n    rpc_u, rpc_p = get_auth_cookie(DATADIR, \"regtest\")\n    host = '127.0.0.1'\n    port = 18443\n    url = \"http://%s:%s@%s:%d\" % (rpc_u, rpc_p, host, int(port))\n    node = AuthServiceProxy(url)\n\n    print(f\"Generating {INIT_BLOCKS} blocks without transactions\")\n    node.generatetoaddress(1, create_deterministic_address_bcrt1_p2tr_op_true()[0])\n\n    print(\"Creating wallet\")\n    wallet = MiniWallet(node)\n\n    print(f\"Generating {BLOCKS_TO_MINE} blocks with transactions\")\n    for i in range(BLOCKS_TO_MINE):\n        bheight = node.getblockcount()\n        bhash = node.getblockhash(bheight)\n        print(f\"block{i} height={bheight} hash={bhash}\")\n        for j in range(TXS_PER_BLOCK):\n            tx = wallet.create_self_transfer(fee_rate=0)[\"tx\"]\n            tx_data = [randbytes(TX_BYTES)]\n            tx.vout.append(CTxOut(nValue=0, scriptPubKey=CScript([OP_RETURN] + tx_data)))\n            tx.vout[0].nValue -= tx.get_vsize()  # simply pay 1sat/vbyte fee\n            txid = wallet.sendrawtransaction(from_node=node, tx_hex=tx.serialize().hex())\n            assert txid == tx.txid_hex\n            print(f\"  {bheight=} {bhash=} {tx.txid_hex=}\")\n            assert tx.txid_hex in node.getrawmempool(True)\n        node.generatetoaddress(1, create_deterministic_address_bcrt1_p2tr_op_true()[0])\n\nif __name__ == '__main__':\n    main()\n```\n</p>\n</details>\n\n<details><summary>diff</summary>\n<p>\n\n```diff\n--- a/src/node/interfaces.cpp\n+++ b/src/node/interfaces.cpp\n@@ -858,11 +858,24 @@ class BlockTemplateImpl : public BlockTemplate\n public:\n     explicit BlockTemplateImpl(BlockAssembler::Options assemble_options,\n                                std::unique_ptr<CBlockTemplate> block_template,\n+                               std::atomic<int>& count,\n                                NodeContext& node) : m_assemble_options(std::move(assemble_options)),\n                                                     m_block_template(std::move(block_template)),\n+                                                    m_count(count),\n                                                     m_node(node)\n     {\n         assert(m_block_template);\n+        int c = ++m_count;\n+        uint256 hash{m_block_template->block.hashPrevBlock};\n+        CBlockIndex* block{WITH_LOCK(cs_main, return chainman().m_blockman.LookupBlockIndex(hash))};\n+        LogError(\"==== CONSTRUCT BlockTemplateImpl() ptr=%p count=%i height=%i\", this, c, block ? block->nHeight : -1);\n+    }\n+    ~BlockTemplateImpl() override\n+    {\n+        int c = --m_count;\n+        uint256 hash{m_block_template->block.hashPrevBlock};\n+        CBlockIndex* block{WITH_LOCK(cs_main, return chainman().m_blockman.LookupBlockIndex(hash))};\n+        LogError(\"==== DESTROY BlockTemplateImpl() ptr=%p count=%i height=%i\", this, c, block ? block->nHeight : -1);\n     }\n \n     CBlockHeader getBlockHeader() override\n@@ -914,7 +927,7 @@ public:\n     std::unique_ptr<BlockTemplate> waitNext(BlockWaitOptions options) override\n     {\n         auto new_template = WaitAndCreateNewBlock(chainman(), notifications(), m_node.mempool.get(), m_block_template, options, m_assemble_options, m_interrupt_wait);\n-        if (new_template) return std::make_unique<BlockTemplateImpl>(m_assemble_options, std::move(new_template), m_node);\n+        if (new_template) return std::make_unique<BlockTemplateImpl>(m_assemble_options, std::move(new_template), m_count, m_node);\n         return nullptr;\n     }\n \n@@ -930,6 +943,7 @@ public:\n     bool m_interrupt_wait{false};\n     ChainstateManager& chainman() { return *Assert(m_node.chainman); }\n     KernelNotifications& notifications() { return *Assert(m_node.notifications); }\n+    std::atomic<int>& m_count;\n     NodeContext& m_node;\n };\n \n@@ -965,7 +979,7 @@ public:\n \n         BlockAssembler::Options assemble_options{options};\n         ApplyArgsManOptions(*Assert(m_node.args), assemble_options);\n-        return std::make_unique<BlockTemplateImpl>(assemble_options, BlockAssembler{chainman().ActiveChainstate(), context()->mempool.get(), assemble_options}.CreateNewBlock(), m_node);\n+        return std::make_unique<BlockTemplateImpl>(assemble_options, BlockAssembler{chainman().ActiveChainstate(), context()->mempool.get(), assemble_options}.CreateNewBlock(), m_template_count, m_node);\n     }\n \n     bool checkBlock(const CBlock& block, const node::BlockCheckOptions& options, std::string& reason, std::string& debug) override\n@@ -981,6 +995,7 @@ public:\n     ChainstateManager& chainman() { return *Assert(m_node.chainman); }\n     KernelNotifications& notifications() { return *Assert(m_node.notifications); }\n     NodeContext& m_node;\n+    std::atomic<int> m_template_count{0};\n };\n } // namespace\n } // namespace node\n```\n</p>\n</details>",
          "created_at": "2025-12-08T17:43:39Z"
        },
        {
          "user": "Sjors",
          "body": "> if the python client connected blocks too quickly, the mining client seemed to fall behind and only release templates after a delay\n\nThere's a hardcoded 10(?) second grace period where the Template Provider (both implementations) hold on to templates after a new tip is connected. It's there for two reasons:\n\n1. Trying to relay the block anyway (requires further node changes, since we currently honour the first-seen rule even when that means \"our\" block loses)\n2. Giving pools a chance to verify the template (via JDS) and award shares (especially in [schemes that reward both hash power and total fees](https://delvingbitcoin.org/t/pplns-with-job-declaration/1099)) \n ",
          "created_at": "2025-12-08T17:50:48Z"
        }
      ]
    },
    {
      "number": 33931,
      "title": "how to syn testnet4 data",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nBitcoin Core daemon version v30.0.0\nconfig is\n\n\ntestnet=1\nserver=1\ntxindex=1\n\n[test]                \nwallet=testwallet\nrpcbind=0.0.0.0\nrpcallowip=0.0.0.0/0\nrpcport=18332\nrpcuser=test\nrpcpassword=test\nfallbackfee=0.0001\n\nsyn is testnet3 data now\n\n### Expected behaviour\n\nsyn testnet4 data\n\n### Steps to reproduce\n\nhow to syn testnet4 data\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nversion v30.0.0\n\n### Operating system and version\n\nUbuntu24\n\n### Machine specifications\n\n_No response_",
      "state": "closed",
      "user": "dachengcheng2022",
      "created_at": "2025-11-24T01:19:05Z",
      "updated_at": "2025-11-24T07:11:53Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/33931",
      "labels": [],
      "comment_list": [
        {
          "user": "pinheadmz",
          "body": "use `testnet4=1`\n\nhttps://github.com/bitcoin/bitcoin/blob/a14e7b9dee9145920f93eab0254ce92942bd1e5e/share/examples/bitcoin.conf#L568-L570",
          "created_at": "2025-11-24T01:30:49Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 8,
    "issues": 3
  }
}