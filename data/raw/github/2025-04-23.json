{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:34:59.142226+00:00",
  "date": "2025-04-23",
  "pull_requests": [
    {
      "number": 32332,
      "title": "refactor: Update `XOnlyPubKey::GetKeyIDs()` to return a pair of pubkeys",
      "body": "Currently, `XOnlyPubKey::GetKeyIDs()` has `vector` as return type, but always returns a pair of public key IDs.\r\n\r\nThis PR changes the code for readability reasons. \r\nThere may be negligible efficiency gains, but the goal is to make the code more readable and to make the intent of the function clear.\r\nThere is no change in behavior.",
      "state": "closed",
      "user": "w0xlt",
      "created_at": "2025-04-23T23:19:07Z",
      "updated_at": "2025-08-04T19:49:15Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32332",
      "labels": [
        "Refactoring",
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32332.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/32332#pullrequestreview-2940665223), [rkrux](https://github.com/bitcoin/bitcoin/pull/32332#pullrequestreview-3071815295) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32724](https://github.com/bitcoin/bitcoin/pull/32724) (Musig2 tests by w0xlt)\n* [#31244](https://github.com/bitcoin/bitcoin/pull/31244) (descriptors: MuSig2 by achow101)\n* [#29675](https://github.com/bitcoin/bitcoin/pull/29675) (wallet: Be able to receive and spend inputs involving MuSig2 aggregate keys by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-23T23:19:10Z"
        },
        {
          "user": "w0xlt",
          "body": "@hodlinator  yes, this decreases heap usage, but I don't think there are any relevant performance gains.",
          "created_at": "2025-04-24T22:27:04Z"
        },
        {
          "user": "achow101",
          "body": "-0\r\n\r\nI don't think such refactorings are meaningfully useful. While it may improve readability a bit, I don't think the difference is enough to justify making this change. Such refactorings both can cause merge conflicts with other higher priority work, and also make git blame a little bit harder.",
          "created_at": "2025-07-30T22:34:44Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-07-31T22:45:48Z"
        }
      ]
    },
    {
      "number": 32330,
      "title": "doc: add missing top-level description to pruneblockchain RPC",
      "body": "Previously, the `pruneblockchain` RPC help output included only the method signature and arguments, with no top-level description explaining its purpose or constraints.\r\n\r\nThis adds a concise description noting that the method deletes block and undo data, requires `-prune` to be enabled at startup, and is irreversible.",
      "state": "closed",
      "user": "nervana21",
      "created_at": "2025-04-23T13:28:38Z",
      "updated_at": "2025-04-23T13:34:15Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32330",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32330.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-23T13:28:41Z"
        }
      ]
    },
    {
      "number": 32329,
      "title": "Add rpcestimateconservativefees",
      "body": "### Summary\r\n\r\nThis PR introduces a new configuration option: `-rpcestimateconservativefees`. When enabled, it forces the default behavior of the `estimatesmartfee` RPC to use **conservative mode** fee estimation.\r\n\r\n### Motivation\r\n\r\nBitcoin Core v28.0 changed the default fee estimation mode for `estimatesmartfee` from **conservative** to **economical** ([[#30275](https://github.com/bitcoin/bitcoin/pull/30275)](https://github.com/bitcoin/bitcoin/pull/30275)). While this change reduces fee over-estimation for most users, it may not be ideal in all environments.\r\n\r\nIn my case, I maintain a long-running node (since v24.0) with multiple clients depending on the legacy conservative behavior. This flag allows operators like myself to preserve that behavior without requiring client-side changes.\r\n\r\n### Usage\r\n\r\nCan be added to `bitcoin.conf` or used as a command-line flag:\r\n```\r\nrpcestimateconservativefees=1\r\n```\r\n\r\n### Impact\r\n\r\nThis feature allows node operators to opt back into conservative fee estimation by default, offering a smoother upgrade path and preserving expected behavior for dependent systems.",
      "state": "closed",
      "user": "juanmigdr",
      "created_at": "2025-04-23T11:19:19Z",
      "updated_at": "2025-04-23T15:09:13Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/32329",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32329.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/32329#issuecomment-2824083941), [glozow](https://github.com/bitcoin/bitcoin/pull/32329#issuecomment-2824360562), [stickies-v](https://github.com/bitcoin/bitcoin/pull/32329#pullrequestreview-2787516215) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-23T11:19:23Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/41006893423</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-04-23T11:27:05Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "\r\n\r\n> Bitcoin Core v28.0 changed the default fee estimation mode for `estimatesmartfee` from *conservative* to *economical* ([[#30275](https://github.com/bitcoin/bitcoin/pull/30275)](https://github.com/bitcoin/bitcoin/pull/30275)). While this change reduces fee overestimation for most users, it may not be ideal in all environments.\r\n\r\nYou can easily opt in to the `conservative` mode by passing a parameter to `estimatesmartfee`.\r\n\r\n> In my case, I maintain a long-running node (since v24.0) with multiple clients depending on the legacy conservative behavior. This flag allows operators like myself to preserve that behavior without requiring client-side changes.\r\n\r\nIt was determined that the conservative mode is not needed by most users and in some cases, even harmful as explained in #30275, supported by [empirical research](https://delvingbitcoin.org/t/bitcoind-policy-estimator-modes-analysis/964) and user report #30009 . Hence the switch.\r\n\r\nSince there is already a runtime parameter for `estimatesmartfee` that enables the behavior you're proposing. Shouldn't this be the other way around i.e clients that truly need conservative mode can opt in. I don't think it's necessary to introduce a startup option for this. Hence, NACK.\r\n\r\nI‚Äôm also curious what clients or applications specifically require the conservative behavior of `estimatesmartfee`?\r\n",
          "created_at": "2025-04-23T12:12:37Z"
        },
        {
          "user": "juanmigdr",
          "body": "> > Bitcoin Core v28.0 changed the default fee estimation mode for `estimatesmartfee` from _conservative_ to _economical_ ([[#30275](https://github.com/bitcoin/bitcoin/pull/30275)](#30275)). While this change reduces fee overestimation for most users, it may not be ideal in all environments.\r\n> \r\n> You can easily opt in to the `conservative` mode by passing a parameter to `estimatesmartfee`.\r\n> \r\n> > In my case, I maintain a long-running node (since v24.0) with multiple clients depending on the legacy conservative behavior. This flag allows operators like myself to preserve that behavior without requiring client-side changes.\r\n> \r\n> It was determined that the conservative mode is not needed by most users and in some cases, even harmful as explained in #30275, supported by [empirical research](https://delvingbitcoin.org/t/bitcoind-policy-estimator-modes-analysis/964) and user report #30009 . Hence the switch.\r\n> \r\n> Since there is already a runtime parameter for `estimatesmartfee` that enables the behavior you're proposing. Shouldn't this be the other way around i.e clients that truly need conservative mode can opt in. I don't think it's necessary to introduce a startup option for this. Hence, NACK.\r\n> \r\n> I‚Äôm also curious what clients or applications specifically require the conservative behavior of `estimatesmartfee`?\r\n\r\nThank you for your feedback @ismaelsadeeq.\r\n\r\nI manage a hosted node that has been used by multiple clients for years. After upgrading to Bitcoin Core v28.0, some of these clients reported unexpected changes in the fee estimation behavior and expressed a desire to keep using the \"conservative\" fee estimation mode. While I do not have specific details on their reasons, the key issue is that they did not anticipate this change in behavior, and they do not wish to modify their source code to accommodate the new default behavior.\r\n\r\nSince they do not want to send the parameter to enable the conservative mode in the RPC request, I thought this flag could offer a solution. The motivation behind the upgrade was to support clients who wanted to use testnet4, and I expected the transition to be smoother, but the fee estimation change has caused some issues for these clients.\r\n\r\nI understand the rationale behind making the \"economical\" mode the default, but for some long-running nodes with multiple clients depending on the legacy behavior, this change has led to complications. Adding this configuration flag allows operators like myself to maintain backward compatibility without requiring client-side changes.\r\n\r\nI hope this clarifies the reasoning for this request.",
          "created_at": "2025-04-23T12:35:17Z"
        },
        {
          "user": "glozow",
          "body": "Concept NACK - even if there are good reasons to use conservative fee estimation, using a config option instead of the RPC parameter is more rigid, requires coordination with the node runner, wouldn't be available for another 6 months, and further complicates the current mess of config options. Passing a 'conservative' arg should be a one-line change to their source code and is already supported by all maintained versions of Core.\r\n\r\n> While I do not have specific details on their reasons, the key issue is that they did not anticipate this change in behavior,\r\n\r\nWhile I sympathize with the frustration of things breaking due to changes upstream, it was very clearly described in the v28.0 release notes.\r\n\r\n> and they do not wish to modify their source code to accommodate the new default behavior.\r\n\r\nThat's exactly what this pull request is doing, except asking Bitcoin Core to do it to accommodate a small set of users.",
          "created_at": "2025-04-23T13:44:40Z"
        },
        {
          "user": "furszy",
          "body": "> I think you can easily solve this by running a small JSON-RPC proxy that listens on the usual RPC port, injects a estimate_mode argument if none is provided and forwards that to the bitcoind instance? Then your clients won't need to make any changes for as long as you're willing to maintain backwards compatibility.\r\n\r\nOr.. while the clients adapt, simpler to just downgrade or compile the binaries yourself.",
          "created_at": "2025-04-23T14:19:46Z"
        },
        {
          "user": "fanquake",
          "body": "Agree with the other comments here. Closing for now.",
          "created_at": "2025-04-23T15:00:04Z"
        },
        {
          "user": "juanmigdr",
          "body": "You're right, @ismaelsadeeq, @glozow, @stickies-v, @furszy, and @fanquake. Thanks for the feedback and suggestions. I see that adding this config option isn't the best solution, as this change is quite specific to my situation, and the cost of maintaining it outweighs the benefits. I'll consider alternative ways to handle this. Appreciate the help!",
          "created_at": "2025-04-23T15:09:12Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32331,
      "title": "cmake: GUI build broken with `-stdlib=libc++`",
      "body": "```bash\nmaster @ 9a4c92eb9ac29204df3d826f5ae526ab16b8ad65\nclang version 20.1.2 (Fedora 20.1.2-3.fc42)\ncmake -B build -DBUILD_GUI=ON -DAPPEND_CXXFLAGS=\"-stdlib=libc++\" -DAPPEND_LDFLAGS=\"-stdlib=libc++\"\ncmake --build build\n<snip>\ncmake --build build -j17 --target bitcoin-qt\n[  0%] Generating bitcoin-build-info.h\n[  0%] Built target secp256k1_precomputed\n[  0%] Built target crc32c\n[  1%] Built target bitcoin_consensus\n[  3%] Built target bitcoin_cli\n[  4%] Built target univalue\n[  7%] Built target minisketch\n[  7%] Built target secp256k1\n[ 12%] Built target bitcoin_crypto\n[ 20%] Built target leveldb\n[ 20%] Built target generate_build_info\n[ 20%] Built target bitcoin_clientversion\n[ 32%] Built target bitcoin_util\n[ 32%] Built target bitcoin_wallet\n[ 32%] Built target bitcoinqt_autogen_timestamp_deps\n[ 43%] Built target bitcoin_common\n[ 44%] Built target bitcoinqt_autogen\n[ 63%] Built target bitcoin_node\n[100%] Built target bitcoinqt\n[100%] Built target bitcoin-qt_autogen_timestamp_deps\n[100%] Built target bitcoin-qt_autogen\n[100%] Linking CXX executable ../../bin/bitcoin-qt\n/usr/bin/ld: CMakeFiles/bitcoin-qt.dir/main.cpp.o: in function `std::__1::__function::__func<$_0, std::__1::allocator<$_0>, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > (char const*)>::operator()(char const*&&)':\n/usr/include/x86_64-linux-gnu/qt6/QtCore/qstring.h:1477:(.text+0x18f): undefined reference to `QByteArray::toStdString() const'\n/usr/bin/ld: ../../lib/libbitcoinqt.a(bitcoin.cpp.o): in function `QString::toStdString() const':\n/usr/include/x86_64-linux-gnu/qt6/QtCore/qstring.h:1477:(.text+0x3b): undefined reference to `QByteArray::toStdString() const'\n/usr/bin/ld: /usr/include/x86_64-linux-gnu/qt6/QtCore/qstring.h:1477:(.text+0xe0): undefined reference to `QByteArray::toStdString() const'\n/usr/bin/ld: ../../lib/libbitcoinqt.a(bitcoin.cpp.o): in function `BitcoinApplication::createOptionsModel(bool)':\n/usr/include/x86_64-linux-gnu/qt6/QtCore/qstring.h:1477:(.text+0xc86): undefined reference to `QByteArray::toStdString() const'\n/usr/bin/ld: ../../lib/libbitcoinqt.a(bitcoin.cpp.o): in function `initTranslations(QTranslator&, QTranslator&, QTranslator&, QTranslator&)':\n/usr/include/x86_64-linux-gnu/qt6/QtCore/qstring.h:1477:(.text+0x5ab2): undefined reference to `QByteArray::toStdString() const'\n/usr/bin/ld: ../../lib/libbitcoinqt.a(bitcoingui.cpp.o):/usr/include/x86_64-linux-gnu/qt6/QtCore/qstring.h:1477: more undefined references to `QByteArray::toStdString() const' follow\nclang++: error: linker command failed with exit code 1 (use -v to see invocation)\n```",
      "state": "open",
      "user": "fanquake",
      "created_at": "2025-04-23T13:41:23Z",
      "updated_at": "2025-04-23T14:58:59Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/32331",
      "labels": [
        "GUI",
        "Build system",
        "Upstream"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "Is it supposed to work without using depends built with `-stdlib=libc++`?",
          "created_at": "2025-04-23T13:56:55Z"
        },
        {
          "user": "maflcko",
          "body": "IIRC it used to work with qt5, but it is unclear if that was intentional or by accident. I guess in any case this is an upstream issue that would need to be fixed in the distro or in qt6, if it is an issue at all?",
          "created_at": "2025-04-23T14:58:58Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 3,
    "issues": 1
  }
}