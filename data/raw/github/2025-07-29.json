{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:02:22.181024+00:00",
  "date": "2025-07-29",
  "pull_requests": [
    {
      "number": 33094,
      "title": "refactor: unify container presence checks",
      "body": "### Summary\r\nInstead of counting occurrences in sets and maps, the C++20 `::contains` method expresses the intent unambiguously and can return early on first encounter.\r\n\r\n### Context\r\nApplied clang‚Äëtidy's [readability‚Äëcontainer‚Äëcontains](https://clang.llvm.org/extra/clang-tidy/checks/readability/container-contains.html) check, though many cases required manual changes since tidy couldn't fix them automatically.\r\n\r\n### Changes\r\nThe changes made here were:\r\n\r\n| From                   | To               |\r\n|------------------------|------------------|\r\n| `m.find(k) == m.end()` | `!m.contains(k)` |\r\n| `m.find(k) != m.end()` | `m.contains(k)`  |\r\n| `m.count(k)`           | `m.contains(k)`  |\r\n| `!m.count(k)`          | `!m.contains(k)` |\r\n| `m.count(k) == 0`      | `!m.contains(k)` |\r\n| `m.count(k) != 1`      | `!m.contains(k)` |\r\n| `m.count(k) == 1`      | `m.contains(k)`  |\r\n| `m.count(k) < 1`       | `!m.contains(k)`  |\r\n| `m.count(k) > 0`       | `m.contains(k)`  |\r\n| `m.count(k) != 0`      | `m.contains(k)`  |\r\n\r\n> Note that `== 1`/`!= 1`/`< 1` only apply to simple [maps](https://en.cppreference.com/w/cpp/container/map/contains)/[sets](https://en.cppreference.com/w/cpp/container/set/contains) and had to be changed manually.\r\n\r\nThere are many other cases that could be changed, but we've reverted most of those to reduce conflict with other open PRs.\r\n\r\n-----\r\n\r\n<details>\r\n<summary>clang-tidy command on Mac</summary>\r\n\r\n```bash\r\nrm -rfd build && \\\r\ncmake -B build \\\r\n  -DCMAKE_C_COMPILER=\"$(brew --prefix llvm)/bin/clang\" \\\r\n  -DCMAKE_CXX_COMPILER=\"$(brew --prefix llvm)/bin/clang++\" \\\r\n  -DCMAKE_OSX_SYSROOT=\"$(xcrun --show-sdk-path)\" \\\r\n  -DCMAKE_C_FLAGS=\"-target arm64-apple-macos11\" \\\r\n  -DCMAKE_CXX_FLAGS=\"-target arm64-apple-macos11\" \\\r\n  -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_BENCH=ON -DBUILD_FUZZ_BINARY=ON -DBUILD_FOR_FUZZING=ON\r\n\r\n \"$(brew --prefix llvm)/bin/run-clang-tidy\" -quiet -p build -j$(nproc) -checks='-*,readability-container-contains' | grep -v 'clang-tidy'\r\n```\r\n\r\n</details>",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-07-29T23:38:27Z",
      "updated_at": "2025-08-18T11:56:11Z",
      "comments": 14,
      "url": "https://github.com/bitcoin/bitcoin/pull/33094",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33094.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/33094#pullrequestreview-3073861902) |\n| Stale ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/33094#pullrequestreview-3093134785), [optout21](https://github.com/bitcoin/bitcoin/pull/33094#pullrequestreview-3093962887) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33062](https://github.com/bitcoin/bitcoin/pull/33062) (truc: optimize the in package relation calculation by HowHsu)\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#33032](https://github.com/bitcoin/bitcoin/pull/33032) (wallet, test: Replace MockableDatabase with in-memory SQLiteDatabase by achow101)\n* [#33018](https://github.com/bitcoin/bitcoin/pull/33018) (coins: remove SetFresh method from CCoinsCacheEntry by andrewtoth)\n* [#32998](https://github.com/bitcoin/bitcoin/pull/32998) (Bump SCRIPT_VERIFY flags to 64 bit by ajtowns)\n* [#32763](https://github.com/bitcoin/bitcoin/pull/32763) (wallet: Replace CWalletTx::mapValue and vOrderForm with explicit class members by achow101)\n* [#32523](https://github.com/bitcoin/bitcoin/pull/32523) (wallet: Remove isminetypes by achow101)\n* [#32489](https://github.com/bitcoin/bitcoin/pull/32489) (wallet: Add `exportwatchonlywallet` RPC to export a watchonly version of a wallet by achow101)\n* [#32297](https://github.com/bitcoin/bitcoin/pull/32297) (bitcoin-cli: Add -ipcconnect option by ryanofsky)\n* [#31860](https://github.com/bitcoin/bitcoin/pull/31860) (init: Take lock on blocks directory in BlockManager ctor by TheCharlatan)\n* [#31713](https://github.com/bitcoin/bitcoin/pull/31713) (miniscript refactor: Remove unique_ptr-indirection (#30866 follow-up) by hodlinator)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#26781](https://github.com/bitcoin/bitcoin/pull/26781) (Release `LockData::dd_mutex` before calling `*_detected` functions by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- \"a available transaction\" ‚Üí \"an available transaction\" [‚Äòavailable‚Äô begins with a vowel sound, so ‚Äòan‚Äô is required]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-07-29T23:38:32Z"
        },
        {
          "user": "janb84",
          "body": "Nit; Missed?: \r\n[bitcoin-cli.cpp L11117](https://github.com/l0rinc/bitcoin/blob/71911a5912c0778b10308b4e28ff183921f4a275/src/bitcoin-cli.cpp#L1117)\r\n``` C++\r\nif (proxy_networks.find(proxy) == proxy_networks.end()) ordered_proxies.push_back(proxy);\r\n``` \r\n=>\r\n\r\n``` C++\r\nif (!proxy_networks.contains(proxy)) ordered_proxies.push_back(proxy);\r\n```",
          "created_at": "2025-08-01T11:42:12Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks, rebased to solve conflict in `validations.cpp` and migrated a few new values - thanks for the hint @janb84.\r\nYou can re-review via `git range-diff master 71911a59 53461dc5`",
          "created_at": "2025-08-01T19:56:42Z"
        },
        {
          "user": "fanquake",
          "body": "if this is done, it should be added to `clang-tidy`:\r\n```bash\r\n[379/677][7.2s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/zmq/zmqrpc.cpp\r\n775 warnings generated.\r\n\r\n[380/677][10.0s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/test/coins_tests.cpp\r\n/ci_container_base/src/test/coins_tests.cpp:397:48: error: use 'contains' to check for membership [readability-container-contains,-warnings-as-errors]\r\n  397 |                         assert(duplicate_coins.count(utxod->first));\r\n      |                                                ^\r\n1128 warnings generated.\r\n\r\n[381/677][10.2s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/test/txrequest_tests.cpp\r\n--\r\n\r\n[443/677][0.8s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/crypto/sha3.cpp\r\n33 warnings generated.\r\n\r\n[444/677][16.6s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/wallet/test/fuzz/scriptpubkeyman.cpp\r\n/ci_container_base/src/wallet/test/fuzz/scriptpubkeyman.cpp:129:60: error: use 'contains' to check for membership [readability-container-contains,-warnings-as-errors]\r\n  129 |                     assert(spk_manager->GetScriptPubKeys().count(script));\r\n      |                                                            ^\r\n2416 warnings generated.\r\n\r\n[445/677][17.4s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/wallet/rpc/transactions.cpp\r\n--\r\n\r\n[653/677][12.1s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/test/fuzz/miniscript.cpp\r\n1071 warnings generated.\r\n\r\n[654/677][14.3s] clang-tidy-20 -p=/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/src/qt/walletframe.cpp\r\n/ci_container_base/src/qt/walletframe.cpp:73:24: error: use 'contains' to check for membership [readability-container-contains,-warnings-as-errors]\r\n   73 |     if (mapWalletViews.count(walletView->getWalletModel()) > 0) return false;\r\n      |                        ^~~~~                               ~~~\r\n      |                        contains\r\n/ci_container_base/src/qt/walletframe.cpp:93:24: error: use 'contains' to check for membership [readability-container-contains,-warnings-as-errors]\r\n   93 |     if (mapWalletViews.count(wallet_model) == 0) return;\r\n      |                        ^~~~~               ~~~~\r\n      |         !              contains\r\n/ci_container_base/src/qt/walletframe.cpp:119:24: error: use 'contains' to check for membership [readability-container-contains,-warnings-as-errors]\r\n  119 |     if (mapWalletViews.count(wallet_model) == 0) return;\r\n      |                        ^~~~~               ~~~~\r\n      |         !              contains\r\n1370 warnings generated.\r\n\r\n^^^ ‚ö†Ô∏è Failure generated from clang-tidy\r\n```",
          "created_at": "2025-08-05T10:41:20Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks @fanquake, I wanted to leave out `QMap` values, but since it enables adding `readability-container-contains` to `clang-tidy`, I'm all for it.\r\nDone in the latest push in the last commit (since it's a non-trivial map type) - where I also rebased to make sure we're capturing all potential recent additions.\r\nShould be easy to re-review.",
          "created_at": "2025-08-05T18:47:46Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/runs/47447365178</sub>\n<sub>LLM reason (‚ú® experimental): Clang-tidy reported errors regarding usage of 'contains' for container membership checks.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-05T20:26:54Z"
        },
        {
          "user": "optout21",
          "body": "> Note that `== 1`/`!= 1`/`< 1` only apply to simple [maps](https://en.cppreference.com/w/cpp/container/map/contains)/[sets](https://en.cppreference.com/w/cpp/container/set/contains) and had to be changed manually.\r\n\r\nI understand the `== 1`/`!= 1` parts, but for `< 1`: it means that the value can be only 0, which means \"doesn't contain\", so it applies equally to de-duplicated containers (map, set) and duplicated containers as well, isn't it?\r\n\r\nUpdate: AFAICS the `< 1` pattern is changed in only one place, in a multi-map.",
          "created_at": "2025-08-06T19:16:00Z"
        },
        {
          "user": "l0rinc",
          "body": "Yes, applies to any kind of map, but I had to find and change those manually - clang-tidy doesn't detect or fix those.",
          "created_at": "2025-08-06T19:36:33Z"
        },
        {
          "user": "l0rinc",
          "body": "Rebased after https://github.com/bitcoin/bitcoin/pull/33116, ready for review again:\r\n>git range-diff 05153600af10c322e40d107b8cf0c8e69b8b0aeb...995d3a9f11e06a518c39a5042576e812628aa3d6\r\n\r\nI have added a few more `count` -> `contains` changes that were introduced since.",
          "created_at": "2025-08-13T23:08:54Z"
        },
        {
          "user": "ajtowns",
          "body": "Concept -1: this doesn't seem valuable enough to warrant rebasing all the PRs it conflicts with. Can this be added as a linter of some sort to encourage the changes to be made when the code is touched?",
          "created_at": "2025-08-14T00:58:08Z"
        },
        {
          "user": "l0rinc",
          "body": "Not sure what to do about the conflicts, but to enable the linter, I had to fix the existing problems first. Maybe there is a way in clang-tidy to only check new code, but it's definitely cleaner enabling it for all code, as done in this PR.\r\nI also had to do many of these changes manually, so while linter would help, it cannot catch all of these inconsistencies.",
          "created_at": "2025-08-14T01:18:03Z"
        },
        {
          "user": "ajtowns",
          "body": "> Not sure what to do about the conflicts, but to enable the linter, I had to fix the existing problems first. Maybe there is a way in clang-tidy to only check new code,\r\n\r\nPerhaps an approach like this would work (for this and other cleanups)?\r\n\r\n1. Run `git diff ${base}..HEAD --unified=0` and use the `^[+][+][+]` lines to track the files touched, and the \"+n,k\" values in the `^@@` lines to identify the touched lines (ie, each line in `range(n,n+k)`\r\n2. Run clang-tidy\r\n3. Check for any clang-tidy errors that hit lines found in step 1, and error out if there are any hits",
          "created_at": "2025-08-14T03:01:59Z"
        },
        {
          "user": "l0rinc",
          "body": "Removed all conflicts with other PR that I found and opened a new PR at https://github.com/bitcoin/bitcoin/pull/33192 to give @DrahtBot a chance to recalculate the conflicts section.\r\ncc: @ajtowns, @instagibbs",
          "created_at": "2025-08-15T02:31:52Z"
        },
        {
          "user": "maflcko",
          "body": "It is already possible to run clang tidy on a diff. See `git grep clang-tidy-diff`. However, it is not integrated into CI. In theory it could be integrated, enforcing a stronger set of checks than the \"default\" ones. Though, that's also going to mess with move-only commits, so I am not sure if it will be useful to have it enabled and lead to failing CI. I'd say there are two options:\r\n\r\n* Enable it globally and by default in a \"breaking\" CI change that may lead to silent or explicit merge conflicts.\r\n* Just add it to one of the existing reporting channels for non-critical issues (corecheck (freshly added or as sonarcloud via corecheck), DrahtBot summary comment, CI notice/warning (c.f. 54d0022e5d6921a31f5a2fc9302f4c4fc636b6a8), ...)",
          "created_at": "2025-08-18T11:56:11Z"
        }
      ]
    },
    {
      "number": 33093,
      "title": "refactor: remove unused `ser_writedata16be` and `ser_readdata16be`",
      "body": "Remove dead code from serialization logic - extracted from https://github.com/bitcoin/bitcoin/pull/31868",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-07-29T23:28:52Z",
      "updated_at": "2025-08-01T01:32:14Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33093",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33093.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [jlest01](https://github.com/bitcoin/bitcoin/pull/33093#pullrequestreview-3073357661), [maflcko](https://github.com/bitcoin/bitcoin/pull/33093#issuecomment-3138711573), [achow101](https://github.com/bitcoin/bitcoin/pull/33093#issuecomment-3141583139) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-29T23:28:57Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 0431a690c3a498a1e728c9df34a132ac16177a04",
          "created_at": "2025-07-31T06:28:02Z"
        },
        {
          "user": "achow101",
          "body": "ACK 0431a690c3a498a1e728c9df34a132ac16177a04",
          "created_at": "2025-07-31T23:01:15Z"
        }
      ]
    },
    {
      "number": 33092,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "jordancampa23-ctrl",
      "created_at": "2025-07-29T21:19:51Z",
      "updated_at": "2025-07-29T21:24:25Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33092",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "‚ôªÔ∏è Automatically closing for now based on heuristics. Please leave a comment, if this was erroneous. Generally, please focus on creating high-quality, original content that demonstrates a clear understanding of the project's requirements and goals.",
          "created_at": "2025-07-29T21:19:55Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33092.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-29T21:19:57Z"
        }
      ]
    },
    {
      "number": 33088,
      "title": "doc: move `cmake -B build -LH` up in Unix build docs",
      "body": "#32269 rebased.\r\n\r\n> I had trouble building bitcoin core the way I wanted since now more features require a flag while building. IMO it makes sense to make it a bit more prominent in the build docs how to get the needed flags.\r\n\r\n> Related issue: https://github.com/bitcoin/bitcoin/issues/32258",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-07-29T10:58:55Z",
      "updated_at": "2025-07-31T06:47:20Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33088",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33088.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/33088#pullrequestreview-3067205611), [maflcko](https://github.com/bitcoin/bitcoin/pull/33088#issuecomment-3132408117), [janb84](https://github.com/bitcoin/bitcoin/pull/33088#pullrequestreview-3067676411) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-29T10:59:00Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 6757052fc439bedd1fa88ee1d23b4f17cf2c4f7a",
          "created_at": "2025-07-29T12:53:46Z"
        },
        {
          "user": "fanquake",
          "body": "@stickies-v might follow up with any Windows doc changes.",
          "created_at": "2025-07-29T15:15:41Z"
        },
        {
          "user": "luke-jr",
          "body": "(might make sense to mention `ccmake` too?)",
          "created_at": "2025-07-31T06:47:20Z"
        }
      ]
    },
    {
      "number": 33086,
      "title": "contrib: [tracing] fix pointer argument handling in mempool_monitor.py",
      "body": "The BPF code was incorrectly passing pointer variables by value to `bpf_usdt_readarg()`, causing the function to fail silently and resulting in transaction hashes showing as zeros and reason strings displaying empty strings.\r\n\r\nThis fix adds the missing reference operator (&) when passing pointer variables to `bpf_usdt_readarg()`, allowing the function to properly write the pointer values and enabling correct display of transaction hashes and removal/rejection reasons.\r\n\r\nFixes the regression introduced in [ec47ba349d](https://github.com/bitcoin/bitcoin/commit/ec47ba349d0b3cb2d274593ca7b828ae70584e10) where `bpf_usdt_readarg_p` was replaced with `bpf_usdt_readarg` but the calling convention wasn't properly updated for pointer arguments.\r\n\r\n**Before: \"0000000000000000000000000000000000000000000000000000000000000000\" tx hashes, and missing reasons (empty strings) for removal.**\r\n\r\n<img width=\"1683\" height=\"1330\" alt=\"Screenshot 2025-07-29 at 4 30 03‚ÄØPM\" src=\"https://github.com/user-attachments/assets/71ba88be-dbcc-43a6-bfe7-bd49ae082b13\" />\r\n\r\n**After: tx hashes show, reasons for removal showing.**\r\n\r\n<img width=\"1682\" height=\"1330\" alt=\"Screenshot 2025-07-29 at 4 29 23‚ÄØPM\" src=\"https://github.com/user-attachments/assets/03738c75-5526-4c1e-82c2-ba100cdf128a\" />\r\n",
      "state": "closed",
      "user": "deadmanoz",
      "created_at": "2025-07-29T08:39:02Z",
      "updated_at": "2025-07-29T13:23:03Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33086",
      "labels": [
        "Scripts and tools"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33086.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [0xB10C](https://github.com/bitcoin/bitcoin/pull/33086#issuecomment-3131511278) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-29T08:39:07Z"
        },
        {
          "user": "0xB10C",
          "body": "tested ACK 0ce041ea88dbea2bdfaf21fd0e60a86012498f0a\r\n\r\nThanks! I can reproduce the problem and confirm that this fixes it.",
          "created_at": "2025-07-29T09:26:20Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to `29.x` in #33074.",
          "created_at": "2025-07-29T09:56:28Z"
        }
      ]
    },
    {
      "number": 33085,
      "title": "doc: gen-manpages.py should check build options",
      "body": "Fixes https://github.com/bitcoin/bitcoin/issues/17506. Second attempt after PR: https://github.com/bitcoin/bitcoin/pull/29457 (closed)\r\n\r\nThis PR fixes the `gen-manpages.py` script to check the build options and exit when there are missing components. It also adds an option to `--skip-build-options-check`\r\n\r\nThe PR also addresses the issues raised on PR: https://github.com/bitcoin/bitcoin/pull/29457:\r\n    - https://github.com/bitcoin/bitcoin/pull/29457#discussion_r1836669430 - the default behaviors is fail\r\n    - https://github.com/bitcoin/bitcoin/pull/29457#issuecomment-1955225976 - by adding  `--skip-build-options-check`\r\n    - https://github.com/bitcoin/bitcoin/pull/29457#pullrequestreview-2433974717 - The PR uses `builddir/src/bitcoin-build-config.h` to check for `HAVE_SYSTEM` option and `builddir/test/config.ini` for the rest as they are only available there respectively",
      "state": "closed",
      "user": "BrandonOdiwuor",
      "created_at": "2025-07-29T07:59:13Z",
      "updated_at": "2026-01-11T12:48:00Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33085",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33085.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- \"Aborting generating manpages...\" -> \"Aborting generation of manpages...\" [corrects ungrammatical gerund usage]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-07-29T07:59:19Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46923751472</sub>\n<sub>LLM reason (‚ú® experimental): Python linter errors due to syntax issues in lint-python-utf8-encoding.py and lint-python.py caused the CI failure.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-29T08:04:09Z"
        },
        {
          "user": "janb84",
          "body": "Personally I like the intent to structure the code more (the introduction of functions). \r\n\r\nPaused reviewing this PR: \r\n- I paused reviewing this PR because the way the code is currently structured is unfinished to me. The introduction of a function for the new functionality is great but the rest of the code needs to be restructured to better incorporate the use of functions imho (e.g. use a main function). \r\n- Have not looked at the intent of the code yet. \r\n\r\n(P.S. This is not meant to be harsh but to explain why I paused reviewing the code instead of silently ignoring the PR. This is an effort to either get the PR merged or closed, not leaving PR's in limbo.)",
          "created_at": "2025-08-04T09:47:56Z"
        },
        {
          "user": "BrandonOdiwuor",
          "body": "@janb84 thanks for having a look\r\n\r\nI think introducing a main function would require a huge refactor to the file for such small check. \r\n\r\nI would also love to hear some advantages of adding a main function here",
          "created_at": "2025-08-19T10:11:21Z"
        },
        {
          "user": "fanquake",
          "body": "@BrandonOdiwuor Are you still working on this?",
          "created_at": "2025-10-14T09:48:03Z"
        },
        {
          "user": "151henry151",
          "body": "Hi @BrandonOdiwuor; I did some work on this in #33828, perhaps you might find some ideas there to implement here. Feel free to use any of it that might help.",
          "created_at": "2025-11-14T03:43:50Z"
        },
        {
          "user": "fanquake",
          "body": "Closing for now, given no followup in 5 months, and somebody else would like to work on this (#33828).",
          "created_at": "2026-01-11T12:47:59Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33090,
      "title": "test: spurious failure in p2p_leak_tx.py --v1transport",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nhttps://github.com/bitcoin/bitcoin/actions/runs/16601603414/job/46962514184?pr=31886\n\n### Expected behaviour\n\nThis test should have passed.\n\n### Steps to reproduce\n\nSee logs in\n\nhttps://github.com/bitcoin/bitcoin/actions/runs/16601603414/job/46962514184?pr=31886\n\nI cannot reproduce it locally.\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nmaster@db36a92c\n\n### Operating system and version\n\nMacOS 15.5\n\n### Machine specifications\n\n_No response_",
      "state": "closed",
      "user": "jonatack",
      "created_at": "2025-07-29T18:33:48Z",
      "updated_at": "2025-11-20T22:37:03Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/33090",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "mzumsande",
          "body": "FYI the failing test is `p2p_leak_tx.py` (not `p2p_leak.py` as in title).",
          "created_at": "2025-08-01T15:22:08Z"
        },
        {
          "user": "mzumsande",
          "body": "See #33121 for a fix and an explanation attempt.",
          "created_at": "2025-08-01T22:23:55Z"
        },
        {
          "user": "mzumsande",
          "body": "I think this can be closed after merge of #3312. Even though (as discussed there) the test can still fail with a very low probability, the fix should have lowered this probability more. ",
          "created_at": "2025-11-20T22:30:30Z"
        },
        {
          "user": "maflcko",
          "body": "closing for now. a new issue can be opened, the next time this happens again.",
          "created_at": "2025-11-20T22:37:03Z"
        }
      ]
    },
    {
      "number": 33087,
      "title": "tsan: drop `DEBUG_LOCKORDER` macro from TSAN job?",
      "body": "It was pointed out in https://github.com/bitcoin/bitcoin/pull/32862#issuecomment-3114706601 that that PR uncovered a false positive libc++ tsan warning. It was not initially clear to me why the issue was not happening in the TSAN CI. The reason it does not, is because of `DEBUG_LOCKORDER`. Dropping that from the TSAN CI job does shows the issue. i.e #33081.\n\nI am wondering if the TSAN job should be split up, so that TSAN & `DEBUG_LOCKORDER` do not interfere with each other. It seems better to not have false positives (or real issues/anything else) in other tooling suppressed, by our own tooling, and instead be able to directly suppress/document issues, and properly report them upstream.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-07-29T09:23:04Z",
      "updated_at": "2025-07-31T14:08:20Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/33087",
      "labels": [
        "Brainstorming"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "jup, should be fine to drop it, as it is included in the other Debug build type tasks:\n\n* https://cirrus-ci.com/task/5453939128139776?logs=ci#L1086\n* https://cirrus-ci.com/task/5876151593205760?logs=ci#L1144\n* https://cirrus-ci.com/task/5022920222703616?logs=ci#L1246\n* https://cirrus-ci.com/task/6579839034982400?logs=ci#L935",
          "created_at": "2025-07-29T14:10:21Z"
        }
      ]
    },
    {
      "number": 33084,
      "title": "wallet: control which taproot script path to spend",
      "body": "When there's multiple script paths we can spend, the wallet just (partially) signs all of them. We then pick the one with the lowest fees:\n\nhttps://github.com/bitcoin/bitcoin/blob/321984705dbcc5982013c8cfb52389cf3f2e75f6/src/script/sign.cpp#L373-L389\n\nThe user may want to override this, e.g.:\n\n1. For privacy reasons they don't wish to reveal the less secure (but cheaper) fallback condition. \n2. Their co-signer software trips up if it sees something in the `taproot_script_path_sigs` it  can't handle (similar to e.g. https://github.com/LedgerHQ/app-bitcoin-new/pull/340)\n\n#32857 lets the user avoid script path spending altogether. Similarly it would be good if they can manually pick one. ",
      "state": "open",
      "user": "Sjors",
      "created_at": "2025-07-29T07:49:30Z",
      "updated_at": "2026-01-15T09:17:19Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/33084",
      "labels": [
        "Wallet",
        "Descriptors"
      ]
    }
  ],
  "summary": {
    "pull_requests": 6,
    "issues": 3
  }
}