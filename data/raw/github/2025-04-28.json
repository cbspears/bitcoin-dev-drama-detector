{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:36:25.284736+00:00",
  "date": "2025-04-28",
  "pull_requests": [
    {
      "number": 32369,
      "title": "test: Use the correct node for doubled keypath test",
      "body": "#29124 had a silent merge conflict with #32350 which resulted in it using the wrong node. Fix the test to use the correct v22 node.",
      "state": "closed",
      "user": "achow101",
      "created_at": "2025-04-28T21:56:22Z",
      "updated_at": "2025-06-26T07:40:37Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32369",
      "labels": [
        "Bug",
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32369.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32369#issuecomment-2837521146), [rkrux](https://github.com/bitcoin/bitcoin/pull/32369#pullrequestreview-2802202219), [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/32369#pullrequestreview-2802477132) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T21:56:24Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 32d55e28af69ef09094ba921289bf4d1ad79905a\r\n\r\nI saw the silent merge conflict in the two pulls and wanted to mention it as soon as one gets merged, but it looks like both got merged at the same time.",
          "created_at": "2025-04-29T05:40:37Z"
        },
        {
          "user": "glozow",
          "body": "My bad for not running this test, thanks @achow101!",
          "created_at": "2025-04-29T13:50:19Z"
        }
      ]
    },
    {
      "number": 32368,
      "title": "Catch harmful arbitrary data. (missing code for #32359)",
      "body": "Some people in the discussion of the PR #32359 are suggesting that `OP_RETURN` should be used instead of `OP_IF`, `OP_FALSE` data injections.\r\n\r\nIMO, PR #32359 should never be merged, as it would encourage the storage of arbitrary data on Bitcoin. But if the PR is still merged, then this code should be added, because [large data insertions have no incentive](https://bitcoin.stackexchange.com/a/122322) to move to `OP_RETURN`.\r\n\r\n![image](https://github.com/user-attachments/assets/32005c35-9c38-4296-8332-052bc37a0ac9)\r\n",
      "state": "closed",
      "user": "Retropex",
      "created_at": "2025-04-28T20:20:13Z",
      "updated_at": "2025-05-05T07:58:19Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32368",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32368.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/32368#issuecomment-2843050092) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32359](https://github.com/bitcoin/bitcoin/pull/32359) (Remove arbitrary limits on OP_Return (datacarrier) outputs by petertodd)\n* [#32133](https://github.com/bitcoin/bitcoin/pull/32133) (RFC: Accept non-std transactions in Testnet4 by default again by fjahr)\n* [#31576](https://github.com/bitcoin/bitcoin/pull/31576) (test: Move `script_assets_tests` into its own suite by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T20:20:15Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\r\nüöß At least one of the CI tasks failed.\r\n<sub>Task: https://github.com/bitcoin/bitcoin/runs/41302883721</sub>\r\n<sub>LLM reason (‚ú® experimental): Test failure caused by an assertion error in test_framework/util.py: assert_equal(False, True) indicating a mismatch between expected and actual mempool transaction presence.</sub>\r\n\r\nHints\r\n\r\nTry to run the tests locally, according to the documentation. However, a CI failure may still\r\nhappen due to a number of reasons, for example:\r\n\r\n* Possibly due to a silent merge conflict (the changes in this pull request being\r\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\r\ncommit of the target branch.\r\n\r\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\r\n  affected test.\r\n\r\n* An intermittent issue.\r\n\r\nLeave a comment here, if you need help tracking down a confusing failure.\r\n\r\n\r\n\r\n",
          "created_at": "2025-04-29T06:01:32Z"
        },
        {
          "user": "Sjors",
          "body": "NACK\r\n\r\nThis is a duplicate of #29520 by the same author.",
          "created_at": "2025-04-30T19:22:17Z"
        },
        {
          "user": "maflcko",
          "body": "* This was opened with failing tests, with no further action for more than a week. (Fixing the tests, or at least running them to confirm they are passing at a minimum before opening a pull request should be trivial)\r\n* It is a duplicate of a closed pull request, which was open in total for more than half a year, but never had a single code-review ack and passing tests/CI at the same time. Also, outstanding feedback from reviewers, such as https://github.com/bitcoin/bitcoin/pull/29520#discussion_r1560687230 or https://github.com/bitcoin/bitcoin/pull/29520#issuecomment-2056153503 was never addressed.\r\n\r\nIf you want to contribute in the future, please make sure to compile the code and run the tests before opening a pull request. Also, make sure to add tests for newly added features, or for changed features. Finally, addressing review feedback instead of ignoring it may encourage reviewers to take another look.",
          "created_at": "2025-05-05T07:58:18Z"
        }
      ]
    },
    {
      "number": 32367,
      "title": "cmake: Check user-defined `APPEND_*FLAGS` variables early",
      "body": "For the purpose of checks performed by the build system, we strive to handle user-defined `APPEND_*FLAGS` in the same way as flags provided by other standard means. In particular, they are considered when the `try_compile()` command is used.\r\n\r\nHowever, these flags are not considered during `enable_language()` command invocation due to design limitations, which might cause issues, such as https://github.com/bitcoin/bitcoin/issues/32323.\r\n\r\nThis PR addresses the issue by introducing an additional compiler check that does consider the user-defined `APPEND_*FLAGS`.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/32323:\r\n```\r\n$ cmake -B build -DAPPEND_CXXFLAGS=\"-ftrivial-auto-var-init\"\r\n-- The CXX compiler identification is GNU 14.2.0\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Check for working CXX compiler: /usr/bin/c++ - skipped\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Performing Test CXX_COMPILER_WORKS\r\n-- Performing Test CXX_COMPILER_WORKS - Failed\r\nCMake Error at cmake/module/EnableLanguage.cmake:42 (message):\r\n  The CXX compiler is not able to compile a simple test program.\r\n\r\n  Check that the \"APPEND_*FLAGS\" variables are set correctly.\r\n\r\n\r\n\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:71 (bitcoincore_enable_language)\r\n\r\n\r\n-- Configuring incomplete, errors occurred!\r\nhebasto@TS-P340:~/dev/bitcoin$ cmake -B build -DAPPEND_CXXFLAGS=\"-ftrivial-auto-var-init=zero\"\r\n-- Performing Test CXX_COMPILER_WORKS\r\n-- Performing Test CXX_COMPILER_WORKS - Success\r\n...\r\n```",
      "state": "open",
      "user": "hebasto",
      "created_at": "2025-04-28T16:35:27Z",
      "updated_at": "2026-01-03T00:13:48Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32367",
      "labels": [
        "Build system",
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32367.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/32367#pullrequestreview-2802672115), [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/32367#pullrequestreview-3140088293) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33101](https://github.com/bitcoin/bitcoin/pull/33101) (cmake: Proactively avoid use of `SECP256K1_DISABLE_SHARED` by hebasto)\n* [#32865](https://github.com/bitcoin/bitcoin/pull/32865) (cmake: Use `AUTHOR_WARNING` for warnings by fanquake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T16:35:30Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-08-06T11:12:52Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--13523179cfe9479db18ec6c5d236f789-->\n‚åõ There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? ‚û°Ô∏è Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? ‚û°Ô∏è Please close.\n* Did the author lose interest or time to work on this? ‚û°Ô∏è Please close it and mark it with one of the labels 'Up for grabs' or 'Insufficient Review', so that it can be picked up in the future.\n",
          "created_at": "2026-01-03T00:13:48Z"
        }
      ]
    },
    {
      "number": 32366,
      "title": "add ignore_incoming_blocks option to ProcessMessage and SendMessages",
      "body": "",
      "state": "closed",
      "user": "stutxo",
      "created_at": "2025-04-28T15:55:34Z",
      "updated_at": "2025-04-28T15:59:39Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32366",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32366.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T15:55:37Z"
        },
        {
          "user": "stutxo",
          "body": "oops opened this PR to the wrong place soz, ignore pls ",
          "created_at": "2025-04-28T15:59:39Z"
        }
      ]
    },
    {
      "number": 32365,
      "title": "descriptors: Reject + sign while parsing unsigned",
      "body": "As a follow-up to https://github.com/bitcoin/bitcoin/pull/30577, reject `+` for unsigned values in key-path parsing and multi threshold parsing as well.\r\n\r\nBoth of those are using unsigned, and Bitcoin Core would never serialize a descriptor string with a stray `+`. Accepting stray `+` signs could lead to checksum mismatches, or other incompatibilities later on.\r\n\r\nJust like https://github.com/bitcoin/bitcoin/pull/30577, both changes are breaking changes on the RPC interface, but hopefully no one should be relying on this behavior in production. Similarly, both changes should be fine for the wallet, because it normalizes the strings on import, see https://github.com/bitcoin/bitcoin/pull/30577#pullrequestreview-2218436014.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-28T15:18:52Z",
      "updated_at": "2025-04-29T19:35:41Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32365",
      "labels": [
        "Descriptors"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32365.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/32365#pullrequestreview-2800976553), [brunoerg](https://github.com/bitcoin/bitcoin/pull/32365#pullrequestreview-2802901832), [janb84](https://github.com/bitcoin/bitcoin/pull/32365#pullrequestreview-2803180000) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T15:18:56Z"
        }
      ]
    },
    {
      "number": 32364,
      "title": "refactor: validation: mark CheckBlockIndex as const",
      "body": "While reviewing another PR, I [noticed](https://github.com/bitcoin/bitcoin/pull/31405#discussion_r2056509235) that `ChainstateManager::CheckBlockIndex()`  is not a `const` method. To try and assert that this method was not causing any side-effects, I modified the method to make it `const`. It did not surface any errors, but I think it would be good to merge this change regardless, even if `CheckBlockIndex` is only used in regtest.\r\n\r\nThis PR removes `CheckBlockIndex()`'s calls to non-const `ChainstateManager` methods by marking `SnapshotBase` `const` and ~inlining the `GetAll()` calls (thereby also performing consistency checks on invalid or fully validated `m_disabled==true` chainstates, as slight behaviour change), and finally marks `CheckBlockIndex()` as `const`.",
      "state": "closed",
      "user": "stickies-v",
      "created_at": "2025-04-28T14:51:21Z",
      "updated_at": "2025-05-28T15:37:58Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32364",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32364.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/32364#pullrequestreview-2826150227), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32364#pullrequestreview-2848233855), [achow101](https://github.com/bitcoin/bitcoin/pull/32364#issuecomment-2914316033) |\n| Stale ACK | [shahsb](https://github.com/bitcoin/bitcoin/pull/32364#issuecomment-2844282604) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T14:51:24Z"
        },
        {
          "user": "sedited",
          "body": "Concept ACK\r\n\r\nI wrote this simpler approach here https://github.com/TheCharlatan/bitcoin/commit/fe13fa082e3d6befa6d5332428584570ead608ab after seeing you mentioning it last week. I think making sure that all block indexes are declared const in the method might be beneficial though. Maybe instead of adding a separate `GetAll` method just make it const and then declare the chainstate pointers as const in the for loop?",
          "created_at": "2025-04-29T20:54:26Z"
        },
        {
          "user": "stickies-v",
          "body": "Force-pushed to deduplicate the `GetAll()` overloads by adding a `GetAllImpl()` templated helper, addressing @mzumsande's [comment](https://github.com/bitcoin/bitcoin/pull/32364#pullrequestreview-2804523333).\r\n\r\n> I wrote this simpler approach here [TheCharlatan@fe13fa0](https://github.com/TheCharlatan/bitcoin/commit/fe13fa082e3d6befa6d5332428584570ead608ab) after seeing you mentioning it last week. I think making sure that all block indexes are declared const in the method might be beneficial though. Maybe instead of adding a separate `GetAll` method just make it const and then declare the chainstate pointers as const in the for loop?\r\n\r\nAllowing a `const ChainstateManager` to modify its `Chainstate` logical state feels like a const-correctness violation to me. If you agree that's true, then I don't think the shorter diff is a worthwhile trade-off. Furthermore, there are other places (such as `GetPruneRange()`) that would benefit from a `GetAll() const`, so I think this is worth adding?",
          "created_at": "2025-04-30T11:25:19Z"
        },
        {
          "user": "shahsb",
          "body": "ACK https://github.com/bitcoin/bitcoin/pull/32364/commits/657e58bcd739b52e7b9c9349cd14f05b6b79297c",
          "created_at": "2025-05-01T07:49:17Z"
        },
        {
          "user": "stickies-v",
          "body": "Force-pushed to remove the `GetAll() const` method (and commit), replacing its callsites with directly accessing `{m_ibd_chainstate.get(), m_snapshot_chainstate.get()}` as [suggested](https://github.com/bitcoin/bitcoin/pull/32364?notification_referrer_id=NT_kwDOBB0EGbQxNjExMTQxNTE5MDo2OTAxMDQ1Nw#pullrequestreview-2810060421) by @mzumsande.\r\n\r\n> Given that #30214 wants to removes `GetAll()` anyway in [64fc660](https://github.com/bitcoin/bitcoin/commit/64fc6603525f515c5303f557b038753904c6541e)\r\n\r\nThanks, I hadn't yet reviewed that PR, and the direction seems sensible. I've adopted your suggestion to minimize work in this and conflicting PRs.",
          "created_at": "2025-05-06T13:49:40Z"
        },
        {
          "user": "achow101",
          "body": "ACK 3e6ac5bf772751c66cdcd015dcb7e6ce4ea2cc77",
          "created_at": "2025-05-27T22:23:37Z"
        }
      ]
    },
    {
      "number": 32363,
      "title": "ci: Use previous releases in tests on Windows",
      "body": "Currently, none of the CI jobs running on Windows (Windows native and Windows test cross-built) use previous releases for testing. This is causing problems with tests like `wallet_migration.py` which require previous releases to be available. \r\n\r\nThis PR fixes issue #32192 by implementing the following changes:\r\n\r\n1. Added Windows binaries to the SHA256_SUMS dictionary in get_previous_releases.py\r\n2. Modified the check_host function to recognize Windows hosts and map them to the \"win64\" platform\r\n3. Enhanced the download_binary function to handle Windows zip files differently from Linux/macOS tar.gz files\r\n4. Updated the wallet_migration.py test to be Windows-compatible by handling file copying in a platform-specific way\r\n5. Added DOWNLOAD_PREVIOUS_RELEASES=\"true\" to the Windows jobs in the CI configuration\r\n6. Added a step to download previous releases for Windows in the CI workflow\r\n7. Added a specific step to run the wallet_migration.py test with --previous-releases flag\r\n8. Excluded wallet_migration.py from the main functional tests to avoid running it twice\r\n\r\nWith these changes, the CI jobs running on Windows will now download and use previous releases, allowing tests like wallet_migration.py to run successfully.\r\n\r\nFixes #32192",
      "state": "closed",
      "user": "GarmashAlex",
      "created_at": "2025-04-28T13:51:30Z",
      "updated_at": "2025-04-29T13:37:31Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32363",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32363.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31410](https://github.com/bitcoin/bitcoin/pull/31410) (qa: Fix `wallet_multiwallet.py` by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T13:51:33Z"
        },
        {
          "user": "DrahtBot",
          "body": "‚ôªÔ∏è Automatically closing for now based on heuristics. Please leave a comment, if this was erroneous. Generally, please focus on creating high-quality, original content that demonstrates a clear understanding of the project's requirements and goals.",
          "created_at": "2025-04-28T13:51:49Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/41281497857</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by errors detected by the Python linter 'ruff,' specifically an unused variable warning in wallet_migration.py, which has not been fixed.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-04-28T14:40:59Z"
        },
        {
          "user": "GarmashAlex",
          "body": "@maflcko I've made some corrections",
          "created_at": "2025-04-28T14:43:56Z"
        },
        {
          "user": "maflcko",
          "body": "Please don't ask for review before CI is passing\r\n\r\nPlease link to a passing CI in your project.\r\n\r\nPlease squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits",
          "created_at": "2025-04-28T14:47:28Z"
        },
        {
          "user": "fanquake",
          "body": "This is complete AI slop. Please stop opening these kinds of PRs against this repo.",
          "created_at": "2025-04-29T13:37:30Z"
        }
      ]
    },
    {
      "number": 32360,
      "title": "test: Force named args for RPCOverloadWrapper optional args",
      "body": "This can avoid bugs and makes the test code easier to read, because the\r\norder of positional args does not have to be known or assumed.\r\n\r\nAlso, contains two commits to remove dead code.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-28T08:41:02Z",
      "updated_at": "2025-04-29T06:05:47Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32360",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32360.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/32360#pullrequestreview-2799342118), [janb84](https://github.com/bitcoin/bitcoin/pull/32360#pullrequestreview-2800357905), [achow101](https://github.com/bitcoin/bitcoin/pull/32360#issuecomment-2836278910) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-28T08:41:05Z"
        },
        {
          "user": "achow101",
          "body": "ACK fa48be3ba443d2436f754265b86331f84b866130",
          "created_at": "2025-04-28T19:23:37Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32361,
      "title": "windows: usage of deprecated `std:wstring_convert`",
      "body": "`std:wstring_convert` was deprecated in C++17 & is removed in C++26.\nCross-compiling for Windows with GCC 15.1.0 is warning about this:\n```bash\n../../src/common/system.cpp: In function 'void runCommand(const std::string&)':\n../../src/common/system.cpp:52:32: warning: 'template<class _Codecvt, class _Elem, class _Wide_alloc, class _Byte_alloc> class std::__cxx11::wstring_convert' is deprecated [-Wdeprecated-declarations]\n   52 |     int nErr = ::_wsystem(std::wstring_convert<std::codecvt_utf8_utf16<wchar_t>,wchar_t>().from_bytes(strCommand).c_str());\n      |                                ^~~~~~~~~~~~~~~\nIn file included from /opt/homebrew/Cellar/mingw-w64/12.0.0_3/toolchain-x86_64/x86_64-w64-mingw32/include/c++/15.1.0/locale:47,\n                 from ../../src/util/string.h:13,\n                 from ../../src/tinyformat.h:149,\n                 from ../../src/logging.h:10,\n                 from ../../src/common/system.cpp:10:\n/opt/homebrew/Cellar/mingw-w64/12.0.0_3/toolchain-x86_64/x86_64-w64-mingw32/include/c++/15.1.0/bits/locale_conv.h:262:33: note: declared here\n  262 |     class _GLIBCXX17_DEPRECATED wstring_convert\n      |                                 ^~~~~~~~~~~~~~~\n```",
      "state": "open",
      "user": "fanquake",
      "created_at": "2025-04-28T09:47:41Z",
      "updated_at": "2025-04-29T16:56:11Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/issues/32361",
      "labels": [
        "Windows"
      ],
      "comment_list": [
        {
          "user": "laanwj",
          "body": "Apparently there is no direct replacement in the standard library.\n\ni hope we can replace runCommand with use of the subprocess library soon, to unify the \"launch subprocess\" path.",
          "created_at": "2025-04-28T11:16:49Z"
        },
        {
          "user": "fanquake",
          "body": "> with use of the subprocess library soon\n\nNote that `subprocess.h` is also using `wstring_convert`: https://github.com/bitcoin/bitcoin/blob/d62c2d82e14d27307d8790fd9d921b740b784668/src/util/subprocess.h#L1071.",
          "created_at": "2025-04-28T11:55:26Z"
        },
        {
          "user": "laanwj",
          "body": "> Note that subprocess.h is also using wstring_convert:\n\nUgh. Well at least it's an upstream issue for them, too, then.",
          "created_at": "2025-04-29T10:29:13Z"
        },
        {
          "user": "laanwj",
          "body": "So in principle modern Windows can use UTF-8 on the 8-bit APIs, removing need for any conversion, but i'm not sure starting from when, and this relies on setting a specific code page globally at startup.\nEdit: according to Microsoft this is since [Windows Version 1903 (May 2019 Update)](https://learn.microsoft.com/en-us/windows/apps/design/globalizing/use-utf8-code-page). This requires providing a \"Fusion manifest for an unpackaged Win32 app\", whatever that means, if we can even do this with mingw32.\n\nAlternatively we could borrow these (windows specific) functions from our [leveldb patch](https://github.com/bitcoin-core/leveldb-subtree/commit/f8ae182c1e5176d12e816fb2217ae33a5472fdd7):\n```c++\n  // Converts a Windows wide multi-byte UTF-16 string to a UTF-8 string.\n  // See http://utf8everywhere.org/#windows\n  std::string toUtf8(const std::wstring& wstr) {\n    if (wstr.empty()) return std::string();\n    int size_needed = WideCharToMultiByte(\n        CP_UTF8, 0, &wstr[0], (int)wstr.size(), NULL, 0, NULL, NULL);\n    std::string strTo(size_needed, 0);\n    WideCharToMultiByte(CP_UTF8, 0, &wstr[0], (int)wstr.size(), &strTo[0],\n                        size_needed, NULL, NULL);\n    return strTo;\n  }\n\n  // Converts a UTF-8 string to a Windows UTF-16 multi-byte wide character\n  // string.\n  // See http://utf8everywhere.org/#windows\n  std::wstring toUtf16(const std::string& str) {\n    if (str.empty()) return std::wstring();\n    int size_needed =\n        MultiByteToWideChar(CP_UTF8, 0, &str[0], (int)str.size(), NULL, 0);\n    std::wstring strTo(size_needed, 0);\n    MultiByteToWideChar(CP_UTF8, 0, &str[0], (int)str.size(), &strTo[0],\n                        size_needed);\n    return strTo;\n  }\n```",
          "created_at": "2025-04-29T10:32:45Z"
        },
        {
          "user": "hebasto",
          "body": "> This requires providing a \"Fusion manifest for an unpackaged Win32 app\", whatever that means, if we can even do this with mingw32.\n\nI believe we can use an approach similar to the one described at https://stackoverflow.com/questions/33000158/embed-manifest-file-to-require-administrator-execution-level-with-mingw32.",
          "created_at": "2025-04-29T12:16:09Z"
        },
        {
          "user": "laanwj",
          "body": "Great, good to know that's possible. i guess by the time we switch to C++26 and this becomes a blocking issue, it will be fine to require a 2019 windows version, and we can simplify things by using the \"ASCII\" Windows APIs everywhere and provide strings as-is. This would also allow dropping the leveldb patch.",
          "created_at": "2025-04-29T13:39:47Z"
        },
        {
          "user": "hebasto",
          "body": "> Great, good to know that's possible. i guess by the time we switch to C++26 and this becomes a blocking issue, it will be fine to require a 2019 windows version, and we can simplify things by using the \"ASCII\" Windows APIs everywhere and provide strings as-is. This would also allow dropping the leveldb patch.\n\nA proof of concept is available in https://github.com/bitcoin/bitcoin/pull/32380.",
          "created_at": "2025-04-29T16:56:09Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 8,
    "issues": 1
  }
}