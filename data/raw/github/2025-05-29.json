{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:46:30.044123+00:00",
  "date": "2025-05-29",
  "pull_requests": [
    {
      "number": 32641,
      "title": "Update libmultiprocess subtree to fix clang-tidy errors",
      "body": "Includes:\r\n\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/165\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/173\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/172\r\n\r\nThese changes are needed to fix CI errors in #31802.\r\n\r\nThe changes can be verified by running `test/lint/git-subtree-check.sh src/ipc/libmultiprocess` as described in [developer notes](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#subtrees) and [lint instructions](https://github.com/bitcoin/bitcoin/tree/master/test/lint#git-subtree-checksh)",
      "state": "closed",
      "user": "ryanofsky",
      "created_at": "2025-05-29T18:28:07Z",
      "updated_at": "2025-05-30T09:12:58Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32641",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32641.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32641#pullrequestreview-2879410423), [Sjors](https://github.com/bitcoin/bitcoin/pull/32641#issuecomment-2921262265) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-29T18:28:10Z"
        },
        {
          "user": "Sjors",
          "body": "ACK 9f6565488fc169898abc5f7ee620ce7a9a4e5e50\r\n\r\nTested with `git-subtree-check.sh -r`\r\n\r\nI reviewed https://github.com/bitcoin-core/libmultiprocess/pull/172 myself, but for the other pull requests I only glanced over the final diff here.\r\n\r\nFor future subtree updates we may also want to do https://github.com/bitcoin-core/libmultiprocess/issues/178. That would give some assurance that the correct merge policy is followed there.",
          "created_at": "2025-05-30T05:20:19Z"
        }
      ]
    },
    {
      "number": 32639,
      "title": "[28.x] Backport guix: accomodate migration to codeberg",
      "body": "See https://guix.gnu.org/blog/2025/migrating-to-codeberg/.\r\n\r\nWhen interacting with the old repo you may now also see:\r\n```bash\r\nwarning: redirecting to https://codeberg.org/guix/guix/\r\n```\r\n\r\nGithub-Pull: #32439\r\nRebased-From: c8d9baae942c94d64ce47ae8f67d3710e6a296bd",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-05-29T12:31:58Z",
      "updated_at": "2025-05-30T10:27:49Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32639",
      "labels": [
        "Backport",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32639.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/32639#pullrequestreview-2878132664) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-29T12:32:01Z"
        },
        {
          "user": "fanquake",
          "body": "Guix Build:\r\n```bash\r\nf68d83b36bec27fd42c754af357d205c9abf7e2e90b69e7d1f9136813a191745  guix-build-5c2ba9f583e2/output/aarch64-linux-gnu/SHA256SUMS.part\r\ne29852e1e6905d2c90734c39cf2994680b83228148342e25b0f44b44a6962a1a  guix-build-5c2ba9f583e2/output/aarch64-linux-gnu/bitcoin-5c2ba9f583e2-aarch64-linux-gnu-debug.tar.gz\r\n949df5bf91e782332065362d02b77ea8f2686433eb461e2458b91996cf97cd8f  guix-build-5c2ba9f583e2/output/aarch64-linux-gnu/bitcoin-5c2ba9f583e2-aarch64-linux-gnu.tar.gz\r\neb18222f14ad9ceca4ef10302df78fd63188c554402e90e583aa63f5bd8a6c87  guix-build-5c2ba9f583e2/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n6a8f3bdffc232a57af9f1be31c18016cdcdf6ae5d2bbd38a2c3068204c7b21f8  guix-build-5c2ba9f583e2/output/arm-linux-gnueabihf/bitcoin-5c2ba9f583e2-arm-linux-gnueabihf-debug.tar.gz\r\nf7d660e82a31515240f0b4000dc2ca7ee8a77273830f0d418ff82ed3e71eaabb  guix-build-5c2ba9f583e2/output/arm-linux-gnueabihf/bitcoin-5c2ba9f583e2-arm-linux-gnueabihf.tar.gz\r\n4b6046031c08af97a19b3bbdc0430cfd07fdbd130df26387d7b98c86f3d753db  guix-build-5c2ba9f583e2/output/arm64-apple-darwin/SHA256SUMS.part\r\nf6e430d9adb1bf3967847203e90ba5bff2ceaf9da69ae0713d0655534e353750  guix-build-5c2ba9f583e2/output/arm64-apple-darwin/bitcoin-5c2ba9f583e2-arm64-apple-darwin-unsigned.tar.gz\r\nfe0738ee3f6f84a34a396c47bea515ce45d75b62d30fd08ff1a050a9252a6c05  guix-build-5c2ba9f583e2/output/arm64-apple-darwin/bitcoin-5c2ba9f583e2-arm64-apple-darwin-unsigned.zip\r\n18fcf1902522bb831bd3f38f383a446122a19a35b26451168f2a1f1e262b3ccf  guix-build-5c2ba9f583e2/output/arm64-apple-darwin/bitcoin-5c2ba9f583e2-arm64-apple-darwin.tar.gz\r\nc848b475da22321f6876d32bbba8ffe84fe0398eb0223022f1fe0f4543df5dab  guix-build-5c2ba9f583e2/output/dist-archive/bitcoin-5c2ba9f583e2.tar.gz\r\n313c4ad60c3022ad920b2de4184d25920e1e4bc2c4888b5d3fc9ac6028f7a340  guix-build-5c2ba9f583e2/output/powerpc64-linux-gnu/SHA256SUMS.part\r\nec7895bf66edcb0e034b976ea44b78b4f87e869af9e268ed1e8296eb49004fa2  guix-build-5c2ba9f583e2/output/powerpc64-linux-gnu/bitcoin-5c2ba9f583e2-powerpc64-linux-gnu-debug.tar.gz\r\n74487967946eea9cbbd40d4515fe3a69b3a2b8f8873f92c91b9637c45562932e  guix-build-5c2ba9f583e2/output/powerpc64-linux-gnu/bitcoin-5c2ba9f583e2-powerpc64-linux-gnu.tar.gz\r\ne725fe3a3b6bfb96b210bb09aaf6ca640b0b83d64182c8c685a27a9faeb388b2  guix-build-5c2ba9f583e2/output/riscv64-linux-gnu/SHA256SUMS.part\r\n77cfbec2702e5929627400cb73c55afeddcd1087fedd2e4fe0b98513ca2b4899  guix-build-5c2ba9f583e2/output/riscv64-linux-gnu/bitcoin-5c2ba9f583e2-riscv64-linux-gnu-debug.tar.gz\r\na2e95c581b8da7454a9b9af1928252af7c01d4f2389f6ab0f2bbfcb7cbdd230b  guix-build-5c2ba9f583e2/output/riscv64-linux-gnu/bitcoin-5c2ba9f583e2-riscv64-linux-gnu.tar.gz\r\n25d7e42de632a08c68f83020ece9199306cdde9ea9ba7ba88003555c9df475bb  guix-build-5c2ba9f583e2/output/x86_64-apple-darwin/SHA256SUMS.part\r\nbc92171e8eb8b02d27658357f7c916f9704b54a94f03b89b98972da4e1919b3e  guix-build-5c2ba9f583e2/output/x86_64-apple-darwin/bitcoin-5c2ba9f583e2-x86_64-apple-darwin-unsigned.tar.gz\r\n511a981361a74ac0b61d4a084e15fdc55da292b0090532868bfedafd3c4cc762  guix-build-5c2ba9f583e2/output/x86_64-apple-darwin/bitcoin-5c2ba9f583e2-x86_64-apple-darwin-unsigned.zip\r\n157172cc4650756c992bd13c13f75378f17cf2ac0f88477b056d69154356fa99  guix-build-5c2ba9f583e2/output/x86_64-apple-darwin/bitcoin-5c2ba9f583e2-x86_64-apple-darwin.tar.gz\r\n7d9fa727d7747809e5c25647a6edbd909a2be1d867a2656d819512b5361b842f  guix-build-5c2ba9f583e2/output/x86_64-linux-gnu/SHA256SUMS.part\r\n6c6f89bbdb23a547f744ac5410688cfe8564807fdb8bddf1c11a1ee1ad224541  guix-build-5c2ba9f583e2/output/x86_64-linux-gnu/bitcoin-5c2ba9f583e2-x86_64-linux-gnu-debug.tar.gz\r\n2d4d2c0b7bbf7bc870f1ed34dbad186f6a07a52f785f899aea3dc7bb4dee1af6  guix-build-5c2ba9f583e2/output/x86_64-linux-gnu/bitcoin-5c2ba9f583e2-x86_64-linux-gnu.tar.gz\r\nfb93f510b28fc57026275c60eeb131d539722038fc57eab05cdd50ee35e27319  guix-build-5c2ba9f583e2/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n6ba0633de245376512cad34cb0b28d5e3425f49e6882681b07d75b9660221743  guix-build-5c2ba9f583e2/output/x86_64-w64-mingw32/bitcoin-5c2ba9f583e2-win64-debug.zip\r\n05b342379c3bdae8804616ac67c30777fe98923ab5c523a473fca9bcc1893594  guix-build-5c2ba9f583e2/output/x86_64-w64-mingw32/bitcoin-5c2ba9f583e2-win64-setup-unsigned.exe\r\n4b6ccdb90567c2191fda9220044c40b60e3614c29d916af7c2137440b0ed1e66  guix-build-5c2ba9f583e2/output/x86_64-w64-mingw32/bitcoin-5c2ba9f583e2-win64-unsigned.tar.gz\r\n9a9cf6f6379d28b84712d16046a93b5eb78149414f1bb3ebdff051275f7eb447  guix-build-5c2ba9f583e2/output/x86_64-w64-mingw32/bitcoin-5c2ba9f583e2-win64.zip\r\n```",
          "created_at": "2025-05-29T15:45:23Z"
        }
      ]
    },
    {
      "number": 32638,
      "title": "blocks: force hash validations on disk read",
      "body": "A follow-up to https://github.com/bitcoin/bitcoin/pull/32487#discussion_r2094072165, after which validating the hash of a read block from disk doesn't incur the cost of calculating its hash anymore.\r\n\r\n### Summary\r\n\r\nThis PR adds explicit checks that the read block header's hash matches the one we were expecting.\r\n\r\n### Context\r\n\r\nAfter the previous PR, validating a block's hash during read operations became essentially free. This PR leverages that by requiring callers to provide a block's expected hash (or `std::nullopt`), preventing silent failures caused by corrupted or mismatched data. Most `ReadBlock` usages were updated with expected hashes and now fail on mismatch.\r\n\r\n### Changes\r\n\r\n* added hash assertions in `ProcessGetBlockData` and `ProcessMessage` to validate that the block read from disk matches the expected hash;\r\n* updated tests and benchmark to pass the correct block hash to `ReadBlock()`, ensuring the hash validation is tested - or none if we already expect PoW failure;\r\n* removed the default value for `expected_hash`, requiring an explicit hash for all block reads.\r\n\r\n### Why is the hash still optional (but no longer has a default value)\r\n\r\n* for header-error tests, where the goal is to trigger failures early in the parsing process;\r\n* for out-of-order orphan blocks, where the child hash isn't available before the initial disk read.",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-05-29T09:48:26Z",
      "updated_at": "2025-06-27T20:28:46Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32638",
      "labels": [
        "Block storage"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32638.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/32638#pullrequestreview-2932042910), [janb84](https://github.com/bitcoin/bitcoin/pull/32638#pullrequestreview-2932262628), [maflcko](https://github.com/bitcoin/bitcoin/pull/32638#issuecomment-2980567361), [achow101](https://github.com/bitcoin/bitcoin/pull/32638#issuecomment-3014267780) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-29T09:48:29Z"
        },
        {
          "user": "maflcko",
          "body": "review ACK 9341b5333ad54ccdb7c16802ff06c51b956948e7 ðŸ•™\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 9341b5333ad54ccdb7c16802ff06c51b956948e7 ðŸ•™\r\nLXb3r6QjUSFApA8kapoYrNrMTCeEbtRY4O6KU+r7bn6eM4wXU12P7bBLGrZK2Uvk5cfpkuhkrvm+Y2/zkp4SBw==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-06-17T14:17:41Z"
        },
        {
          "user": "achow101",
          "body": "ACK 9341b5333ad54ccdb7c16802ff06c51b956948e7",
          "created_at": "2025-06-27T20:20:01Z"
        }
      ]
    },
    {
      "number": 32636,
      "title": "Split `CWallet::Create()` into `CreateNew` and `LoadExisting`",
      "body": "This PR is mostly a refactor which splits out logic used for creating wallets and for loading wallets, both of which are presently contained in `CWallet::Create()` into `CWallet::CreateNew()` and `CWallet::LoadExisting()`\r\n\r\nThe real win of this PR is that `CWallet::Create()` uses a very bad heuristic for trying to guess whether or not it is supposed to be creating a new wallet or loading an existing wallet:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/370c59261269fd9043674e0f4fd782a89e724473/src/wallet/wallet.cpp#L2882-L2885\r\n\r\nThis heuristic assumes that wallets with no `ScriptPubKeyMans` are being created, which sounds reasonable, but as demonstrated in #32112 and #32111, this can happen when the user tries to load a wallet file that is corrupted, both issues are fixed by this PR and any other misbehavior for wallet files which succeeded the broken heuristic's sniff test for new wallets.\r\n\r\nIt was already the case that every caller of `CWallet::Create()` knows whether it is creating a wallet or loading one, so we can avoid replacing this bad heuristic with another one, and just shift the burden to the caller.",
      "state": "open",
      "user": "davidgumberg",
      "created_at": "2025-05-29T00:37:09Z",
      "updated_at": "2026-01-13T08:16:39Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/32636",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32636.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2928917813), [rkrux](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2932150392), [enirox001](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-3235533295) |\n| Approach ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32636#pullrequestreview-2879497779) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34193](https://github.com/bitcoin/bitcoin/pull/34193) (wallet: make migration more robust against failures by furszy)\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#32895](https://github.com/bitcoin/bitcoin/pull/32895) (wallet: Prepare for future upgrades by recording versions of last client to open and decrypt by achow101)\n* [#32685](https://github.com/bitcoin/bitcoin/pull/32685) (wallet: Allow read-only database access for info and dump commands by PeterWrighten)\n* [#32138](https://github.com/bitcoin/bitcoin/pull/32138) (wallet, rpc: remove settxfee and paytxfee by polespinasa)\n* [#19461](https://github.com/bitcoin/bitcoin/pull/19461) (multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky)\n* [#19460](https://github.com/bitcoin/bitcoin/pull/19460) (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n* [#10102](https://github.com/bitcoin/bitcoin/pull/10102) (Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-29T00:37:13Z"
        },
        {
          "user": "achow101",
          "body": "`PopulateWalletFromDB` inside of `CreateNew` should no longer be necessary.\r\n\r\nIt'd be nice if the load or create intention could be propagated down to the DB level as well. In `SQLiteDatabase::Open`, we pass the flags `SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE` which does both load and create. I think ideally it would be just `SQLITE_OPEN_READWRITE` for loading, and `SQLITE_OPEN_CREATE` for creating to further enforce that we expect a file to already exist for loading, and for no files to exist when creating. Similarly, we could avoid calling `TryCreateDirectories` when loading.",
          "created_at": "2025-05-29T21:56:47Z"
        },
        {
          "user": "luke-jr",
          "body": "Any reason not to just pass a parameter to CWallet::Create, just to fix the bug in the simplest manner? Refactoring should ideally be separate from fixing.",
          "created_at": "2025-06-06T21:05:51Z"
        },
        {
          "user": "achow101",
          "body": "> Any reason not to just pass a parameter to CWallet::Create, just to fix the bug in the simplest manner? Refactoring should ideally be separate from fixing.\r\n\r\nBecause doing the bare minimum to fix a bug that is unreachable in production is how we end up with technical debt.\r\n\r\nIMO, this PR is primarily a refactor to split these 2 actions that should not be combined. The fact that it fixes those bugs, which are a result of the combining, is a bonus.",
          "created_at": "2025-06-06T21:11:27Z"
        },
        {
          "user": "pablomartin4btc",
          "body": "Shouldn't `src/wallet/walletdb.cpp` be part of this PR? `DBErrors WalletBatch::LoadWallet(CWallet* pwallet)` is being called during wallet creation I think. If so, please also consider the **note** at #33082's description.",
          "created_at": "2025-08-01T21:54:32Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/48721895167</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by a linting error detected by `ruff` due to an unused import in the test file, preventing successful completion of the lint check.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-23T05:46:29Z"
        },
        {
          "user": "davidgumberg",
          "body": "@achow101 \r\n> `PopulateWalletFromDB` inside of `CreateNew` should no longer be necessary.\r\n\r\n@pablomartin4btc \r\n> DBErrors WalletBatch::LoadWallet(CWallet* pwallet) is being called during wallet creation I think.\r\n\r\nThanks for catching this, fixed in https://github.com/bitcoin/bitcoin/pull/32636/commits/acc0d3b7d4e8b26e1dc5832497b2b47047b6a453\r\n\r\n> It'd be nice if the load or create intention could be propagated down to the DB level as well. In `SQLiteDatabase::Open`, we pass the flags `SQLITE_OPEN_READWRITE | SQLITE_OPEN_CREATE` which does both load and create. I think ideally it would be just `SQLITE_OPEN_READWRITE` for loading, and `SQLITE_OPEN_CREATE` for creating to further enforce that we expect a file to already exist for loading, and for no files to exist when creating. Similarly, we could avoid calling `TryCreateDirectories` when loading.\r\n\r\nAgreed, I think it might be better to fix this in a follow-up as this PR is already quite large.\r\n\r\n----\r\n\r\n@rkrux \r\n\r\n> I feel the benefits of such a refactor would be more highlighted and appreciated if this can be broken down into smaller PRs\r\n\r\nThanks for the suggestion, despite the large number of commits in this PR, I've tried my best to make each one atomic and readable. I would prefer to not split into multiple PR's since most of the commits here are refactors that are setting-up for splitting wallet creation and loading, the first PR(s) in the series would have very little motivation, but if you insist I am open to splitting it up. Is there a particular commit or group of commits that are difficult to review?",
          "created_at": "2025-08-23T06:42:28Z"
        },
        {
          "user": "rkrux",
          "body": ">  I would prefer to not split into multiple PR's since most of the commits here are refactors that are setting-up for splitting wallet creation and loading, the first PR(s) in the series would have very little motivation, but if you insist I am open to splitting it up.\r\n\r\nNo insistence at the moment, I will do a full review of the PR soon.",
          "created_at": "2025-08-25T08:19:14Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `TSan, depends, no gui`: https://github.com/bitcoin/bitcoin/runs/49052123167</sub>\n<sub>LLM reason (âœ¨ experimental): Compilation failed in wallet tests: LoadExisting is called with six arguments, but its declaration only takes five.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-28T00:41:49Z"
        },
        {
          "user": "davidgumberg",
          "body": "Rebased to address a small merge conflict, since some instances of `LoadWallet()` (renamed PopulateWalletFromDB in this branch) were removed in #33082.",
          "created_at": "2025-10-01T19:05:49Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32640,
      "title": "Bug in PartiallyDownloadedBlock fuzz test logic or behavior",
      "body": "There may be a bug in the fuzz test implementation for `PartiallyDownloadedBlock` in `src/test/fuzz/partially_downloaded_block.cpp`. Please investigate the following:\n\n- The fuzz test performs various operations relating to compact blocks and partial downloads, including marking transactions as available, manipulating mempool/extra_txn, and reconstructing blocks.\n- It uses assertions to check the state after calling `InitData` and `FillBlock` on `PartiallyDownloadedBlock`.\n- The test may not properly handle some edge cases or error conditions, especially with regard to skipped/missing transactions or with the mock check block logic.\n\nPlease review the fuzz test logic for correctness, robustness, and potential failure to catch certain classes of errors, especially around:\n- Handling of skip/missing transactions and the related assertions\n- The assignment or logic in `check_block_mock`\n- Any cases where the test could pass erroneously or fail to catch regressions\n\nAdditional context may be required depending on the specific bug observed or the test coverage intended.\n",
      "state": "closed",
      "user": "rando876",
      "created_at": "2025-05-29T14:59:39Z",
      "updated_at": "2025-05-29T15:59:35Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/32640",
      "labels": []
    },
    {
      "number": 32637,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "602kuntry",
      "created_at": "2025-05-29T04:55:28Z",
      "updated_at": "2025-05-29T06:38:37Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/32637",
      "labels": []
    }
  ],
  "summary": {
    "pull_requests": 4,
    "issues": 2
  }
}