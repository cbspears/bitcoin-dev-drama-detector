{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:56:32.137968+00:00",
  "date": "2025-07-10",
  "pull_requests": [
    {
      "number": 32944,
      "title": "wallet: Remove `upgradewallet` RPC",
      "body": "Based on discussions  in https://github.com/bitcoin/bitcoin/pull/32803, this PR proposes removing the ` upgradewallet`  RPC.",
      "state": "closed",
      "user": "w0xlt",
      "created_at": "2025-07-10T21:55:21Z",
      "updated_at": "2025-07-25T20:00:22Z",
      "comments": 11,
      "url": "https://github.com/bitcoin/bitcoin/pull/32944",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32944.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/32944#pullrequestreview-3021991698), [brunoerg](https://github.com/bitcoin/bitcoin/pull/32944#pullrequestreview-3053079846), [maflcko](https://github.com/bitcoin/bitcoin/pull/32944#issuecomment-3116865212), [achow101](https://github.com/bitcoin/bitcoin/pull/32944#issuecomment-3120084517) |\n| Concept ACK | [Prabhat1308](https://github.com/bitcoin/bitcoin/pull/32944#pullrequestreview-3008894533) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32977](https://github.com/bitcoin/bitcoin/pull/32977) (wallet: Remove wallet version and several legacy related functions by w0xlt)\n* [#32636](https://github.com/bitcoin/bitcoin/pull/32636) (Split `CWallet::Create()` into `CreateNew` and `LoadExisting` by davidgumberg)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T21:55:26Z"
        },
        {
          "user": "maflcko",
          "body": "needs release note?",
          "created_at": "2025-07-11T05:16:31Z"
        },
        {
          "user": "w0xlt",
          "body": "Release note added",
          "created_at": "2025-07-14T06:05:37Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46028240688</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is due to a lint check failure caused by missing a required trailing newline in a documentation file.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-15T17:50:55Z"
        },
        {
          "user": "maflcko",
          "body": "migrated wallets will take over the legacy bdb version, which I am not sure is meaningful or useful. The `upgradewallet` RPC can be used to bump it. I think it would be good to explain and document the expectations around this, and the interactions with this pull, going forward.",
          "created_at": "2025-07-16T07:26:19Z"
        },
        {
          "user": "pablomartin4btc",
          "body": "> migrated wallets will take over the legacy bdb version, which I am not sure is meaningful or useful. The upgradewallet RPC can be used to bump it.\r\n\r\nAs discussed offline with @achow101 a couple of days ago, my understanding was that both version field and ofc the `upgradewallet` RPC were exclusive to legacy wallets. **edited**: **[** We'd need to keep the version on descriptors (making it deprecated at some point?) in case new created wallets get open with older versions of core. **]** I think the new migrated wallet has the latest version of features (`walletInstance->SetMinVersion(FEATURE_LATEST)`) as descriptors support everything, so they don't need to be bumped? Also since descriptors have the flags we don't need features anymore.\r\n\r\n> It seems we're already thinking about upgrades in https://github.com/bitcoin/bitcoin/pull/32895 ?.\r\n> If that's the case, I'd rather keep the RPC. The maintenance cost should be minimal.\r\n\r\nOk I saw that very quickly, I'll move my attention to that one then and I'd say we keep this (and #32977 maybe?) PR (/s) as in draft?",
          "created_at": "2025-07-16T15:59:54Z"
        },
        {
          "user": "maflcko",
          "body": "> I think the new migrated wallet has the latest version of features (`walletInstance->SetMinVersion(FEATURE_LATEST)`)\r\n\r\nI don't think this is true, at least locally:\r\n\r\n```\r\n> migratewallet \"\"\r\n< {\r\n  \"wallet_name\": \"\",\r\n  \"backup_path\": \"/tmp/regtest/default_wallet_1752683462.legacy.bak\"\r\n}\r\n\r\n> getwalletinfo\r\n< {\r\n  \"walletname\": \"\",\r\n  \"walletversion\": 130000,\r\n  \"format\": \"sqlite\",\r\n  \"txcount\": 0,\r\n  \"keypoolsize\": 4000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": true,\r\n  \"external_signer\": false,\r\n  \"blank\": false,\r\n  \"birthtime\": 0,\r\n  \"flags\": [\r\n    \"last_hardened_xpub_cached\",\r\n    \"descriptor_wallet\"\r\n  ],\r\n  \"lastprocessedblock\": {\r\n    \"hash\": \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\",\r\n    \"height\": 0\r\n  }\r\n}\r\n\r\n> upgradewallet\r\n< {\r\n  \"wallet_name\": \"\",\r\n  \"previous_version\": 130000,\r\n  \"current_version\": 169900,\r\n  \"result\": \"Wallet upgraded successfully from version 130000 to version 169900.\"\r\n}\r\n\r\n> getwalletinfo\r\n< {\r\n  \"walletname\": \"\",\r\n  \"walletversion\": 169900,\r\n  \"format\": \"sqlite\",\r\n  \"txcount\": 0,\r\n  \"keypoolsize\": 4000,\r\n  \"keypoolsize_hd_internal\": 4000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": true,\r\n  \"external_signer\": false,\r\n  \"blank\": false,\r\n  \"birthtime\": 0,\r\n  \"flags\": [\r\n    \"last_hardened_xpub_cached\",\r\n    \"descriptor_wallet\"\r\n  ],\r\n  \"lastprocessedblock\": {\r\n    \"hash\": \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\",\r\n    \"height\": 0\r\n  }\r\n}\r\n```\r\n\r\nSo at least the RPC output is affected. I haven't checked if other behavior is affected. This is why I am asking for the pull request to clarify it.\r\n",
          "created_at": "2025-07-16T16:36:29Z"
        },
        {
          "user": "pablomartin4btc",
          "body": "Ok, thanks for testing it. In that case, that needs to be fixed, keeping the field or not, the returned wallet version for a descriptor should be the latest, unless I'm missing something...",
          "created_at": "2025-07-16T16:42:01Z"
        },
        {
          "user": "w0xlt",
          "body": "If I understand correctly, the `walletversion` (`CWallet::nWalletVersion`) is not used by descriptor wallets (as can be checked in https://github.com/bitcoin/bitcoin/pull/32977), so it has no real effect on whether or not this field is updated after a migration.\r\n\r\nUnless we intend to use this field in the future, I don't see the point in keeping it or this RPC.",
          "created_at": "2025-07-16T17:14:37Z"
        },
        {
          "user": "maflcko",
          "body": "review ACK d89c6fa4a71810cdb28395d4609632e1b22249b3 ü§ô\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK d89c6fa4a71810cdb28395d4609632e1b22249b3 ü§ô\r\nmkJJIWBHlPKtbyqO56RKP8l/5iuEzWDhcqa9NoO9xfaQ8jJYBJtHlUgwC91D+zwlz88DnIlP5fY1t3peKDdvBA==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-07-25T08:20:32Z"
        },
        {
          "user": "achow101",
          "body": "ACK d89c6fa4a71810cdb28395d4609632e1b22249b3",
          "created_at": "2025-07-25T19:28:03Z"
        }
      ]
    },
    {
      "number": 32943,
      "title": "depends: Force `CMAKE_EXPORT_NO_PACKAGE_REGISTRY=TRUE`",
      "body": "When using CMake policies 3.14 and below, the `export(PACKAGE)` command by default populates the user package registry, which is stored outside the build tree. Setting the `CMAKE_EXPORT_NO_PACKAGE_REGISTRY` variable disables this side effect.\r\n\r\nIn CMake 3.15 and later, this behavior is disabled by default, and the variable has no effect.\r\n\r\nThis PR forces `CMAKE_EXPORT_NO_PACKAGE_REGISTRY=TRUE` globally, rather than managing it for each dependency package individually rather. It may be reverted once all CMake-based packages have updated to policies 3.15 or newer.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/32938.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-07-10T19:20:11Z",
      "updated_at": "2025-07-14T14:14:21Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/32943",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32943.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32943#issuecomment-3069317099) |\n| Concept ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/32943#issuecomment-3059223967) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T19:20:16Z"
        },
        {
          "user": "theuni",
          "body": "Yikes. Concept ACK. \r\n\r\n> - The [export(PACKAGE)](https://cmake.org/cmake/help/latest/command/export.html#package) command does not populate the user package registry when [CMP0090](https://cmake.org/cmake/help/latest/policy/CMP0090.html#policy:CMP0090) is set to NEW unless the [CMAKE_EXPORT_PACKAGE_REGISTRY](https://cmake.org/cmake/help/latest/variable/CMAKE_EXPORT_PACKAGE_REGISTRY.html#variable:CMAKE_EXPORT_PACKAGE_REGISTRY) variable explicitly enables it. When [CMP0090](https://cmake.org/cmake/help/latest/policy/CMP0090.html#policy:CMP0090) is not set to NEW then [export(PACKAGE)](https://cmake.org/cmake/help/latest/command/export.html#package) populates the user package registry unless the [CMAKE_EXPORT_NO_PACKAGE_REGISTRY](https://cmake.org/cmake/help/latest/variable/CMAKE_EXPORT_NO_PACKAGE_REGISTRY.html#variable:CMAKE_EXPORT_NO_PACKAGE_REGISTRY) variable explicitly disables it.\r\n> - [CMAKE_FIND_USE_PACKAGE_REGISTRY](https://cmake.org/cmake/help/latest/variable/CMAKE_FIND_USE_PACKAGE_REGISTRY.html#variable:CMAKE_FIND_USE_PACKAGE_REGISTRY) disables the User Package Registry in all the [find_package()](https://cmake.org/cmake/help/latest/command/find_package.html#command:find_package) calls when set to FALSE.\r\n\r\nCould we also set `CMAKE_FIND_USE_PACKAGE_REGISTRY` to false in the toolchain file as a belt-and-suspenders in case some future package manually opts-in using `CMAKE_EXPORT_PACKAGE_REGISTRY` ?",
          "created_at": "2025-07-10T21:54:41Z"
        },
        {
          "user": "fanquake",
          "body": "This is going to need backporting, to fix the 29.x branch.",
          "created_at": "2025-07-11T09:32:37Z"
        },
        {
          "user": "hebasto",
          "body": "> Could we also set `CMAKE_FIND_USE_PACKAGE_REGISTRY` to false in the toolchain file as a belt-and-suspenders in case some future package manually opts-in using `CMAKE_EXPORT_PACKAGE_REGISTRY` ?\r\n\r\nI don't think it prevents issues like https://github.com/bitcoin/bitcoin/issues/32938, which occur when the toolchain file is not used.",
          "created_at": "2025-07-11T10:34:32Z"
        },
        {
          "user": "hebasto",
          "body": "> This is going to need backporting, to fix the 29.x branch.\r\n\r\nI think it should be also backported to the 28.x branch, considering https://github.com/bitcoin/bitcoin/commit/f59e9057e2aa596b54cf9e85bab35c3ead137547. \r\n\r\nAdditionally, we might want to advise users to delete the `~/.cmake/packages/libevent` directory on their machines.",
          "created_at": "2025-07-11T10:43:18Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit 12fb00fd4228ad5158fd4893e7804d5667ea700b<br>(master) | commit ddeac5ea78d921fdbe944f845298d789dacd80e5<br>(pull/32943/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`3e6db6b2a92ec38d...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-aarch64-linux-gnu-debug.tar.gz) | [`f10dc8611163571e...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`d237464c3da00c64...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-aarch64-linux-gnu.tar.gz) | [`3adb01adb4e0daba...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`2fd2488b8c89516b...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-arm-linux-gnueabihf-debug.tar.gz) | [`fd9efe0cb8622124...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`4f1368bc070632a5...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-arm-linux-gnueabihf.tar.gz) | [`450407434dddfaff...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`1357f810bbf948c2...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-arm64-apple-darwin-codesigning.tar.gz) | [`e63994dad3aaa149...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`81a345df3778b7d6...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-arm64-apple-darwin-unsigned.tar.gz) | [`9b0e64c9e5279611...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`5869393d614baec8...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-arm64-apple-darwin-unsigned.zip) | [`5d270e31879d91e4...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`a2b3a082c7cb48a2...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-powerpc64-linux-gnu-debug.tar.gz) | [`7dc062b22302d731...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`46f6a45c63a955a1...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-powerpc64-linux-gnu.tar.gz) | [`6fcf250179c7fc59...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`6ed452da26e7ca4e...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-riscv64-linux-gnu-debug.tar.gz) | [`46af5c01c14f166e...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`322180311cdfb956...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-riscv64-linux-gnu.tar.gz) | [`6bcf62db61328cc0...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`471d1c93c5a2e400...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-x86_64-apple-darwin-codesigning.tar.gz) | [`4c47cae003e6615e...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`03d0c949fe2c90f9...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-x86_64-apple-darwin-unsigned.tar.gz) | [`e6c43b88ed478aac...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`5aff0350ee7085ac...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-x86_64-apple-darwin-unsigned.zip) | [`80a12b155ffd5d58...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`880aa77d59900eab...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-x86_64-linux-gnu-debug.tar.gz) | [`cc3979bfa15dad68...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`73851d32a2ceafda...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228-x86_64-linux-gnu.tar.gz) | [`50c1a4754e2b28a0...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`85ca28c280c2db86...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/bitcoin-12fb00fd4228.tar.gz) | [`abea6034ca07f068...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/bitcoin-ddeac5ea78d9.tar.gz) |\n| SHA256SUMS.part | [`9e2b78d3b518fd39...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/SHA256SUMS.part) | [`82daf28609baaed1...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/SHA256SUMS.part) |\n| guix_build.log | [`46557ec7a496556c...`](https://drahtbot.space/guix/monotree/12fb00fd4228ad5158fd4893e7804d5667ea700b/guix_build.log) | [`a3f6b4c4bac8d435...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/guix_build.log) |\n| guix_build.log.diff |  | [`66d38f9845fb6d98...`](https://drahtbot.space/guix/monotree/ddeac5ea78d921fdbe944f845298d789dacd80e5/guix_build.log.diff) |\n\n",
          "created_at": "2025-07-11T23:39:20Z"
        },
        {
          "user": "fanquake",
          "body": "ACK 44f3bae300dcafbe53f9b07e6cc22a112833e579\r\n\r\n> Yikes. Concept ACK.\r\n\r\nYea. It's an interesting example of how bumping/changing a CMake minimum version, can opt you into, or out of, unexpected behaviour (I imagine this is why this stopped being the default).",
          "created_at": "2025-07-14T12:31:56Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #32863.",
          "created_at": "2025-07-14T12:35:33Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 28.x in #32969.",
          "created_at": "2025-07-14T12:41:19Z"
        }
      ]
    },
    {
      "number": 32942,
      "title": "rest/rpc: use more util::Join",
      "body": "There are a few places in the RPC and REST code where we manually join multiple items into a string. This PR removes a bunch of that logic and replaces it with `util::Join`. To minimize unnecessary container allocations and simplify implementations, the first commit slightly refactors `util::Join` so it can subsequently be used with range adaptors.",
      "state": "closed",
      "user": "stickies-v",
      "created_at": "2025-07-10T17:11:41Z",
      "updated_at": "2025-10-14T13:31:57Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32942",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32942.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32942#pullrequestreview-3007283767) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T17:11:46Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/runs/45741536315</sub>\n<sub>LLM reason (‚ú® experimental): clang-tidy detected errors related to recursive call chains, causing the CI to fail.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-10T20:20:21Z"
        },
        {
          "user": "stickies-v",
          "body": "Closing for lack of reviewer interest, it's not a critical change.",
          "created_at": "2025-10-14T13:31:56Z"
        }
      ]
    },
    {
      "number": 32941,
      "title": "p2p: TxOrphanage revamp cleanups",
      "body": "Followup to #31829:\r\n- Release notes\r\n- Have the orphanage auto-trim itself whenever necessary (and test changes) https://github.com/bitcoin/bitcoin/pull/31829#discussion_r2169508690\r\n- Reduce duplicate reconsiderations by keeping track of which txns are already reconsiderable so we only mark it for reconsideration for 1 peer at a time https://github.com/bitcoin/bitcoin/pull/31829#issuecomment-3001627814\r\n- Rename `OrphanTxBase` to `OrphanInfo`\r\n- Get rid of `Size()` method by replacing all calls with `CountUniqueOrphans`\r\n- Rename outpoints index since they point to wtxids, not iterators https://github.com/bitcoin/bitcoin/pull/31829#discussion_r2205557613\r\n- Add more logging in the `LimitOrphans` inner loop to make it easy to see which peers are being trimmed https://github.com/bitcoin/bitcoin/pull/31829#issuecomment-3074385460",
      "state": "closed",
      "user": "glozow",
      "created_at": "2025-07-10T16:05:28Z",
      "updated_at": "2025-08-04T17:50:42Z",
      "comments": 15,
      "url": "https://github.com/bitcoin/bitcoin/pull/32941",
      "labels": [
        "P2P"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32941.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/32941#issuecomment-3151257960), [marcofleon](https://github.com/bitcoin/bitcoin/pull/32941#issuecomment-3151283966) |\n| Stale ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/32941#pullrequestreview-3080320302) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33125](https://github.com/bitcoin/bitcoin/pull/33125) (ci: Use mlc `v1` and ignore `depends/work` by fanquake)\n* [#33116](https://github.com/bitcoin/bitcoin/pull/33116) (refactor: Convert uint256 to Txid by marcofleon)\n* [#33066](https://github.com/bitcoin/bitcoin/pull/33066) (p2p: never check tx rejections by txid by glozow)\n* [#32430](https://github.com/bitcoin/bitcoin/pull/32430) (test: Add and use ElapseTime helper by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- possibile -> possible [misspelling in comment]\n- DoSiest -> Dosiest [consistency: ‚ÄúDosiest‚Äù is the more standard spelling for ‚Äúmost DoS-heavy‚Äù peer]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-07-10T16:05:34Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `fuzzer,address,undefined,integer, no depends`: https://github.com/bitcoin/bitcoin/runs/45743710188</sub>\n<sub>LLM reason (‚ú® experimental): Fuzz test failed due to an assertion failure causing a deadly signal crash.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-10T21:04:46Z"
        },
        {
          "user": "glozow",
          "body": "This is ready for review. Would also be great to get https://github.com/bitcoin-core/qa-assets/pull/231 in for the 2 new fuzzies",
          "created_at": "2025-07-21T15:15:59Z"
        },
        {
          "user": "marcofleon",
          "body": "Looks like the `txorphanage_sim` inputs might be invalidated with this PR. Not sure if we should wait to add those inputs until after this gets in or if it's worth adding them before.",
          "created_at": "2025-07-21T15:24:51Z"
        },
        {
          "user": "glozow",
          "body": "> Looks like the txorphanage_sim inputs might be invalidated with this PR.\r\n\r\nAh good point, yeah.",
          "created_at": "2025-07-21T16:18:51Z"
        },
        {
          "user": "monlovesmango",
          "body": "My feedback is mostly a lot of annoying nits mainly from leftover variables and comments still referring to old max announcements DoS scoring. I compiled them in my own [branch](https://github.com/monlovesmango/bitcoin/tree/pr32941-TxOrphanage-revamp-cleanups) so you can just cherry pick whatever you think is actually worth taking. Overview below.\r\n\r\n- [doc: Fixes GetChildrenFromSamePeer comments](https://github.com/monlovesmango/bitcoin/commit/2a25c28aec3773bdf9a17148e45ce38ee95a7342) - Updates comments to reflect that non-reconsiderable announcements are sorted before reconsiderable announcements.\r\n- [scripted-diff: Renames max_global_ann and max_ann](https://github.com/monlovesmango/bitcoin/commit/dca16ff537e87c67be9842b82b6bd247e01c732f) - Renames `max_global_ann` to `max_global_latency_score` and `max_ann` to `max_lat`.\r\n- [doc: Updates comment in LimitOrphans](https://github.com/monlovesmango/bitcoin/commit/869824b192299b3403434be2e7c811b2b7936239) - Updates comments to reflect that DoS score uses latency score and not announcement count.\r\n- [test: Renames orphanage_low_ann to orphanage](https://github.com/monlovesmango/bitcoin/commit/515f969e1136c3c6df1eb594d2f94f17fca4e6d5) - Renames `orphanage_low_ann` to just `orphanage` since that test only needs a single generic orphanage.\r\n- [scripted-diff: Renames AnnouncementsFromPeer](https://github.com/monlovesmango/bitcoin/commit/174827285797794928cd87732e2587fea70c0157) - Renames `AnnouncementsFromPeer` to `CountAnnouncementsFromPeer` which reflects that this only returns a count and is more consistent with naming of `CountAnnouncements`.\r\n\r\nThere were also a lot of leftover references to max announcement counts (rather than latency score) in `orphange_tests.cpp` and would be happy to add a commit to clean those up if you think its worthwhile.",
          "created_at": "2025-07-24T22:40:12Z"
        },
        {
          "user": "glozow",
          "body": "I cherry picked https://github.com/monlovesmango/bitcoin/commit/174827285797794928cd87732e2587fea70c0157 and fixed some of the incorrect comments.\r\n\r\n> [doc: Fixes GetChildrenFromSamePeer comments](https://github.com/monlovesmango/bitcoin/commit/2a25c28aec3773bdf9a17148e45ce38ee95a7342) - Updates comments to reflect that non-reconsiderable announcements are sorted before reconsiderable announcements.\r\n\r\nNote that it's the other way around - reconsiderable ones come first",
          "created_at": "2025-07-25T18:25:45Z"
        },
        {
          "user": "marcofleon",
          "body": "Crash in the `txorphan` target:\r\n```bash\r\n/src/test/fuzz/txorphan.cpp:145 operator(): Assertion `orphanage->TotalOrphanUsage() == total_bytes_start' failed.\r\n```\r\n[txorphan_crash.txt](https://github.com/user-attachments/files/21437145/txorphan_crash.txt)\r\n\r\nThe `LimitOrphans` in `AddTx` ends up decreasing `m_unique_orphan_usage` in this case. If we only add an announcer, it makes sense that memory usage shouldn't increase, but it could be decreased if a transaction is completely removed from the orphanage iiuc. So maybe that assertion should be `<=` instead of `==`?",
          "created_at": "2025-07-25T20:45:45Z"
        },
        {
          "user": "theStack",
          "body": "Concept ACK\r\n\r\nMakes sense to keep the maxorphantx option for a while to only show a warning. Changes look good at first glance, will do a deeper dive with focus on test and fuzzing changes (considering https://github.com/bitcoin/bitcoin/pull/32941#issuecomment-3120296633) during the week. ",
          "created_at": "2025-07-28T16:11:03Z"
        },
        {
          "user": "glozow",
          "body": "> [txorphan_crash.txt](https://github.com/user-attachments/files/21437145/txorphan_crash.txt)\r\n> \r\n> The `LimitOrphans` in `AddTx` ends up decreasing `m_unique_orphan_usage` in this case.\r\n\r\nThank you, fixed",
          "created_at": "2025-07-29T13:25:55Z"
        },
        {
          "user": "glozow",
          "body": "> Thank you, fixed\r\n\r\nAnd fixed the one a few lines after too (thanks @marcofleon)",
          "created_at": "2025-07-30T18:36:43Z"
        },
        {
          "user": "glozow",
          "body": "> That line should be (tx->vin.size() / 10) + 1\r\n\r\nThanks @marcofleon! Just added a commit on top to fix that.",
          "created_at": "2025-08-04T14:50:02Z"
        },
        {
          "user": "sipa",
          "body": "utACK c0642e558a02319ade33dc1014e7ae981663ea46",
          "created_at": "2025-08-04T15:32:23Z"
        },
        {
          "user": "marcofleon",
          "body": "Nice, ACK c0642e558a02319ade33dc1014e7ae981663ea46",
          "created_at": "2025-08-04T15:41:07Z"
        },
        {
          "user": "theStack",
          "body": "post-merge ACK c0642e558a02319ade33dc1014e7ae981663ea46",
          "created_at": "2025-08-04T17:50:42Z"
        }
      ]
    },
    {
      "number": 32940,
      "title": "cmake: Use newer signature of `qt6_add_lrelease` when available",
      "body": "See Qt docs here: https://doc.qt.io/qt-6/qtlinguist-cmake-qt-add-lrelease.html.\r\n\r\nFixes https://github.com/bitcoin/bitcoin/issues/32710.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-07-10T15:47:13Z",
      "updated_at": "2025-07-11T13:28:40Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32940",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32940.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32940#pullrequestreview-3010307685) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T15:47:18Z"
        },
        {
          "user": "hebasto",
          "body": "My Guix build:\r\n```\r\naarch64\r\n9a9cd30b66d0c150c6e843a37b89cdbae284e0e7c2829d7d6c64076453d4be1f  guix-build-94931656b52f/output/aarch64-linux-gnu/SHA256SUMS.part\r\ne7525f1c1cf720f53a292b404ccd63ca792631c14587a1a34978b33d35c4fece  guix-build-94931656b52f/output/aarch64-linux-gnu/bitcoin-94931656b52f-aarch64-linux-gnu-debug.tar.gz\r\n231c4e16929291d5d6edf1d3bf0c0ba2f9fda5a11586941a92f256f6bd1067c7  guix-build-94931656b52f/output/aarch64-linux-gnu/bitcoin-94931656b52f-aarch64-linux-gnu.tar.gz\r\nf965bfc13e7a57276ed660e7d8cbcaa7b1f3073524221dc450984bafe6c2571b  guix-build-94931656b52f/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n414e1b45c4a3de05ed7ab5224a797e890f2eb9ab40cc25e8cf4911329378b0b6  guix-build-94931656b52f/output/arm-linux-gnueabihf/bitcoin-94931656b52f-arm-linux-gnueabihf-debug.tar.gz\r\ndaff1ce1fe7c35a438615aebea93d9ca6e5814bbb626fecc72916e9468a178f6  guix-build-94931656b52f/output/arm-linux-gnueabihf/bitcoin-94931656b52f-arm-linux-gnueabihf.tar.gz\r\na4dc03fe537d246abfead819f5cb517084a2836c60972d449a48118953925901  guix-build-94931656b52f/output/arm64-apple-darwin/SHA256SUMS.part\r\n91ab09afa6f31e1d4d7cca85efc3fa3d78dce39a852d0c4cea4a90533b2dd3f3  guix-build-94931656b52f/output/arm64-apple-darwin/bitcoin-94931656b52f-arm64-apple-darwin-codesigning.tar.gz\r\n00069f7a66965c935d22d13de6a59aa5162e60629dff604861b10c3a14b2edac  guix-build-94931656b52f/output/arm64-apple-darwin/bitcoin-94931656b52f-arm64-apple-darwin-unsigned.tar.gz\r\ndbb3a6038fb24b7ccb0f6cc93adccc590a97c425fb15e658eb3dabc49e9ee98d  guix-build-94931656b52f/output/arm64-apple-darwin/bitcoin-94931656b52f-arm64-apple-darwin-unsigned.zip\r\n0fe324525691bfba464edaf9c895cce2e784da915576f3575be33f326055f2fb  guix-build-94931656b52f/output/dist-archive/bitcoin-94931656b52f.tar.gz\r\n2954b42e53355624d99f087b217856c526765845a7e36806dc8d125fd22a1aee  guix-build-94931656b52f/output/powerpc64-linux-gnu/SHA256SUMS.part\r\nefa7747e51e5c7299e31771e70c6aba5260f568aa815b69f083687abfa70d476  guix-build-94931656b52f/output/powerpc64-linux-gnu/bitcoin-94931656b52f-powerpc64-linux-gnu-debug.tar.gz\r\n59f94863afe636f7d9bf8b329243b89fe1abb2b711350afa3a6055a3555544e2  guix-build-94931656b52f/output/powerpc64-linux-gnu/bitcoin-94931656b52f-powerpc64-linux-gnu.tar.gz\r\n1fcf070e5306eb99ef35470927063ce9990a9cf36176c1ad879772ed6450ada3  guix-build-94931656b52f/output/riscv64-linux-gnu/SHA256SUMS.part\r\nb43e8509991afd9f1842930dcaca21fced6aa36bd36d956d2160558d899431aa  guix-build-94931656b52f/output/riscv64-linux-gnu/bitcoin-94931656b52f-riscv64-linux-gnu-debug.tar.gz\r\n17ed1d821725d524e0aa27d9b5d4ff45e87d83f64d18c7a468015425a90c6000  guix-build-94931656b52f/output/riscv64-linux-gnu/bitcoin-94931656b52f-riscv64-linux-gnu.tar.gz\r\nba1428c418f002a7570e371c58b9fbb6b63eb775ee2bbe4265912b1941ac0079  guix-build-94931656b52f/output/x86_64-apple-darwin/SHA256SUMS.part\r\n02c74abec6dcf25d0f40e4eefdb23bbe967c6ea37586d70d3b86350cf1d97600  guix-build-94931656b52f/output/x86_64-apple-darwin/bitcoin-94931656b52f-x86_64-apple-darwin-codesigning.tar.gz\r\na8d131febfea3def13ccd47f9186c9f5392103d0da7cafcf173fd212fa709926  guix-build-94931656b52f/output/x86_64-apple-darwin/bitcoin-94931656b52f-x86_64-apple-darwin-unsigned.tar.gz\r\nf65d923c879eaca7b398b4674ef893b8ffbba3e9e2f518e72f19f2b41be0f943  guix-build-94931656b52f/output/x86_64-apple-darwin/bitcoin-94931656b52f-x86_64-apple-darwin-unsigned.zip\r\nf264e2f36ca7d322c1f3813d023e578f4ef24c914fcdc069dffd785ba0b25253  guix-build-94931656b52f/output/x86_64-linux-gnu/SHA256SUMS.part\r\n77d8d8a837578eaf591044cac6324ffe82f860bf6c0793f32b6bfddb017c6b21  guix-build-94931656b52f/output/x86_64-linux-gnu/bitcoin-94931656b52f-x86_64-linux-gnu-debug.tar.gz\r\n88927145ce621e432a242454b58cb599c783602d020d3051f9f70153c1a11aac  guix-build-94931656b52f/output/x86_64-linux-gnu/bitcoin-94931656b52f-x86_64-linux-gnu.tar.gz\r\n4591bdd94369570ad6dbb553dd50affe008ec9b4da2ebd711d6de58957d00523  guix-build-94931656b52f/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n32491ad141bb001e33a5a5f39fe63122ffea67ddfb7452ba7defdb67a42abadd  guix-build-94931656b52f/output/x86_64-w64-mingw32/bitcoin-94931656b52f-win64-codesigning.tar.gz\r\n37d75223f5b0739a679af6ab9f6e3ceba79c8253afd88d39ece9b745fc3b52ac  guix-build-94931656b52f/output/x86_64-w64-mingw32/bitcoin-94931656b52f-win64-debug.zip\r\n44ea00451980b4bde16c3eb3cf96822e73160759c1dc639089291b8d9dea588e  guix-build-94931656b52f/output/x86_64-w64-mingw32/bitcoin-94931656b52f-win64-setup-unsigned.exe\r\n192c0594421e8c8e7a397d9990d87fb9ae06d827bb08106551822ed3acfb5b9e  guix-build-94931656b52f/output/x86_64-w64-mingw32/bitcoin-94931656b52f-win64-unsigned.zip\r\n```",
          "created_at": "2025-07-11T10:19:22Z"
        }
      ]
    },
    {
      "number": 32939,
      "title": "refactor: avoid double hashing in `SourceLocationHasher`",
      "body": "Feeds the file name string directly into the hasher instead of pre-hashing it first. The resulting hash changes of course, but that doesn't affect us since it's only stored in-memory.\r\n\r\nFixes: https://github.com/bitcoin/bitcoin/pull/32604#discussion_r2188644325\r\n\r\nA few other related nits were also addressed here:\r\n* Comment was redundant, `CSipHasher` is used in other hashers all over the codebase\r\n* `static_cast<size_t>` skewed the whole method, changed to shorter functional-style cast\r\n* `struct` formatting is aligned with `class` formatting - see https://github.com/bitcoin/bitcoin/pull/32813",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-07-10T12:46:55Z",
      "updated_at": "2025-11-05T17:35:14Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32939",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32939.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T12:47:00Z"
        },
        {
          "user": "hodlinator",
          "body": "> Since there are quite a few follow-ups in #32604, it might make sense to do them all in one (or at least larger, related PRs) instead of carving it out into dozens of small ones?\r\n\r\nJust noting that this was done in #33011, in case anyone else also wonders.",
          "created_at": "2025-11-05T17:35:14Z"
        }
      ]
    },
    {
      "number": 32937,
      "title": "Enable `-Werror=dev` in CI & Guix",
      "body": "Pass `-Werror=dev` in the CI, Guix and the `dev-mode` preset.\r\n\r\nhttps://cmake.org/cmake/help/latest/manual/cmake.1.html#cmdoption-cmake-Werror:\r\n> Make developer warnings errors.\r\n> Make warnings that are meant for the author of the CMakeLists.txt files errors. By default this will also turn on deprecated warnings as errors.\r\n\r\nPulled out of #32865.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-07-10T11:06:09Z",
      "updated_at": "2025-07-12T07:37:13Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/32937",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32937.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/32937#issuecomment-3062371486), [hebasto](https://github.com/bitcoin/bitcoin/pull/32937#pullrequestreview-3012133349) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32888](https://github.com/bitcoin/bitcoin/pull/32888) (ci: Use optimized Debug build type in test-each-commit by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T11:06:14Z"
        },
        {
          "user": "hebasto",
          "body": "Concept ACK.",
          "created_at": "2025-07-10T11:13:57Z"
        },
        {
          "user": "Sjors",
          "body": "ACK 35e0331493e97f8c9a79e40449fe2787dc798f3c\r\n\r\nTest by deliberately triggering one with `message(AUTHOR_WARNING`. By default for `cmake -B build` it's just a warning, but with `--preset dev-mode` it's an error.\r\n\r\nGuix build on x86_64:\r\n\r\n```\r\nc7870f6c402ac407d0de4edc21d42f5040d19374deaba50b496e4f99a421c8e8  guix-build-35e0331493e9/output/aarch64-linux-gnu/SHA256SUMS.part\r\nd64532e1bd83568f2386a6b67c49e0843f08c0d486828b1cd0ce955a179b07bb  guix-build-35e0331493e9/output/aarch64-linux-gnu/bitcoin-35e0331493e9-aarch64-linux-gnu-debug.tar.gz\r\na158a955bf7b82ef1572db4ad5fd4d5b2885631cad810102b67d16eaadb4e3df  guix-build-35e0331493e9/output/aarch64-linux-gnu/bitcoin-35e0331493e9-aarch64-linux-gnu.tar.gz\r\n225421a4d478e602bf97cda523491cb88d2094d3d79cc6e6f714268f22744642  guix-build-35e0331493e9/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n3ce4e0580f4376f795b2517b6d2b1485ae79c88720399428f0d7fb091b225f10  guix-build-35e0331493e9/output/arm-linux-gnueabihf/bitcoin-35e0331493e9-arm-linux-gnueabihf-debug.tar.gz\r\nc740ecedc658e6efe6f9db177da29b280331a7d04782c5507b6db84fb8746721  guix-build-35e0331493e9/output/arm-linux-gnueabihf/bitcoin-35e0331493e9-arm-linux-gnueabihf.tar.gz\r\nb867a1f066177978cbd62e5dbe4ff0a61f55e3dfd54ea15db6331ed0aa7e790d  guix-build-35e0331493e9/output/arm64-apple-darwin/SHA256SUMS.part\r\n951f02919625c100dfd170a24c22587d8e69fa201fdf90f49435920b118ad03a  guix-build-35e0331493e9/output/arm64-apple-darwin/bitcoin-35e0331493e9-arm64-apple-darwin-codesigning.tar.gz\r\n4e86d8a96acace32cfeca1efcd3859b619067aeed232487a50bb6a36e73d35ff  guix-build-35e0331493e9/output/arm64-apple-darwin/bitcoin-35e0331493e9-arm64-apple-darwin-unsigned.tar.gz\r\ncb2787563cd5a52ab8d1845f31de2cbe409e4e5b22d735c8a924a0b3257fe851  guix-build-35e0331493e9/output/arm64-apple-darwin/bitcoin-35e0331493e9-arm64-apple-darwin-unsigned.zip\r\n5932610ac08d5319a2f7eacac50a6006f5ddd1298e7e9a03ad11a3d47c2ed2d9  guix-build-35e0331493e9/output/dist-archive/bitcoin-35e0331493e9.tar.gz\r\n28ab5b3ecc26bfbc35449b554a91ce3efa8eaeffa7a527a5dc1d96ff64b092b6  guix-build-35e0331493e9/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n52a450747b1346b1261dfbfb7d28b6b4c50ac7654664b828d5210cdb875d3db7  guix-build-35e0331493e9/output/powerpc64-linux-gnu/bitcoin-35e0331493e9-powerpc64-linux-gnu-debug.tar.gz\r\n8d74cb299984b216ec9cce2c6a49fd58366f54854cf24dd19060dd92fa271be3  guix-build-35e0331493e9/output/powerpc64-linux-gnu/bitcoin-35e0331493e9-powerpc64-linux-gnu.tar.gz\r\n95fc7f05ef5fefe4faa1d00c1ed65ba7e2bbf55ed0b5956856df6059bff37329  guix-build-35e0331493e9/output/riscv64-linux-gnu/SHA256SUMS.part\r\n6b66ea4a194e753372c45a5f2cc44297a838a14be749732d63da8a59c535d4fb  guix-build-35e0331493e9/output/riscv64-linux-gnu/bitcoin-35e0331493e9-riscv64-linux-gnu-debug.tar.gz\r\n0067036b78d320ec826f7cdd561fc86f80f2ad6357289b00e1fa72e629e993ea  guix-build-35e0331493e9/output/riscv64-linux-gnu/bitcoin-35e0331493e9-riscv64-linux-gnu.tar.gz\r\n94f16aa167169bf027ad3c0a1735c0b9f59adac175cab154bb1250661754b7e1  guix-build-35e0331493e9/output/x86_64-apple-darwin/SHA256SUMS.part\r\n0df06a64baf859599b7ae483053d6fb08d8cf02b132551f302849bffe04c7ad9  guix-build-35e0331493e9/output/x86_64-apple-darwin/bitcoin-35e0331493e9-x86_64-apple-darwin-codesigning.tar.gz\r\ne71e98a89c1847ad6ae3b0bde23695786629f5a204da37bb4e8826ba8909ddc7  guix-build-35e0331493e9/output/x86_64-apple-darwin/bitcoin-35e0331493e9-x86_64-apple-darwin-unsigned.tar.gz\r\n3f524d75271b5232182c169e708f46f1c3934c5cebd25ac002cf95e927760da9  guix-build-35e0331493e9/output/x86_64-apple-darwin/bitcoin-35e0331493e9-x86_64-apple-darwin-unsigned.zip\r\n02cf5b7ee85a6b8e54889a2e39f1f334c138aa86a96f1721171eda4ea2cfd172  guix-build-35e0331493e9/output/x86_64-linux-gnu/SHA256SUMS.part\r\n98aa219e4e5c010f78916dc05dc9a95bf2480b06c6dce1601bea8009ebaf518a  guix-build-35e0331493e9/output/x86_64-linux-gnu/bitcoin-35e0331493e9-x86_64-linux-gnu-debug.tar.gz\r\n610e38e87a9887feebb1ab7ff93cd86815778a8ec94d01162752d3e2ae744634  guix-build-35e0331493e9/output/x86_64-linux-gnu/bitcoin-35e0331493e9-x86_64-linux-gnu.tar.gz\r\n0d47610967f5c4ed3b6f5ad36944b78e58ed8fdc8140bdbe283ed936d4bfedba  guix-build-35e0331493e9/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n5ff7fdd78964afbaa107a8abc735c4cba1efe4bceaf893442acdaaf806540072  guix-build-35e0331493e9/output/x86_64-w64-mingw32/bitcoin-35e0331493e9-win64-codesigning.tar.gz\r\n1769813048d6b8987158423ae64d6efb9c5f23832d3502784cf6f87c1091603d  guix-build-35e0331493e9/output/x86_64-w64-mingw32/bitcoin-35e0331493e9-win64-debug.zip\r\nb0652ac033d9b03eac0fde78b16577809c59b51485d89f64c65d3f0673052213  guix-build-35e0331493e9/output/x86_64-w64-mingw32/bitcoin-35e0331493e9-win64-setup-unsigned.exe\r\nc34859bc2d553c4daa862d196e775da92f5f4aca08b66907d555946f8f4c817f  guix-build-35e0331493e9/output/x86_64-w64-mingw32/bitcoin-35e0331493e9-win64-unsigned.zip\r\n```\r\n\r\nNote that the win64 signatures mismatch, so maybe rebase now that #32930 landed.",
          "created_at": "2025-07-11T09:34:53Z"
        },
        {
          "user": "Sjors",
          "body": "re-ACK 8f766f39df3e312f79f461b2accc2f9c90fa6338\r\n\r\nGuix build on x86_64:\r\n\r\n```\r\nf73822833d8c3ff2b2dda2ddc5e16cb1794aa4eb299b1f468fa8dbadfd6b2310  guix-build-8f766f39df3e/output/aarch64-linux-gnu/SHA256SUMS.part\r\n35783f79defa8b4032b78443a28e88a9c11314470fc177afa9e21d0e613bd937  guix-build-8f766f39df3e/output/aarch64-linux-gnu/bitcoin-8f766f39df3e-aarch64-linux-gnu-debug.tar.gz\r\nb0345a28e82514d51cb363d798d950e44e630ba357a5e522537e1a7b4a37a151  guix-build-8f766f39df3e/output/aarch64-linux-gnu/bitcoin-8f766f39df3e-aarch64-linux-gnu.tar.gz\r\ne476a91c461a9e7962533360afc090ad92430becab807f42ad4a81d164de53fe  guix-build-8f766f39df3e/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n2c85cbf24c03e186a4f6f5c8d2cc6d1c6771880ed5d1576dfa6b8ae6bf138b4f  guix-build-8f766f39df3e/output/arm-linux-gnueabihf/bitcoin-8f766f39df3e-arm-linux-gnueabihf-debug.tar.gz\r\n55e9a407329ffe4823c11b07a41fec84c499f319fa81612135152e4b8a11f353  guix-build-8f766f39df3e/output/arm-linux-gnueabihf/bitcoin-8f766f39df3e-arm-linux-gnueabihf.tar.gz\r\n477bb4907155417088109f27797954450b0d66cf93b87c40cafd46cc81487975  guix-build-8f766f39df3e/output/arm64-apple-darwin/SHA256SUMS.part\r\ncf934a4d5cefab4f0a38915dc73a385715d90c61ab81e3ad3f0fd6847076b8b8  guix-build-8f766f39df3e/output/arm64-apple-darwin/bitcoin-8f766f39df3e-arm64-apple-darwin-codesigning.tar.gz\r\n5b7934683ee6805ba8c18a4b49aedf0ac8588ae79db791ef40045221400a577a  guix-build-8f766f39df3e/output/arm64-apple-darwin/bitcoin-8f766f39df3e-arm64-apple-darwin-unsigned.tar.gz\r\n49969a89836c74715db0d742f979185246cad41911a428b7b17bf019ffe197ff  guix-build-8f766f39df3e/output/arm64-apple-darwin/bitcoin-8f766f39df3e-arm64-apple-darwin-unsigned.zip\r\n4a53b72b204ece35a4b5fec63f46d245dca0ba0dc426700250a2e457de3460c5  guix-build-8f766f39df3e/output/dist-archive/bitcoin-8f766f39df3e.tar.gz\r\n1c1267aa89cd61a2680579cac09854d869a50bd8ba6dd7e38a73b29b769bd930  guix-build-8f766f39df3e/output/powerpc64-linux-gnu/SHA256SUMS.part\r\nc23a589a45868d7ccee814c2fc748248980fd18786fddea9049dc3b97b347dde  guix-build-8f766f39df3e/output/powerpc64-linux-gnu/bitcoin-8f766f39df3e-powerpc64-linux-gnu-debug.tar.gz\r\n629a558a0798f447168b29e88361f004b93e07a4c2a42a535a1054b02ab83b20  guix-build-8f766f39df3e/output/powerpc64-linux-gnu/bitcoin-8f766f39df3e-powerpc64-linux-gnu.tar.gz\r\n30e06efec7d911975b446e2b5b8bb678d8711c82dd4274c575f51a9f84a4845d  guix-build-8f766f39df3e/output/riscv64-linux-gnu/SHA256SUMS.part\r\nb83b8b68836a32187ed58c008c27ad34eef3a3e05c613399e28d76669bca0dd5  guix-build-8f766f39df3e/output/riscv64-linux-gnu/bitcoin-8f766f39df3e-riscv64-linux-gnu-debug.tar.gz\r\nb71120825dc6b23878264d58f80f83dc4d96151b5028232d092e3b772330fe73  guix-build-8f766f39df3e/output/riscv64-linux-gnu/bitcoin-8f766f39df3e-riscv64-linux-gnu.tar.gz\r\n7f904ccc8fa4f9b50b521c24cdb87d7487da3df4405355b2aae444be24cbea8a  guix-build-8f766f39df3e/output/x86_64-apple-darwin/SHA256SUMS.part\r\n3cb3398ce070aaed1fbc7bf9950ccf5d5b470d80f168174c30d90841af8fd028  guix-build-8f766f39df3e/output/x86_64-apple-darwin/bitcoin-8f766f39df3e-x86_64-apple-darwin-codesigning.tar.gz\r\n8b8685ec4c2ceb1d650e729883354374d55983ac1c75ecad23cf1fcc5a30a97a  guix-build-8f766f39df3e/output/x86_64-apple-darwin/bitcoin-8f766f39df3e-x86_64-apple-darwin-unsigned.tar.gz\r\n7173b5e98226d207e5d6fc24e6d3ff71596059db4ea510dc8c9b63c41df82786  guix-build-8f766f39df3e/output/x86_64-apple-darwin/bitcoin-8f766f39df3e-x86_64-apple-darwin-unsigned.zip\r\n403404501013667fb146bed22d74946a99d1ca5dd1b4baf1c5fbb0e0b5721b43  guix-build-8f766f39df3e/output/x86_64-linux-gnu/SHA256SUMS.part\r\nb0d496ca246c0cf469af10f6ff58e6a026d40c86d509789774a41e4490defbc9  guix-build-8f766f39df3e/output/x86_64-linux-gnu/bitcoin-8f766f39df3e-x86_64-linux-gnu-debug.tar.gz\r\n3c047f33a1964478bbaa1c07d37047c6bdb84d294df57c04dc5c08319fd73680  guix-build-8f766f39df3e/output/x86_64-linux-gnu/bitcoin-8f766f39df3e-x86_64-linux-gnu.tar.gz\r\n857770c56ff3074fd471d50b4a8edd76d60f82e1b1a8b5c95799a0630b97ce24  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n6dc3349f272937c425ba885338a1430b2525a515b818dece08249b01f43e8852  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-codesigning.tar.gz\r\n1d15de96e468b07e9a048aa0c3d026d43f157a3e489067eed652701b9440a71e  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-debug.zip\r\n53576a5acef3c80c79b56e52bcd694368951557f139a7458e007740c2126c05b  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-setup-unsigned.exe\r\nc165b461ad2d8b0f07602a8381afc3a76e6f2489c943029868d23335d0ce8810  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-unsigned.zi\r\n```",
          "created_at": "2025-07-11T13:35:24Z"
        },
        {
          "user": "fanquake",
          "body": "Guix build aarch64:\r\n```bash\r\nf73822833d8c3ff2b2dda2ddc5e16cb1794aa4eb299b1f468fa8dbadfd6b2310  guix-build-8f766f39df3e/output/aarch64-linux-gnu/SHA256SUMS.part\r\n35783f79defa8b4032b78443a28e88a9c11314470fc177afa9e21d0e613bd937  guix-build-8f766f39df3e/output/aarch64-linux-gnu/bitcoin-8f766f39df3e-aarch64-linux-gnu-debug.tar.gz\r\nb0345a28e82514d51cb363d798d950e44e630ba357a5e522537e1a7b4a37a151  guix-build-8f766f39df3e/output/aarch64-linux-gnu/bitcoin-8f766f39df3e-aarch64-linux-gnu.tar.gz\r\ne476a91c461a9e7962533360afc090ad92430becab807f42ad4a81d164de53fe  guix-build-8f766f39df3e/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n2c85cbf24c03e186a4f6f5c8d2cc6d1c6771880ed5d1576dfa6b8ae6bf138b4f  guix-build-8f766f39df3e/output/arm-linux-gnueabihf/bitcoin-8f766f39df3e-arm-linux-gnueabihf-debug.tar.gz\r\n55e9a407329ffe4823c11b07a41fec84c499f319fa81612135152e4b8a11f353  guix-build-8f766f39df3e/output/arm-linux-gnueabihf/bitcoin-8f766f39df3e-arm-linux-gnueabihf.tar.gz\r\n477bb4907155417088109f27797954450b0d66cf93b87c40cafd46cc81487975  guix-build-8f766f39df3e/output/arm64-apple-darwin/SHA256SUMS.part\r\ncf934a4d5cefab4f0a38915dc73a385715d90c61ab81e3ad3f0fd6847076b8b8  guix-build-8f766f39df3e/output/arm64-apple-darwin/bitcoin-8f766f39df3e-arm64-apple-darwin-codesigning.tar.gz\r\n5b7934683ee6805ba8c18a4b49aedf0ac8588ae79db791ef40045221400a577a  guix-build-8f766f39df3e/output/arm64-apple-darwin/bitcoin-8f766f39df3e-arm64-apple-darwin-unsigned.tar.gz\r\n49969a89836c74715db0d742f979185246cad41911a428b7b17bf019ffe197ff  guix-build-8f766f39df3e/output/arm64-apple-darwin/bitcoin-8f766f39df3e-arm64-apple-darwin-unsigned.zip\r\n4a53b72b204ece35a4b5fec63f46d245dca0ba0dc426700250a2e457de3460c5  guix-build-8f766f39df3e/output/dist-archive/bitcoin-8f766f39df3e.tar.gz\r\n1c1267aa89cd61a2680579cac09854d869a50bd8ba6dd7e38a73b29b769bd930  guix-build-8f766f39df3e/output/powerpc64-linux-gnu/SHA256SUMS.part\r\nc23a589a45868d7ccee814c2fc748248980fd18786fddea9049dc3b97b347dde  guix-build-8f766f39df3e/output/powerpc64-linux-gnu/bitcoin-8f766f39df3e-powerpc64-linux-gnu-debug.tar.gz\r\n629a558a0798f447168b29e88361f004b93e07a4c2a42a535a1054b02ab83b20  guix-build-8f766f39df3e/output/powerpc64-linux-gnu/bitcoin-8f766f39df3e-powerpc64-linux-gnu.tar.gz\r\n30e06efec7d911975b446e2b5b8bb678d8711c82dd4274c575f51a9f84a4845d  guix-build-8f766f39df3e/output/riscv64-linux-gnu/SHA256SUMS.part\r\nb83b8b68836a32187ed58c008c27ad34eef3a3e05c613399e28d76669bca0dd5  guix-build-8f766f39df3e/output/riscv64-linux-gnu/bitcoin-8f766f39df3e-riscv64-linux-gnu-debug.tar.gz\r\nb71120825dc6b23878264d58f80f83dc4d96151b5028232d092e3b772330fe73  guix-build-8f766f39df3e/output/riscv64-linux-gnu/bitcoin-8f766f39df3e-riscv64-linux-gnu.tar.gz\r\n7f904ccc8fa4f9b50b521c24cdb87d7487da3df4405355b2aae444be24cbea8a  guix-build-8f766f39df3e/output/x86_64-apple-darwin/SHA256SUMS.part\r\n3cb3398ce070aaed1fbc7bf9950ccf5d5b470d80f168174c30d90841af8fd028  guix-build-8f766f39df3e/output/x86_64-apple-darwin/bitcoin-8f766f39df3e-x86_64-apple-darwin-codesigning.tar.gz\r\n8b8685ec4c2ceb1d650e729883354374d55983ac1c75ecad23cf1fcc5a30a97a  guix-build-8f766f39df3e/output/x86_64-apple-darwin/bitcoin-8f766f39df3e-x86_64-apple-darwin-unsigned.tar.gz\r\n7173b5e98226d207e5d6fc24e6d3ff71596059db4ea510dc8c9b63c41df82786  guix-build-8f766f39df3e/output/x86_64-apple-darwin/bitcoin-8f766f39df3e-x86_64-apple-darwin-unsigned.zip\r\n403404501013667fb146bed22d74946a99d1ca5dd1b4baf1c5fbb0e0b5721b43  guix-build-8f766f39df3e/output/x86_64-linux-gnu/SHA256SUMS.part\r\nb0d496ca246c0cf469af10f6ff58e6a026d40c86d509789774a41e4490defbc9  guix-build-8f766f39df3e/output/x86_64-linux-gnu/bitcoin-8f766f39df3e-x86_64-linux-gnu-debug.tar.gz\r\n3c047f33a1964478bbaa1c07d37047c6bdb84d294df57c04dc5c08319fd73680  guix-build-8f766f39df3e/output/x86_64-linux-gnu/bitcoin-8f766f39df3e-x86_64-linux-gnu.tar.gz\r\n857770c56ff3074fd471d50b4a8edd76d60f82e1b1a8b5c95799a0630b97ce24  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n6dc3349f272937c425ba885338a1430b2525a515b818dece08249b01f43e8852  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-codesigning.tar.gz\r\n1d15de96e468b07e9a048aa0c3d026d43f157a3e489067eed652701b9440a71e  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-debug.zip\r\n53576a5acef3c80c79b56e52bcd694368951557f139a7458e007740c2126c05b  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-setup-unsigned.exe\r\nc165b461ad2d8b0f07602a8381afc3a76e6f2489c943029868d23335d0ce8810  guix-build-8f766f39df3e/output/x86_64-w64-mingw32/bitcoin-8f766f39df3e-win64-unsigned.zip\r\n```",
          "created_at": "2025-07-11T14:31:08Z"
        }
      ]
    },
    {
      "number": 32933,
      "title": "log: Properly log warnings with warn loglevel in addrdb",
      "body": "The logging in addrdb is confusing, because it uses `LogPrintf` (info level) to log warnings.\r\n\r\nFix this by properly using the `warn` level, where needed. Also, drop unused trailing `\\n` while touching the lines.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-07-10T09:27:32Z",
      "updated_at": "2025-07-11T13:38:18Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32933",
      "labels": [
        "Utils/log/libs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32933.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/32933#pullrequestreview-3005268716), [dergoegge](https://github.com/bitcoin/bitcoin/pull/32933#pullrequestreview-3010299469) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T09:27:41Z"
        }
      ]
    },
    {
      "number": 32932,
      "title": "test: Add missing convert_to_json_for_cli",
      "body": "Currently the tests are failing on current master, if they use the `--usecli` flag. See https://github.com/bitcoin/bitcoin/runs/45676472375, https://cirrus-ci.com/task/5707897310543872.\r\n\r\nThis can be reproduced locally via:\r\n\r\n```\r\n./bld-cmake/test/functional/wallet_reorgsrestore.py --usecli\r\n```\r\n\r\nFix it by adding the missing `hash_or_height=self.convert_to_json_for_cli(tip)` for the value that could either be a string (needs quotes in json), or a number (does not need quotes in json).",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-07-10T09:00:53Z",
      "updated_at": "2025-07-10T10:11:38Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32932",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32932.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32932#pullrequestreview-3004869160) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T09:00:59Z"
        }
      ]
    },
    {
      "number": 32930,
      "title": "Resolve guix non-determinism with emplace_back instead of push_back",
      "body": "For some reason, building x86_64-w64-mingw32 on x86_64 and aarch64 results in a single instruction difference which can be traced down to prevector.h:174. The ultimate caller of this is the copy constructor for a prevector that ends up being called by std::vector::push_back in walletmodel.cpp:183. By replacing the push_back with an emplace_back, somehow this non-determinism goes away.\r\n\r\nCloses #32923",
      "state": "closed",
      "user": "achow101",
      "created_at": "2025-07-10T06:39:35Z",
      "updated_at": "2025-07-11T09:24:45Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/32930",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32930.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/32930#issuecomment-3058951465), [Sjors](https://github.com/bitcoin/bitcoin/pull/32930#issuecomment-3061031655), [maflcko](https://github.com/bitcoin/bitcoin/pull/32930#issuecomment-3061186975) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-10T06:39:40Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 3add4b365c90c0943f18dd26d4a18c1e2ee5860e\r\n\r\nHaven't tested a guix build, but the changes lgtm",
          "created_at": "2025-07-10T06:44:16Z"
        },
        {
          "user": "achow101",
          "body": "x86_64 guix build:\r\n\r\n```\r\n$ find guix-build-3add4b365c90/output/ -type f -print0 | env LC_ALL=C sort -z | xargs -r0 sha256sum\r\n5d3ec518a66bcff88ae4032a352119945ecae1cad0337bdadc84315dd9405a2c  guix-build-3add4b365c90/output/dist-archive/bitcoin-3add4b365c90.tar.gz\r\n9a317eb639f20191d13df01c11cd71d6da0f2593c9b6048f882ef40e0a080cc1  guix-build-3add4b365c90/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n083fb802296373e8d0faa4fdda4ce072f0f95f9443e9ba0682cb5da6dc55d7b6  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-codesigning.tar.gz\r\n1aa4834f17fee7b6cb7b5c72878eb6f6b3875d23ab35337c02f92768657fa257  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-debug.zip\r\n663b6fb28095c5c6ba331675c257a0ce3ef7d92f4c04e2ff96a093e030322e88  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-setup-unsigned.exe\r\nad8ab977a123d56642aef2291a4b9d0d662be9cdbbcc304c079b898e5f37fb33  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-unsigned.zip\r\n```",
          "created_at": "2025-07-10T06:44:26Z"
        },
        {
          "user": "Sjors",
          "body": "Concept ACK\r\n\r\nI'll spin up a new aarch64 guix machine to test if this _actually_ makes determinism go away. Even if it doesn't, the change itself is fine since it removes a line, but you'd have to change the commit message.\r\n\r\n3add4b365c90c0943f18dd26d4a18c1e2ee5860e builds and passes the tests locally for me on Apple Silicon macOS 15.5. Not sure what's up with CI. \r\n\r\nx86_64 guix hashes:\r\n\r\n```\r\n5d3ec518a66bcff88ae4032a352119945ecae1cad0337bdadc84315dd9405a2c  guix-build-3add4b365c90/output/dist-archive/bitcoin-3add4b365c90.tar.gz\r\n9a317eb639f20191d13df01c11cd71d6da0f2593c9b6048f882ef40e0a080cc1  guix-build-3add4b365c90/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n083fb802296373e8d0faa4fdda4ce072f0f95f9443e9ba0682cb5da6dc55d7b6  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-codesigning.tar.gz\r\n1aa4834f17fee7b6cb7b5c72878eb6f6b3875d23ab35337c02f92768657fa257  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-debug.zip\r\n663b6fb28095c5c6ba331675c257a0ce3ef7d92f4c04e2ff96a093e030322e88  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-setup-unsigned.exe\r\nad8ab977a123d56642aef2291a4b9d0d662be9cdbbcc304c079b898e5f37fb33  guix-build-3add4b365c90/output/x86_64-w64-mingw32/bitcoin-3add4b365c90-win64-unsigned.zip\r\n```",
          "created_at": "2025-07-10T07:10:05Z"
        },
        {
          "user": "maflcko",
          "body": "Congrats, you are triggering another compiler bug. See 9999dbc1bd171931f02266d7c1a5cfd39f49238e for more details.",
          "created_at": "2025-07-10T07:21:39Z"
        },
        {
          "user": "achow101",
          "body": "guix builds of f43571010e38\r\n\r\nx86_64\r\n```\r\n$ find guix-build-f43571010e38/output/ -type f -print0 | env LC_ALL=C sort -z | xargs -r0 sha256sum\r\nbb9e6435df82cfe01c78e046ef39cea62a3b0ad0deafa66e1d2a15257bc21eeb  guix-build-f43571010e38/output/dist-archive/bitcoin-f43571010e38.tar.gz\r\n7d3bc9459a51abcb2d9d36b69fc135cbb4940c092a9f8df63032c6e9f659a958  guix-build-f43571010e38/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n34af63c893a315745364d1f4dd36bbc1521eef0cad42ea964ba1d0dc5cbcf738  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-codesigning.tar.gz\r\n20929256891cacbeb58f75644257631273c4096597a9e4e366c61807ce87eade  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-debug.zip\r\n8d39a4e45bc66dad9c9becd16ab11a77abc976a0091d370b26977d5194ed9535  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-setup-unsigned.exe\r\n969f416e0004ecba38e4dbec9bb60e0d5c07f21aae6d72f49480bb85426725ab  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-unsigned.zip\r\n```\r\n\r\naarch64\r\n```\r\nbb9e6435df82cfe01c78e046ef39cea62a3b0ad0deafa66e1d2a15257bc21eeb  guix-build-f43571010e38/output/dist-archive/bitcoin-f43571010e38.tar.gz\r\n7d3bc9459a51abcb2d9d36b69fc135cbb4940c092a9f8df63032c6e9f659a958  guix-build-f43571010e38/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n34af63c893a315745364d1f4dd36bbc1521eef0cad42ea964ba1d0dc5cbcf738  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-codesigning.tar.gz\r\n20929256891cacbeb58f75644257631273c4096597a9e4e366c61807ce87eade  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-debug.zip\r\n8d39a4e45bc66dad9c9becd16ab11a77abc976a0091d370b26977d5194ed9535  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-setup-unsigned.exe\r\n969f416e0004ecba38e4dbec9bb60e0d5c07f21aae6d72f49480bb85426725ab  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-unsigned.zip\r\n```",
          "created_at": "2025-07-10T20:11:15Z"
        },
        {
          "user": "l0rinc",
          "body": "code review ACK f43571010e3853e83a21aa4774b1c8da47b5d961",
          "created_at": "2025-07-10T20:25:35Z"
        },
        {
          "user": "Sjors",
          "body": "utACK f43571010e3853e83a21aa4774b1c8da47b5d961\r\n\r\nx86_64 guix hashes:\r\n\r\n```\r\nbb9e6435df82cfe01c78e046ef39cea62a3b0ad0deafa66e1d2a15257bc21eeb  guix-build-f43571010e38/output/dist-archive/bitcoin-f43571010e38.tar.gz\r\n7d3bc9459a51abcb2d9d36b69fc135cbb4940c092a9f8df63032c6e9f659a958  guix-build-f43571010e38/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n34af63c893a315745364d1f4dd36bbc1521eef0cad42ea964ba1d0dc5cbcf738  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-codesigning.tar.gz\r\n20929256891cacbeb58f75644257631273c4096597a9e4e366c61807ce87eade  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-debug.zip\r\n8d39a4e45bc66dad9c9becd16ab11a77abc976a0091d370b26977d5194ed9535  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-setup-unsigned.exe\r\n969f416e0004ecba38e4dbec9bb60e0d5c07f21aae6d72f49480bb85426725ab  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-unsigned.zip\r\n```\r\n\r\nUnfortunately I still can't get my aarch64 guix setup to work (see #32759), so I can't test myself if this fixes the indeterminism. But at least it does on your machine.",
          "created_at": "2025-07-11T07:31:43Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK f43571010e3853e83a21aa4774b1c8da47b5d961\r\n\r\nHaven't done a guix build, because my riscv64 machine died. I'll try to set it up fresh again next week, or so.",
          "created_at": "2025-07-11T08:18:56Z"
        },
        {
          "user": "fanquake",
          "body": "Guix Build (aarch64):\r\n```bash\r\nb75d75ed9b64aadadcccce97bf1fcafa2802c916f4a12befe7fef3260f2d5bb7  guix-build-f43571010e38/output/aarch64-linux-gnu/SHA256SUMS.part\r\na9cdcb840b05cad7c69dafb13003ff2e051ab162e30a8959af011f76c5abe576  guix-build-f43571010e38/output/aarch64-linux-gnu/bitcoin-f43571010e38-aarch64-linux-gnu-debug.tar.gz\r\n7269ff5420cd864c351fc075c0cd8b57c9f73264dd5083eabeddf5f673a88263  guix-build-f43571010e38/output/aarch64-linux-gnu/bitcoin-f43571010e38-aarch64-linux-gnu.tar.gz\r\n8c169b4d4746983856a55a6195741a7468cea2a225e6f6d9d53901a3048093a2  guix-build-f43571010e38/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n5f288115356d8baec2c5d76c90719c11cdf8ef5fcb8dd7f539c09be256fbaf28  guix-build-f43571010e38/output/arm-linux-gnueabihf/bitcoin-f43571010e38-arm-linux-gnueabihf-debug.tar.gz\r\nb570bef77ee3cd3824fc0457d10672613eeca1e9baedcb54976a557681d159b4  guix-build-f43571010e38/output/arm-linux-gnueabihf/bitcoin-f43571010e38-arm-linux-gnueabihf.tar.gz\r\nea1fb792183c0fc396f6ea26ecc7c3815c8124aed7af1e4d52fd8c83f54d8de1  guix-build-f43571010e38/output/arm64-apple-darwin/SHA256SUMS.part\r\n8e5d105ec5e7923a4e057fbd6aad80e7cfb609810b5704b1962621a4a7fc960a  guix-build-f43571010e38/output/arm64-apple-darwin/bitcoin-f43571010e38-arm64-apple-darwin-codesigning.tar.gz\r\nafef674fd88b5e4763fc29aed821507e4dbb8c61b228bbf2259351a9613fca5a  guix-build-f43571010e38/output/arm64-apple-darwin/bitcoin-f43571010e38-arm64-apple-darwin-unsigned.tar.gz\r\n9039a1c71c06726dc498b7ba7431b9717ee88f8a183ec83a38a48a266ed1a22f  guix-build-f43571010e38/output/arm64-apple-darwin/bitcoin-f43571010e38-arm64-apple-darwin-unsigned.zip\r\nbb9e6435df82cfe01c78e046ef39cea62a3b0ad0deafa66e1d2a15257bc21eeb  guix-build-f43571010e38/output/dist-archive/bitcoin-f43571010e38.tar.gz\r\nf44fdd78ae91a7950951ea407d372265598e95f9e2a092a2522f79c46677716c  guix-build-f43571010e38/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n7823af2b8534e47c8db6d9760db2a5cde93cbafe51f88cf814f661de9ecd2b3c  guix-build-f43571010e38/output/powerpc64-linux-gnu/bitcoin-f43571010e38-powerpc64-linux-gnu-debug.tar.gz\r\n6b6fbd238f89d5606b1dc3e72dc07e489e3dfe20db5f7487a616bd214a355845  guix-build-f43571010e38/output/powerpc64-linux-gnu/bitcoin-f43571010e38-powerpc64-linux-gnu.tar.gz\r\n5ada35a6e0362c73e22680186d6ad6dfcedd410ded0aee682009a8738236a253  guix-build-f43571010e38/output/riscv64-linux-gnu/SHA256SUMS.part\r\nb2d7c18d321a1e3039ee80d80dff491e619c63d7681b492600ddf41cb17175a5  guix-build-f43571010e38/output/riscv64-linux-gnu/bitcoin-f43571010e38-riscv64-linux-gnu-debug.tar.gz\r\na661cf4096aab452ca786897ab4a16c165b169549323fa763e846c40b0e672eb  guix-build-f43571010e38/output/riscv64-linux-gnu/bitcoin-f43571010e38-riscv64-linux-gnu.tar.gz\r\n1614b5c12cfebdf535947d6559c76e5169b35df2de81433804d5948b5295eeb8  guix-build-f43571010e38/output/x86_64-apple-darwin/SHA256SUMS.part\r\n81c906f7644d6c8198c72751334a3558c9c280b15620e10be29542d4b36306f6  guix-build-f43571010e38/output/x86_64-apple-darwin/bitcoin-f43571010e38-x86_64-apple-darwin-codesigning.tar.gz\r\n9c65f26e10f4d757c0f7c5458a9c187ff3bfc92d66b8690df7f9a206ab93f04c  guix-build-f43571010e38/output/x86_64-apple-darwin/bitcoin-f43571010e38-x86_64-apple-darwin-unsigned.tar.gz\r\n6ede84df539ca0e3d01bf8324b6c0bb7d2dddf5a32e91300883b81bb7828aeb3  guix-build-f43571010e38/output/x86_64-apple-darwin/bitcoin-f43571010e38-x86_64-apple-darwin-unsigned.zip\r\ncf8182af8af7138da6ccbe93c4ecec2d5659e063fc89392f6c2f98fdadd29190  guix-build-f43571010e38/output/x86_64-linux-gnu/SHA256SUMS.part\r\n2702a08aa94e429f37311b2a817e9a8460b225175ab59aef12df62dc3bbc1cc0  guix-build-f43571010e38/output/x86_64-linux-gnu/bitcoin-f43571010e38-x86_64-linux-gnu-debug.tar.gz\r\n247b9cc88058a04888e7f83581d48a02b450a4f25ea8a7e706bea03c8a808f48  guix-build-f43571010e38/output/x86_64-linux-gnu/bitcoin-f43571010e38-x86_64-linux-gnu.tar.gz\r\n7d3bc9459a51abcb2d9d36b69fc135cbb4940c092a9f8df63032c6e9f659a958  guix-build-f43571010e38/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n34af63c893a315745364d1f4dd36bbc1521eef0cad42ea964ba1d0dc5cbcf738  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-codesigning.tar.gz\r\n20929256891cacbeb58f75644257631273c4096597a9e4e366c61807ce87eade  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-debug.zip\r\n8d39a4e45bc66dad9c9becd16ab11a77abc976a0091d370b26977d5194ed9535  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-setup-unsigned.exe\r\n969f416e0004ecba38e4dbec9bb60e0d5c07f21aae6d72f49480bb85426725ab  guix-build-f43571010e38/output/x86_64-w64-mingw32/bitcoin-f43571010e38-win64-unsigned.zip\r\n```",
          "created_at": "2025-07-11T09:19:11Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32938,
      "title": "cmake: searching across directories for config files",
      "body": "This can be recreated on at least macOS, due to #32707. \n\nIf there are two checkouts of the source, the build in one directory, can fail to configure, because of files in the other directory:\n```bash\ngit clone https://github.com/bitcoin/bitcoin/ bitcoin_a\ngit clone https://github.com/bitcoin/bitcoin/ bitcoin_b\n\ncd bitcoin_a\nmake -C depends HOST=x86_64-w64-mingw32\n# fails to build libevent (#32707)\ncd ../bitcoin_b\n# fails to configure, because of the libevent config files (for a different target) in the other checkout\ncmake -B build\n<snip>\n-- Performing Test NO_DIAGNOSTICS_BOOST_NO_CXX98_FUNCTION_BASE\n-- Performing Test NO_DIAGNOSTICS_BOOST_NO_CXX98_FUNCTION_BASE - Failed\nCMake Error at /Users/xxx/bitcoin_a/depends/work/build/x86_64-w64-mingw32/libevent/2.1.12-stable-f0fd46dc234/build/LibeventConfig.cmake:75 (message):\n  Your libevent library does not contain a pthreads component!\n\n  The valid components are core, extra, pthreads and openssl.\nCall Stack (most recent call first):\n  /Users/xxx/bitcoin_a/depends/work/build/x86_64-w64-mingw32/libevent/2.1.12-stable-f0fd46dc234/build/LibeventConfig.cmake:90 (no_component_msg)\n  cmake/module/FindLibevent.cmake:54 (find_package)\n  CMakeLists.txt:416 (find_package)\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-07-10T11:39:33Z",
      "updated_at": "2025-07-14T12:32:50Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/32938",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "Could you please confirm whether the following patch helps:\n```diff\n--- a/depends/patches/libevent/cmake_fixups.patch\n+++ b/depends/patches/libevent/cmake_fixups.patch\n@@ -7,7 +7,7 @@ cmake: set minimum version to 3.5\n  #\n  \n -cmake_minimum_required(VERSION 3.1 FATAL_ERROR)\n-+cmake_minimum_required(VERSION 3.5 FATAL_ERROR)\n++cmake_minimum_required(VERSION 3.15 FATAL_ERROR)\n  \n  if (POLICY CMP0054)\n      cmake_policy(SET CMP0054 NEW)\n```\n?",
          "created_at": "2025-07-10T13:13:59Z"
        },
        {
          "user": "fanquake",
          "body": "That seems to fix it. I haven't tested extensively though.",
          "created_at": "2025-07-10T16:24:02Z"
        }
      ]
    },
    {
      "number": 32936,
      "title": "SegFault in `coinstatsindex_tests`",
      "body": "System NetBSD 10.1, GCC 14.2.0, using system packages:\n```\n 29/141 Test  #32: coinstatsindex_tests .................***Exception: SegFault  1.20 sec\n```\n\nFull log is available [here](https://github.com/hebasto/bitcoin-core-nightly/actions/runs/16185521919/job/45690339085).",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-07-10T10:56:28Z",
      "updated_at": "2025-08-10T09:43:58Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/32936",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "The issue seems intermittent. Maybe an OOM in the container.",
          "created_at": "2025-07-10T11:22:59Z"
        },
        {
          "user": "fanquake",
          "body": "Has this happened again? If not, and the suspicion is OOM, then I think close, and re-open if it happens again, with more info / steps to reproduce?",
          "created_at": "2025-07-26T09:48:44Z"
        },
        {
          "user": "hebasto",
          "body": "> Has this happened again?\n\nYeah, see: https://github.com/hebasto/bitcoin-core-nightly/actions/runs/16535696284/job/46769686066.\n\n> ... and re-open if it happens again, with more info / steps to reproduce?\n\nI'll try to reproduce it locally.",
          "created_at": "2025-07-26T10:25:47Z"
        },
        {
          "user": "hebasto",
          "body": "> > Has this happened again?\n> \n> Yeah, see: https://github.com/hebasto/bitcoin-core-nightly/actions/runs/16535696284/job/46769686066.\n> \n> > ... and re-open if it happens again, with more info / steps to reproduce?\n> \n> I'll try to reproduce it locally.\n\nI've run tests in a loop on NetBSD 10.1 for some time with no issues.\n\nClosing.",
          "created_at": "2025-08-10T09:43:58Z"
        }
      ]
    },
    {
      "number": 32935,
      "title": "ci: don't pass GIT_EXEC_PATH inside test container",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nhttps://github.com/bitcoin/bitcoin/blob/83ae7802fe14af7eed9edd830f51a3269cc2bd23/ci/test/02_run_container.sh#L15C22-L15C24\n\nIf host system is not ubuntu it could set GIT_EXEC_PATH to /usr/libexec/git-core (it should be /usr/lib/git-core) that causes `git: 'remote-https' is not a git command. See 'git --help'.` error.\n\nYou need to change it to something like:\n```bash\n  python3 -c '\nimport os\n\nexclude = {\"HOME\", \"PATH\", \"USER\", \"GIT_EXEC_PATH\"}\n\nfor key, value in os.environ.items():\n    if \"\\n\" in value or key in exclude:\n        continue\n    print(f\"{key}={value}\")\n' | tee \"/tmp/env-$USER-$CONTAINER_NAME\"\n```\n\n### Expected behaviour\n\ngit clone works fine\n\n### Steps to reproduce\n\nRun CI script on e.g. awslinux and try to clone something inside build scripts\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nmaster\n\n### Operating system and version\n\nawslinux\n\n### Machine specifications\n\n_No response_",
      "state": "closed",
      "user": "olegrok",
      "created_at": "2025-07-10T10:22:08Z",
      "updated_at": "2025-08-05T13:19:15Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/issues/32935",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "> ### Steps to reproduce\n> \n> Run CI script on e.g. awslinux and try to clone something inside build scripts\n\nYou'll have to include the full and exact steps to reproduce.\n\nDid you use https://github.com/bitcoin/bitcoin/blob/c4f90900b55f1a77fa68b627f73a494fab0ed98d/ci/README.md#L46 ?\n\n\n\n> exclude\n\nI don't think a list with excludes is maintainable. It is never going to be complete anyway. (see e.g. https://github.com/bitcoin/bitcoin/pull/31349#issuecomment-2586828644, or any  linux system that sets `HOST`, ...)\n\n\nIf this is an issue, even if you use the documented command from the readme, we'll probably have to use explicit arg-passing (and arg-parsing). However, that is a breaking change, so I haven't yet done it.",
          "created_at": "2025-07-10T10:50:17Z"
        },
        {
          "user": "olegrok",
          "body": "> Did you use?\n\nNo. I hoped that everything will works fine out-of-box. So here I just highlight possible issue. It was really hard to debug it.\n\n> I don't think a list with excludes is maintainable.\n\nThat's true. So feel free to close this issue if you don't think anything actually can't be improved here.",
          "created_at": "2025-07-10T11:30:41Z"
        },
        {
          "user": "maflcko",
          "body": "I think the possible solutions here are:\n\n* Keep everything as-is and just let people figure out that they need to follow the docs exactly.\n* Rename all env vars used internally in the ci to have some prefix like `CI_...` and then filter for those and only pass them. (easy-ish change, but still a breaking change)\n* Wrap the ci invocation into an arg-parser (larger re-write, also a breaking change)\n* something else?",
          "created_at": "2025-07-10T11:40:13Z"
        },
        {
          "user": "maflcko",
          "body": "Maybe an easy fix could be to not pass any env vars, except those with a key specified in `ci/test/00_setup_env.sh`?",
          "created_at": "2025-07-14T14:00:58Z"
        },
        {
          "user": "maflcko",
          "body": "@olegrok If you want, you can test https://github.com/bitcoin/bitcoin/pull/33002",
          "created_at": "2025-07-25T11:07:18Z"
        },
        {
          "user": "olegrok",
          "body": "> [@olegrok](https://github.com/olegrok) If you want, you can test [#33002](https://github.com/bitcoin/bitcoin/pull/33002)\n\nIt looks a bit tricky (however I can't suggest solution that will be better) but this fixes an issue.",
          "created_at": "2025-07-25T16:21:20Z"
        }
      ]
    },
    {
      "number": 32934,
      "title": "Why bitcoin use so many RecursiveMutex",
      "body": "### Please describe the feature you'd like to see added.\n\nI have noticed that in the Bitcoin source code, almost all thread-safe sections use `RecursiveGuard`. \nAs we all know, `RecursiveGuard` is **exclusive**, which can **impact system performance and concurrency**.\n\nAt the same time, I have also noticed [another issue](https://github.com/bitcoin/bitcoin/issues/19303) specifically tracking the replacement of `RecursiveMutex` with `Mutex`, which would help reduce some of the locking overhead.\n\nHowever, I think `Mutex` is still **exclusive**. For modules like the **transaction pool**, which involve both reading and writing transactions‚Äîsuch as querying pending transactions and inserting new ones.\n\nwouldn't using a `read-write lock (SharedMutex)` directly provide better performance? If I make this kind of modification, is it officially recommended?\n\n\n\n\n\n### Is your feature related to a problem, if so please describe it.\n\n_No response_\n\n### Describe the solution you'd like\n\n_No response_\n\n### Describe any alternatives you've considered\n\n_No response_\n\n### Please leave any additional context\n\n_No response_",
      "state": "closed",
      "user": "cyjseagull",
      "created_at": "2025-07-10T09:38:15Z",
      "updated_at": "2025-07-11T11:12:28Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/32934",
      "labels": []
    },
    {
      "number": 32931,
      "title": "guix: Zip file non-determinism when building in WSL",
      "body": "In debugging #32923, I found that while it is possible to do a guix build in WSL on a aarch64 machine, the resulting zip files did not match the build on x86_64. The binaries within the zip files matched, and it appears the non-determinism comes from zip including the file permissions. This is presumably because the WSL build occurs on a NTFS drive which handles file permissions differently from other unix file systems.\n\nDiffoscope output:\n```diff\n--- x86_64-zipinfo\t2025-07-09 23:52:39.650231781 -0700\n+++ aarch64-zipinfo\t2025-07-09 23:52:45.010145329 -0700\n@@ -1,27 +1,27 @@\n-Archive:  ../../../guix-build-ea5d2bb98598/output/x86_64-w64-mingw32/bitcoin-ea5d2bb98598-win64-unsigned.zip\n+Archive:  bitcoin-ea5d2bb98598-win64-unsigned.zip\n Zip file size: 45922845 bytes, number of entries: 24\n-drwxr-xr-x  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/\n-drwxr-xr-x  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/\n--rwxr-xr-x  3.0 unx  2235411 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-cli.exe\n--rwxr-xr-x  3.0 unx 40257059 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-qt.exe\n--rwxr-xr-x  3.0 unx  4107283 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-tx.exe\n--rwxr-xr-x  3.0 unx  1935891 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-util.exe\n--rwxr-xr-x  3.0 unx  8202259 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-wallet.exe\n--rwxr-xr-x  3.0 unx  1216019 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin.exe\n--rwxr-xr-x  3.0 unx 14261779 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoind.exe\n--rwxr-xr-x  3.0 unx 25802259 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/test_bitcoin.exe\n--rw-r--r--  3.0 unx      126 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bitcoin.conf\n--rw-r--r--  3.0 unx      846 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/readme.txt\n-drwxr-xr-x  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/\n-drwxr-xr-x  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/\n-drwxr-xr-x  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/\n--rw-r--r--  3.0 unx      214 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-cli.1\n--rw-r--r--  3.0 unx      211 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-qt.1\n--rw-r--r--  3.0 unx      211 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-tx.1\n--rw-r--r--  3.0 unx      217 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-util.1\n--rw-r--r--  3.0 unx      223 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-wallet.1\n--rw-r--r--  3.0 unx      205 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoind.1\n-drwxr-xr-x  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/rpcauth/\n--rw-r--r--  3.0 unx      453 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/rpcauth/README.md\n--rwxr-xr-x  3.0 unx     1764 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/rpcauth/rpcauth.py\n+drwxrwxrwx  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/\n+drwxrwxrwx  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/\n+-rwxrwxrwx  3.0 unx  2235411 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-cli.exe\n+-rwxrwxrwx  3.0 unx 40257059 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-qt.exe\n+-rwxrwxrwx  3.0 unx  4107283 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-tx.exe\n+-rwxrwxrwx  3.0 unx  1935891 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-util.exe\n+-rwxrwxrwx  3.0 unx  8202259 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin-wallet.exe\n+-rwxrwxrwx  3.0 unx  1216019 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoin.exe\n+-rwxrwxrwx  3.0 unx 14261779 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/bitcoind.exe\n+-rwxrwxrwx  3.0 unx 25802259 b- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bin/test_bitcoin.exe\n+-rwxrwxrwx  3.0 unx      126 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/bitcoin.conf\n+-rwxrwxrwx  3.0 unx      846 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/readme.txt\n+drwxrwxrwx  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/\n+drwxrwxrwx  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/\n+drwxrwxrwx  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/\n+-rwxrwxrwx  3.0 unx      214 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-cli.1\n+-rwxrwxrwx  3.0 unx      211 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-qt.1\n+-rwxrwxrwx  3.0 unx      211 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-tx.1\n+-rwxrwxrwx  3.0 unx      217 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-util.1\n+-rwxrwxrwx  3.0 unx      223 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoin-wallet.1\n+-rwxrwxrwx  3.0 unx      205 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/man/man1/bitcoind.1\n+drwxrwxrwx  3.0 unx        0 b- stor 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/rpcauth/\n+-rwxrwxrwx  3.0 unx      453 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/rpcauth/README.md\n+-rwxrwxrwx  3.0 unx     1764 t- defN 25-Jul-10 05:44 bitcoin-ea5d2bb98598/share/rpcauth/rpcauth.py\n```",
      "state": "open",
      "user": "achow101",
      "created_at": "2025-07-10T06:53:43Z",
      "updated_at": "2025-07-23T21:42:05Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/32931",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "achow101",
          "body": "Switching to a non-ntfs drive works I guess. But it would be preferable if the build was filesystem agnostic.",
          "created_at": "2025-07-10T21:18:19Z"
        },
        {
          "user": "Sjors",
          "body": "Maybe copy the build over and then zip it?",
          "created_at": "2025-07-22T17:10:38Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 10,
    "issues": 5
  }
}