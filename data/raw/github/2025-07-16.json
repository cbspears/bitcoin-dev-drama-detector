{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:58:32.153851+00:00",
  "date": "2025-07-16",
  "pull_requests": [
    {
      "number": 32998,
      "title": "Bump SCRIPT_VERIFY flags to 64 bit",
      "body": "We currently use 21 of 32 possible bits for `SCRIPT_VERIFY_*` flags, with open PRs that may use 8 more (#29247, #31989, #32247, #32453). The mutinynet fork that has included many experimental soft fork features is [already reusing bits here](https://github.com/benthecarman/bitcoin/blob/d4a86277ed8a0712e03fbbce290e9209165e049c/src/script/interpreter.h#L175-L195). Therefore, bump this to 64 bits.\r\n\r\nIn order to make it easier to update this logic in future, this PR also introduces a dedicated type for the script flags, and disables implicit conversion between that type and the underlying integer type. To make verifying that this change doesn't cause flags to disappear, this PR also resurrects the changes from #28806 so that the script flags that are consensus enforced on each block can be queried via getdeploymentinfo.",
      "state": "closed",
      "user": "ajtowns",
      "created_at": "2025-07-16T22:58:08Z",
      "updated_at": "2025-10-14T09:33:03Z",
      "comments": 17,
      "url": "https://github.com/bitcoin/bitcoin/pull/32998",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32998.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/32998#pullrequestreview-3212374162), [instagibbs](https://github.com/bitcoin/bitcoin/pull/32998#issuecomment-3282095349), [theStack](https://github.com/bitcoin/bitcoin/pull/32998#pullrequestreview-3299741455), [achow101](https://github.com/bitcoin/bitcoin/pull/32998#issuecomment-3378806623) |\n| Stale ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/32998#issuecomment-3271403052) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32575](https://github.com/bitcoin/bitcoin/pull/32575) (refactor: Split multithreaded case out of CheckInputScripts by fjahr)\n* [#32453](https://github.com/bitcoin/bitcoin/pull/32453) ([Policy] Discourage Unsigned Annexes by JeremyRubin)\n* [#32317](https://github.com/bitcoin/bitcoin/pull/32317) (kernel: Separate UTXO set access from validation functions by TheCharlatan)\n* [#31989](https://github.com/bitcoin/bitcoin/pull/31989) (BIP-119 (OP_CHECKTEMPLATEVERIFY) (regtest only) by jamesob)\n* [#29843](https://github.com/bitcoin/bitcoin/pull/29843) (policy: Allow non-standard scripts with -acceptnonstdtxn=1 (test nets only) by ajtowns)\n* [#29247](https://github.com/bitcoin/bitcoin/pull/29247) (CAT in Tapscript (BIP-347) by arminsabouri)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T22:58:12Z"
        },
        {
          "user": "ajtowns",
          "body": "The \"introduce script_verify_flags typename\" commit is probably best reviewed with `--word-diff` fwiw.\r\n\r\ncc @instagibbs @darosior @benthecarman ",
          "created_at": "2025-07-16T22:59:35Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46136681380</sub>\n<sub>LLM reason (âœ¨ experimental): Lint failure caused by missing include guard in src/script/verify_flags.h.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-16T23:01:50Z"
        },
        {
          "user": "ajtowns",
          "body": "CI failure seems to be due to [a bug in qt6 6.4](https://bugreports.qt.io/browse/QTBUG-31496?focusedId=888930&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-888930):\r\n\r\n> Also for people coming here from Google: I had the same error message, but for me the problem was that I was using Qt 6.4.2 which apparently thinks that #if 202002L < 201103L is true, which causes c++config.h to not be included (and no #error is generated because moc doesn't support the directive) . This has been fixed somewhere before Qt 6.7.3.\r\n\r\n\r\n```\r\n[20:04:17.396] Get:287 http://archive.ubuntu.com/ubuntu noble/universe amd64 qt6-base-dev-tools amd64 6.4.2+dfsg-21.1build5 [970 kB]\r\n[20:04:17.414] Get:288 http://archive.ubuntu.com/ubuntu noble/universe amd64 qt6-qpa-plugins amd64 6.4.2+dfsg-21.1build5 [89.3 kB]\r\n[20:04:17.417] Get:289 http://archive.ubuntu.com/ubuntu noble/universe amd64 qt6-base-dev amd64 6.4.2+dfsg-21.1build5 [1458 kB]\r\n...\r\n[20:12:02.187] Command\r\n[20:12:02.187] -------\r\n[20:12:02.187] /usr/lib/qt6/libexec/moc -DBOOST_MULTI_INDEX_DISABLE_SERIALIZATION -DBOOST_NO_CXX98_FUNCTION_BASE -DQT_CORE_LIB -DQT_DBUS_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_NO_DEBUG -DQT_NO_KEYWORDS -DQT_USE_QSTRINGBUILDER -DQT_WIDGETS_LIB -I/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src -I/ci_container_base/src -I/ci_container_base/src/univalue/include -I/ci_container_base/src/leveldb/include -I/usr/include/x86_64-linux-gnu/qt6/QtWidgets -I/usr/include/x86_64-linux-gnu/qt6 -I/usr/include/x86_64-linux-gnu/qt6/QtCore -I/usr/lib/x86_64-linux-gnu/qt6/mkspecs/linux-g++ -I/usr/include/x86_64-linux-gnu/qt6/QtGui -I/usr/include/x86_64-linux-gnu/qt6/QtNetwork -I/usr/include/x86_64-linux-gnu/qt6/QtDBus -I/usr/include -I/usr/include/c++/13 -I/usr/include/x86_64-linux-gnu/c++/13 -I/usr/include/c++/13/backward -I/usr/lib/llvm-20/lib/clang/20/include -I/usr/local/include -I/usr/include/x86_64-linux-gnu --include /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/qt/bitcoinqt_autogen/moc_predefs.h -p/ci_container_base/src/qt --output-dep-file -o /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/qt/bitcoinqt_autogen/include/qt/intro.moc /ci_container_base/src/qt/intro.cpp\r\n[20:12:02.187] \r\n[20:12:02.187] Output\r\n[20:12:02.187] ------\r\n[20:12:02.187] usr/include/c++/13/concept:46:1: error: Parse error at \"std\"\r\n```\r\n\r\nThe error output also seems to be cutting off the last letter of the filename (\"concept\" vs \"concepts\" here, and \"stl_relops.\" vs \"stl_relops.h\" in the original bug report linked above).",
          "created_at": "2025-07-17T01:00:33Z"
        },
        {
          "user": "hebasto",
          "body": "> CI failure seems to be due to [a bug in qt6 6.4](https://bugreports.qt.io/browse/QTBUG-31496?focusedId=888930&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-888930):\r\n\r\nAlthough both failed CI job use Clang 20.1.7, the error can also be reproduced with GCC 13.3.",
          "created_at": "2025-07-17T13:21:29Z"
        },
        {
          "user": "instagibbs",
          "body": "agreed, build issue also on my end with gcc 13.3.0",
          "created_at": "2025-07-17T13:31:07Z"
        },
        {
          "user": "fanquake",
          "body": "Minified this is:\r\n```bash\r\n# podman run -it ubuntu:noble\r\n\r\napt update && apt upgrade -y\r\napt install g++ qt6-base-dev qt6-tools-dev git\r\n\r\ngit clone https://github.com/bitcoin/bitcoin\r\ncd bitcoin\r\ngit fetch origin pull/32998/head:32998\r\ngit checkout 32998\r\n\r\n/usr/lib/qt6/libexec/moc -I/usr/include/c++/13 --output-dep-file -o test.moc /bitcoin/src/qt/intro.cpp\r\nusr/include/c++/13/bits/cpp_type_traits.:69:1: error: Parse error at \"std\"\r\n```",
          "created_at": "2025-07-17T13:43:37Z"
        },
        {
          "user": "hebasto",
          "body": "> > CI failure seems to be due to [a bug in qt6 6.4](https://bugreports.qt.io/browse/QTBUG-31496?focusedId=888930&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-888930):\r\n> \r\n> Although both failed CI job use Clang 20.1.7, the error can also be reproduced with GCC 13.3.\r\n\r\n[Refactoring](https://github.com/hebasto/bitcoin/commits/pr32998/0717.refactored/) helps.",
          "created_at": "2025-07-17T13:48:12Z"
        },
        {
          "user": "ajtowns",
          "body": "> Minified this is:\r\n\r\nI don't think you need the `git fetch; git checkout` here -- you get the same error with that command (dropping the `/bitcoin`) on master afaics?",
          "created_at": "2025-07-19T05:37:25Z"
        },
        {
          "user": "fanquake",
          "body": "@hebasto how can we move past the GUI build failures here? https://github.com/bitcoin/bitcoin/actions/runs/16538448423/job/46776353144?pr=32998#step:6:3769.",
          "created_at": "2025-07-26T09:44:40Z"
        },
        {
          "user": "hebasto",
          "body": "> @hebasto how can we move past the GUI build failures here? https://github.com/bitcoin/bitcoin/actions/runs/16538448423/job/46776353144?pr=32998#step:6:3769.\r\n\r\nSure!\r\n\r\n> > > CI failure seems to be due to [a bug in qt6 6.4](https://bugreports.qt.io/browse/QTBUG-31496?focusedId=888930&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-888930):\r\n> > \r\n> > \r\n> > Although both failed CI job use Clang 20.1.7, the error can also be reproduced with GCC 13.3.\r\n> \r\n> [Refactoring](https://github.com/hebasto/bitcoin/commits/pr32998/0717.refactored/) helps.\r\n\r\nImplemented in https://github.com/bitcoin-core/gui/pull/881.",
          "created_at": "2025-07-26T10:14:19Z"
        },
        {
          "user": "darosior",
          "body": "Concept ACK.",
          "created_at": "2025-07-31T13:53:22Z"
        },
        {
          "user": "ajtowns",
          "body": "Rebased past header conflict with #33116",
          "created_at": "2025-08-14T01:22:50Z"
        },
        {
          "user": "sipa",
          "body": "utACK 417437eb01ac014c57aca47f44d7f8d3da351987",
          "created_at": "2025-09-09T16:14:42Z"
        },
        {
          "user": "instagibbs",
          "body": "reACK https://github.com/bitcoin/bitcoin/pull/32998/commits/652424ad162b63d73ecb6bd65bd26946e90c617f",
          "created_at": "2025-09-11T18:01:29Z"
        },
        {
          "user": "achow101",
          "body": "ACK 652424ad162b63d73ecb6bd65bd26946e90c617f",
          "created_at": "2025-10-07T21:40:16Z"
        },
        {
          "user": "fanquake",
          "body": "Note that this caused the MSAN Fuzz job to start failing, so is being fixed / changed again in #33600.",
          "created_at": "2025-10-14T09:33:03Z"
        }
      ]
    },
    {
      "number": 32997,
      "title": "index: Deduplicate HashKey / HeightKey handling",
      "body": "The logic for `DBHashKey` / `DBHeightKey` handling and lookup of entries is shared by `coinstatsindex` and `blockfilterindex`, leading to many lines of duplicated code. De-duplicate this by moving the logic to `index/db_key.h` (using templates for the index-specific `DBVal`).",
      "state": "closed",
      "user": "mzumsande",
      "created_at": "2025-07-16T22:09:44Z",
      "updated_at": "2025-12-27T16:18:39Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/32997",
      "labels": [
        "UTXO Db and Indexes"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32997.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/32997#pullrequestreview-3548499753), [fjahr](https://github.com/bitcoin/bitcoin/pull/32997#issuecomment-3687238602), [sedited](https://github.com/bitcoin/bitcoin/pull/32997#pullrequestreview-3608713963) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\n\n\nPossible typos and grammar issues:\n\n- \"// If value at the height index corresponds to an different block, the\" -> \"a different\" [incorrect article \"an\" before a consonant-starting word (\"different\")]\n\n\n\n<sup>2025-12-04</sup>\n",
          "created_at": "2025-07-16T22:09:49Z"
        },
        {
          "user": "fjahr",
          "body": "Concept ACK on the deduplication parts",
          "created_at": "2025-07-17T09:43:26Z"
        },
        {
          "user": "mzumsande",
          "body": "[03b67a2](https://github.com/bitcoin/bitcoin/commit/03b67a27d013e55891df69b1aef9425574b88f5e) to [936bd87](https://github.com/bitcoin/bitcoin/commit/936bd874ac1581de532317741f5ab26e875935b3):\r\nAddressed feedback by @fjahr.",
          "created_at": "2025-07-25T19:21:36Z"
        },
        {
          "user": "fjahr",
          "body": "utACK 936bd874ac1581de532317741f5ab26e875935b3",
          "created_at": "2025-07-25T20:24:09Z"
        },
        {
          "user": "mzumsande",
          "body": "[936bd87](https://github.com/bitcoin/bitcoin/commit/936bd874ac1581de532317741f5ab26e875935b3) to [55662b2](https://github.com/bitcoin/bitcoin/commit/55662b28e5c484ad161eb4293b582dca389d176f): rebased\r\n\r\nFYI https://github.com/bitcoin/bitcoin/commit/c76797481155754329ec6a6f58e8402569043944  removed the `std::move` in `CopyHeightIndexToHashIndex` of `coinstatsindex.cpp` but not in `blockfilterindex.cpp`, which is another reason to deduplicate this.",
          "created_at": "2025-11-20T16:56:11Z"
        },
        {
          "user": "mzumsande",
          "body": "> Since `DBHeightKey` and `DBHashKey` are pretty similar. What do you think about a generic template for both? [furszy@e5dd2b0](https://github.com/furszy/bitcoin-core/commit/e5dd2b02f15f9f68fbe84cc30255573ad23dbf2c). (Only needed to specialize the serialization for the value)\r\n\r\nThat's clever, but I'm not convinced it is worth the downside of more complex / less readable code - we just have two different Key types, and I don't think it's likely that there will be other added in the future. Though this may also be my relative inexperience with more complex uses of C++ templates.\r\nSo I haven't included it in this PR - it could be a follow-up if other reviewers like it.",
          "created_at": "2025-11-20T17:12:19Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/actions/runs/19544638314/job/55960138313</sub>\n<sub>LLM reason (âœ¨ experimental): CI failed due to a lint error: duplicate include in src/index/coinstatsindex.cpp detected by lint-includes.py.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-11-20T17:16:12Z"
        },
        {
          "user": "mzumsande",
          "body": "> what do you think about wrapping all the code in `db_key.h` under a namespace like \"util\", \"common\", \"index::util\", or \"util::index\" (just threw some names), so it's clear when reading the code that these functions are defined elsewhere and shared, without needing to search around for the definition.\r\n\r\nI did that in 5646e6c0d3581f12419913b88745f51c7a3161b9 - let me know what you think. I used `index_util`, turned out it was required a bit more often than I would have expected.",
          "created_at": "2025-12-04T18:04:55Z"
        },
        {
          "user": "fjahr",
          "body": "re-ACK 5646e6c0d3581f12419913b88745f51c7a3161b9\r\n\r\nThe addition of the namespace is a good idea.",
          "created_at": "2025-12-23T16:28:33Z"
        }
      ]
    },
    {
      "number": 32996,
      "title": "log: unify `UpdateTip` values",
      "body": "The most frequently seen log line prints tip-update data after each successful block connection. During IBD this produces ~900k lines (~250 characters per line), totaling ~220 MB so far.\r\n\r\nMost `key=value` pairs are written directly, but block time is emitted as `date='ISO8601DateTime'`, adding unnecessary single quotes because the value contains no spaces.\r\n\r\nRemoving those quotes shortens every line and reduces a full-IBD debug log by ~1% (about ~2MB).\r\n\r\nBefore:\r\n> 2025-07-16T04:50:47Z UpdateTip: new best=00000000000000000001f49fb5fb37753c06d78f1a811d707aebf6194bb147e5 height=890000 version=0x25e9a000 log2_work=95.523053 tx=1172414692 date='2025-03-29T17:29:01Z' progress=0.964378 cache=1578.9MiB(11964898txo)\r\n\r\nAfter:\r\n> 2025-07-16T04:50:47Z UpdateTip: new best=00000000000000000001f49fb5fb37753c06d78f1a811d707aebf6194bb147e5 height=890000 version=0x25e9a000 log2_work=95.523053 tx=1172414692 date=2025-03-29T17:29:01Z progress=0.964378 cache=1578.9MiB(11964898txo)",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-07-16T18:00:47Z",
      "updated_at": "2025-10-20T13:59:04Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32996",
      "labels": [
        "Utils/log/libs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32996.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [nervana21](https://github.com/bitcoin/bitcoin/pull/32996#issuecomment-3081669227), [yuvicc](https://github.com/bitcoin/bitcoin/pull/32996#pullrequestreview-3260926110) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30342](https://github.com/bitcoin/bitcoin/pull/30342) (kernel, logging: Pass Logger instances to kernel objects by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T18:00:52Z"
        },
        {
          "user": "nervana21",
          "body": "tACK [b039305](https://github.com/bitcoin/bitcoin/pull/32996/commits/b039305d3590aaf84bfdf3b3547b9311897f52c7)\r\n\r\nBefore:\r\n\r\n> 2025-07-16T22:31:33Z UpdateTip: new best=000000000000000000022dabca47b7aabc24d93d0241536ca75dc528d08d5eba height=905352 version=0x20c26000 log2_work=95.713336 tx=1212933015 date='2025-07-13T11:06:38Z' progress=0.998857 cache=8.8MiB(61209txo)\r\n\r\nAfter:\r\n\r\n> 2025-07-16T22:54:20Z UpdateTip: new best=0000000000000000000186eed935e4ad209e7aaa4ceeb2542851feaf4b8d426f height=905353 version=0x21624000 log2_work=95.713348 tx=1212936957 date=2025-07-13T11:25:43Z progress=0.998856 cache=2.1MiB(14143txo)",
          "created_at": "2025-07-16T23:05:27Z"
        }
      ]
    },
    {
      "number": 32994,
      "title": "p2p: rename GetAddresses -> GetAddressesUnsafe",
      "body": "Rename GetAddresses to GetAddressesUnsafe to make it clearer that this function should only be used in trusted contexts. This helps avoid accidental privacy leaks by preventing the uncached version from being used in non-trusted scenarios, like P2P.\r\n\r\nAdditionally, better reflect in the documentation that the two methods should be used in different contexts.\r\nAlso update the outdated \"call the function without a parameter\" phrasing in the cached version. This wording was accurate when the cache was introduced in #18991, but became outdated after later commits (f26502e9fc8a669b30717525597e3f468eaecf79, 81b00f87800f40cb14f2131ff27668bd2bb9e551) added parameters to each\r\nfunction, and the previous commit changed the function naming completely.",
      "state": "closed",
      "user": "danielabrozzoni",
      "created_at": "2025-07-16T13:43:19Z",
      "updated_at": "2025-07-25T15:15:55Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/32994",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32994.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/32994#issuecomment-3102815266), [l0rinc](https://github.com/bitcoin/bitcoin/pull/32994#issuecomment-3104099469), [brunoerg](https://github.com/bitcoin/bitcoin/pull/32994#pullrequestreview-3044342437), [luisschwab](https://github.com/bitcoin/bitcoin/pull/32994#issuecomment-3105731244), [theStack](https://github.com/bitcoin/bitcoin/pull/32994#pullrequestreview-3053633002), [mzumsande](https://github.com/bitcoin/bitcoin/pull/32994#pullrequestreview-3055853811) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31650](https://github.com/bitcoin/bitcoin/pull/31650) (refactor: Avoid copies by using const references or by move-construction by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T13:43:24Z"
        },
        {
          "user": "brunoerg",
          "body": "I agree with @stickies-v. It's weird to have two functions with the same name but with a relevant behavior difference, renaming one of the functions seems appropriate. In any case, Concept ACK about improving the documentation.",
          "created_at": "2025-07-17T19:50:26Z"
        },
        {
          "user": "danielabrozzoni",
          "body": "@stickies-v @brunoerg thank you for the suggestion!\r\n\r\nI agree, I think renaming makes the code clearer and reduces the chances of accidentally using the uncached version and leaking addrman addresses :)\r\n\r\nI updated the PR title/description and pushed a commit to rename GetAddresses to GetAddressesUncached!\r\n",
          "created_at": "2025-07-18T14:12:34Z"
        },
        {
          "user": "danielabrozzoni",
          "body": "In my last push (df65b527f00cbf9fd6675bf22bb1285bfce24f66):\r\n- split changes into two commits (one for rename, one for docs)",
          "created_at": "2025-07-21T14:05:04Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK 1cb23997033c395d9ecd7bf2f54787b134485f41",
          "created_at": "2025-07-22T13:47:20Z"
        },
        {
          "user": "l0rinc",
          "body": "ACK 1cb23997033c395d9ecd7bf2f54787b134485f41",
          "created_at": "2025-07-22T17:53:08Z"
        },
        {
          "user": "luisschwab",
          "body": "ACK 1cb23997033c395d9ecd7bf2f54787b134485f41",
          "created_at": "2025-07-23T05:23:46Z"
        },
        {
          "user": "fanquake",
          "body": "cc @mzumsande ",
          "created_at": "2025-07-25T10:10:06Z"
        }
      ]
    },
    {
      "number": 32993,
      "title": "fuzz: wallet: add target for tx scanning",
      "body": "Tracking issue (#29901)\r\n\r\nThis PR adds a fuzz target for wallet tx scanning (`ScanForWalletTransactions`). Unfortunately, it's not a regression test for the issue #31474 since it would require a more complex scenario/async operations.",
      "state": "open",
      "user": "brunoerg",
      "created_at": "2025-07-16T13:15:08Z",
      "updated_at": "2025-12-06T09:20:21Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/32993",
      "labels": [
        "Tests",
        "Fuzzing"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32993.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Chand-ra](https://github.com/bitcoin/bitcoin/pull/32993#issuecomment-3619800359) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T13:15:13Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `fuzzer,address,undefined,integer, no depends`: https://github.com/bitcoin/bitcoin/runs/46096767347</sub>\n<sub>LLM reason (âœ¨ experimental): Fuzzer crash caused by signed integer overflow in chrono.h during fuzzing process.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-16T15:28:43Z"
        },
        {
          "user": "fanquake",
          "body": "https://cirrus-ci.com/task/4897452429410304?logs=ci#L6267:\r\n```bash\r\n[10:48:30.374] Run wallet_scan with args ['/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz', '-max_total_time=60']INFO: Running with entropic power schedule (0xFF, 100).\r\n[10:48:30.374] INFO: Seed: 1927962085\r\n[10:48:30.374] INFO: Loaded 1 modules   (634026 inline 8-bit counters): 634026 [0x5573df666fb8, 0x5573df701c62), \r\n[10:48:30.374] INFO: Loaded 1 PC tables (634026 PCs): 634026 [0x5573df701c68,0x5573e00ae708), \r\n[10:48:30.374] INFO: -max_len is not provided; libFuzzer will not generate inputs larger than 4096 bytes\r\n[10:48:30.374] /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:38: runtime error: signed integer overflow: -9223372036854775808 * 1000000000 cannot be represented in type 'long'\r\n[10:48:30.374]     #0 0x5573dc9108bd in std::chrono::duration<long, std::ratio<1l, 1000000000l>> std::chrono::__duration_cast_impl<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::ratio<1000000000l, 1l>, long, false, true>::__cast<long, std::ratio<1l, 1l>>(std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:38\r\n[10:48:30.374]     #1 0x5573dc9108bd in std::enable_if<__is_duration<std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::value, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::type std::chrono::duration_cast<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, long, std::ratio<1l, 1l>>(std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:287:11\r\n[10:48:30.374]     #2 0x5573dc9108bd in std::chrono::duration<long, std::ratio<1l, 1000000000l>>::duration<long, std::ratio<1l, 1l>, void>(std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:582:10\r\n[10:48:30.374]     #3 0x5573dc9108bd in std::common_type<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::chrono::duration<long, std::ratio<1l, 1l>>>::type std::chrono::operator+<long, std::ratio<1l, 1000000000l>, long, std::ratio<1l, 1l>>(std::chrono::duration<long, std::ratio<1l, 1000000000l>> const&, std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:702:36\r\n[10:48:30.374]     #4 0x5573dc9108bd in std::chrono::time_point<std::chrono::_V2::steady_clock, std::common_type<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::chrono::duration<long, std::ratio<1l, 1l>>>::type> std::chrono::operator+<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>, long, std::ratio<1l, 1l>>(std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> const&, std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:1107:47\r\n[10:48:30.374]     #5 0x5573dc9108bd in wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1::operator()() const /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/./wallet/test/fuzz/scan.cpp:66:44\r\n[10:48:30.374]     #6 0x5573dc9108bd in std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> std::__invoke_impl<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&>(std::__invoke_other, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:61:14\r\n[10:48:30.374]     #7 0x5573dc9108bd in std::enable_if<is_invocable_r_v<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&>, std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>>::type std::__invoke_r<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&>(wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:114:9\r\n[10:48:30.374]     #8 0x5573dc9108bd in std::_Function_handler<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> (), wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1>::_M_invoke(std::_Any_data const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:290:9\r\n[10:48:30.374]     #9 0x5573dd067392 in std::function<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> ()>::operator()() const /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n[10:48:30.374]     #10 0x5573dd067392 in wallet::WalletRescanReserver::now() const /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/wallet/./wallet/wallet.h:1110:52\r\n[10:48:30.374]     #11 0x5573dd067392 in wallet::CWallet::ScanForWalletTransactions(uint256 const&, int, std::optional<int>, wallet::WalletRescanReserver const&, bool, bool) /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/wallet/./wallet/wallet.cpp:1781:32\r\n[10:48:30.374]     #12 0x5573dc907a87 in wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>) /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/./wallet/test/fuzz/scan.cpp:108:33\r\n[10:48:30.374]     #13 0x5573dc949cee in std::function<void (std::span<unsigned char const, 18446744073709551615ul>)>::operator()(std::span<unsigned char const, 18446744073709551615ul>) const /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n[10:48:30.374]     #14 0x5573dc949cee in test_one_input(std::span<unsigned char const, 18446744073709551615ul>) /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/util/./test/fuzz/fuzz.cpp:88:5\r\n[10:48:30.374]     #15 0x5573dc949cee in LLVMFuzzerTestOneInput /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/util/./test/fuzz/fuzz.cpp:216:5\r\n[10:48:30.374]     #16 0x5573dbf4e75f in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d8075f) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n[10:48:30.374]     #17 0x5573dbf4f971 in fuzzer::Fuzzer::ReadAndExecuteSeedCorpora(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d81971) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n[10:48:30.374]     #18 0x5573dbf50000 in fuzzer::Fuzzer::Loop(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d82000) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n[10:48:30.374]     #19 0x5573dbf3c655 in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d6e655) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n[10:48:30.374]     #20 0x5573dbf68a66 in main (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d9aa66) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n[10:48:30.374]     #21 0x7fe3a629b1c9  (/lib/x86_64-linux-gnu/libc.so.6+0x2a1c9) (BuildId: 282c2c16e7b6600b0b22ea0c99010d2795752b5f)\r\n[10:48:30.374]     #22 0x7fe3a629b28a in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2a28a) (BuildId: 282c2c16e7b6600b0b22ea0c99010d2795752b5f)\r\n[10:48:30.374]     #23 0x5573dbf30a94 in _start (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d62a94) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n[10:48:30.374] \r\n[10:48:30.374] SUMMARY: UndefinedBehaviorSanitizer: signed-integer-overflow /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:38 \r\n[10:48:30.374] MS: 0 ; base unit: 0000000000000000000000000000000000000000\r\n[10:48:30.375] \r\n[10:48:30.375] \r\n[10:48:30.375] artifact_prefix='./'; Test unit written to ./crash-da39a3ee5e6b4b0d3255bfef95601890afd80709\r\n[10:48:30.375] Base64: \r\n```",
          "created_at": "2025-07-16T15:38:48Z"
        },
        {
          "user": "brunoerg",
          "body": "> https://cirrus-ci.com/task/4897452429410304?logs=ci#L6267:\r\n> \r\n> ```shell\r\n> [10:48:30.374] Run wallet_scan with args ['/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz', '-max_total_time=60']INFO: Running with entropic power schedule (0xFF, 100).\r\n> [10:48:30.374] INFO: Seed: 1927962085\r\n> [10:48:30.374] INFO: Loaded 1 modules   (634026 inline 8-bit counters): 634026 [0x5573df666fb8, 0x5573df701c62), \r\n> [10:48:30.374] INFO: Loaded 1 PC tables (634026 PCs): 634026 [0x5573df701c68,0x5573e00ae708), \r\n> [10:48:30.374] INFO: -max_len is not provided; libFuzzer will not generate inputs larger than 4096 bytes\r\n> [10:48:30.374] /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:38: runtime error: signed integer overflow: -9223372036854775808 * 1000000000 cannot be represented in type 'long'\r\n> [10:48:30.374]     #0 0x5573dc9108bd in std::chrono::duration<long, std::ratio<1l, 1000000000l>> std::chrono::__duration_cast_impl<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::ratio<1000000000l, 1l>, long, false, true>::__cast<long, std::ratio<1l, 1l>>(std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:38\r\n> [10:48:30.374]     #1 0x5573dc9108bd in std::enable_if<__is_duration<std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::value, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>::type std::chrono::duration_cast<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, long, std::ratio<1l, 1l>>(std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:287:11\r\n> [10:48:30.374]     #2 0x5573dc9108bd in std::chrono::duration<long, std::ratio<1l, 1000000000l>>::duration<long, std::ratio<1l, 1l>, void>(std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:582:10\r\n> [10:48:30.374]     #3 0x5573dc9108bd in std::common_type<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::chrono::duration<long, std::ratio<1l, 1l>>>::type std::chrono::operator+<long, std::ratio<1l, 1000000000l>, long, std::ratio<1l, 1l>>(std::chrono::duration<long, std::ratio<1l, 1000000000l>> const&, std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:702:36\r\n> [10:48:30.374]     #4 0x5573dc9108bd in std::chrono::time_point<std::chrono::_V2::steady_clock, std::common_type<std::chrono::duration<long, std::ratio<1l, 1000000000l>>, std::chrono::duration<long, std::ratio<1l, 1l>>>::type> std::chrono::operator+<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>, long, std::ratio<1l, 1l>>(std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> const&, std::chrono::duration<long, std::ratio<1l, 1l>> const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:1107:47\r\n> [10:48:30.374]     #5 0x5573dc9108bd in wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1::operator()() const /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/./wallet/test/fuzz/scan.cpp:66:44\r\n> [10:48:30.374]     #6 0x5573dc9108bd in std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> std::__invoke_impl<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&>(std::__invoke_other, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:61:14\r\n> [10:48:30.374]     #7 0x5573dc9108bd in std::enable_if<is_invocable_r_v<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&>, std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>>::type std::__invoke_r<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>>, wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&>(wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/invoke.h:114:9\r\n> [10:48:30.374]     #8 0x5573dc9108bd in std::_Function_handler<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> (), wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>)::$_1>::_M_invoke(std::_Any_data const&) /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:290:9\r\n> [10:48:30.374]     #9 0x5573dd067392 in std::function<std::chrono::time_point<std::chrono::_V2::steady_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l>>> ()>::operator()() const /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n> [10:48:30.374]     #10 0x5573dd067392 in wallet::WalletRescanReserver::now() const /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/wallet/./wallet/wallet.h:1110:52\r\n> [10:48:30.374]     #11 0x5573dd067392 in wallet::CWallet::ScanForWalletTransactions(uint256 const&, int, std::optional<int>, wallet::WalletRescanReserver const&, bool, bool) /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/wallet/./wallet/wallet.cpp:1781:32\r\n> [10:48:30.374]     #12 0x5573dc907a87 in wallet::(anonymous namespace)::wallet_scan_fuzz_target(std::span<unsigned char const, 18446744073709551615ul>) /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/./wallet/test/fuzz/scan.cpp:108:33\r\n> [10:48:30.374]     #13 0x5573dc949cee in std::function<void (std::span<unsigned char const, 18446744073709551615ul>)>::operator()(std::span<unsigned char const, 18446744073709551615ul>) const /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/std_function.h:591:9\r\n> [10:48:30.374]     #14 0x5573dc949cee in test_one_input(std::span<unsigned char const, 18446744073709551615ul>) /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/util/./test/fuzz/fuzz.cpp:88:5\r\n> [10:48:30.374]     #15 0x5573dc949cee in LLVMFuzzerTestOneInput /ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/src/test/fuzz/util/./test/fuzz/fuzz.cpp:216:5\r\n> [10:48:30.374]     #16 0x5573dbf4e75f in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d8075f) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n> [10:48:30.374]     #17 0x5573dbf4f971 in fuzzer::Fuzzer::ReadAndExecuteSeedCorpora(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d81971) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n> [10:48:30.374]     #18 0x5573dbf50000 in fuzzer::Fuzzer::Loop(std::vector<fuzzer::SizedFile, std::allocator<fuzzer::SizedFile>>&) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d82000) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n> [10:48:30.374]     #19 0x5573dbf3c655 in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d6e655) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n> [10:48:30.374]     #20 0x5573dbf68a66 in main (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d9aa66) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n> [10:48:30.374]     #21 0x7fe3a629b1c9  (/lib/x86_64-linux-gnu/libc.so.6+0x2a1c9) (BuildId: 282c2c16e7b6600b0b22ea0c99010d2795752b5f)\r\n> [10:48:30.374]     #22 0x7fe3a629b28a in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2a28a) (BuildId: 282c2c16e7b6600b0b22ea0c99010d2795752b5f)\r\n> [10:48:30.374]     #23 0x5573dbf30a94 in _start (/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz+0x1d62a94) (BuildId: 8f6fd4c0e394fcf4793e14ca683880501003032e)\r\n> [10:48:30.374] \r\n> [10:48:30.374] SUMMARY: UndefinedBehaviorSanitizer: signed-integer-overflow /usr/lib/gcc/x86_64-linux-gnu/13/../../../../include/c++/13/bits/chrono.h:225:38 \r\n> [10:48:30.374] MS: 0 ; base unit: 0000000000000000000000000000000000000000\r\n> [10:48:30.375] \r\n> [10:48:30.375] \r\n> [10:48:30.375] artifact_prefix='./'; Test unit written to ./crash-da39a3ee5e6b4b0d3255bfef95601890afd80709\r\n> [10:48:30.375] Base64: \r\n> ```\r\n\r\nFixed, thanks.",
          "created_at": "2025-07-16T18:13:58Z"
        },
        {
          "user": "Chand-ra",
          "body": "tACK [747d094](https://github.com/bitcoin/bitcoin/pull/32993/commits/747d0942413b26f0260126dfecf4f960a5e53a38)\r\n\r\nThe target runs without crashing.",
          "created_at": "2025-12-06T09:20:17Z"
        }
      ]
    },
    {
      "number": 32990,
      "title": "wallet: remove outdated `pszSkip` arg of database `Rewrite` func",
      "body": "This argument might have been used in the legacy wallets, but I don't see any implementation using this argument in the SQLite wallets. Removing it cleans up the code a bit.",
      "state": "closed",
      "user": "rkrux",
      "created_at": "2025-07-16T09:04:45Z",
      "updated_at": "2025-07-22T23:41:29Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32990",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32990.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [brunoerg](https://github.com/bitcoin/bitcoin/pull/32990#pullrequestreview-3030870760), [achow101](https://github.com/bitcoin/bitcoin/pull/32990#issuecomment-3105112040) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#33032](https://github.com/bitcoin/bitcoin/pull/33032) (wallet, test: Replace MockableDatabase with in-memory SQLiteDatabase by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T09:04:50Z"
        },
        {
          "user": "rkrux",
          "body": "I noted this while reviewing #28333.",
          "created_at": "2025-07-16T09:12:21Z"
        },
        {
          "user": "achow101",
          "body": "ACK 2dfeb6668cb2e98e3dccf946af084e8a08e1fab5",
          "created_at": "2025-07-22T23:32:14Z"
        }
      ]
    },
    {
      "number": 32989,
      "title": "ci: Migrate CI to hosted Cirrus Runners",
      "body": "This changeset migrates all current self-hosted CI jobs over to hosted [Cirrus Runners](https://cirrus-runners.app/).\r\n\r\nThese runners cost a flat rate of $150/month, and we qualify for an open source discount of 50%. Therefore they are $75/month/runner.\r\n\r\nOne \"runner\" should more accurately be thought of in terms of the number of vCPU you are purchasing: https://cirrus-runners.app/pricing/ or in terms of \"concurrency\", where 1 runners gets you 1.0 concurrency.\r\ne.g. a Linux x86 Runner gets you 16 vCPU (1.0 concurrency) and 64GB RAM to be provisioned as you choose, amongst one or more jobs.\r\n\r\nCirrus Runners currently only support Linux (x86 and Arm64) and MacOS (Arm64).\r\nThis changeset does **not** move the existing Github Actions native MacOS runners away from being run on Github's infrastructure. This could be a follow up optimisation.\r\n\r\nRuns from this changeset using Cirrus Runners can be found at: https://github.com/testing-cirrus-runners/bitcoin2/actions which shows an uncached run on master ([CI#1](https://github.com/testing-cirrus-runners/bitcoin2/actions/runs/16298637161)), an outside pull request ([CI#3](https://github.com/testing-cirrus-runners/bitcoin2/actions/runs/16303305483?pr=1)) and an updated push to master ([CI#4](https://github.com/testing-cirrus-runners/bitcoin2/actions/runs/16304182527)).\r\n\r\nThese workflows were run on 10 runners, and we would recommend purchasing a similar number for our CI in this repo to achieve the speed and concurrency we expect.\r\n\r\nWe include some optional performance commits, but these could be split out and made into followups or dropped entirely.\r\n\r\n\r\n## Benefits\r\n\r\n### Maintenance\r\n\r\nAs we are not self-hosting, nobody needs to maintain servers, disks etc.\r\n\r\n### Bus factor\r\n\r\nCurrently we have a very small number of people with the know-how working on server setup and maintenance. This setup fixes that so that \"anyone\" familiar with GitHub-style CI systems can work on it.\r\n\r\n### Scaling\r\n\r\nThese do _not_ \"auto-scale\"/have \"unlimited concurrency\" like some solutions, but if we want more workers/cpu to increase parallism or increase the runner size of certain jobs for a speed-up we can simply buy more concurrency using the web interface.\r\n\r\n### Speed\r\n\r\nRuntimes aproximate current runtimes pretty well, with some jobs being faster.\r\nCaching improvements on pull request (re-runs) are left as future optimisations from the current changeset (see below).\r\n\r\n### GitHub workflow syntax\r\n\r\nWith a migration to the more-commonly-used GitHub workflow syntax, migration to other providers in the future is often as simple as a one-line change (and installing a new GitHub app to the repo).\r\n\r\nIf we decide to self-host again, then we can also self-host GitHub runners (using https://github.com/actions/runner) and maintain new GH-style CI syntax.\r\n\r\n### Reporting\r\n\r\nGitHub workflows provide nicer built-in reporting directly on the \"Checks\" page of a pr. This includes more-detailed action reporting, and a host of pretty nice integrated features, such as [Workflow Commands](https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/workflow-commands-for-github-actions) for creating annotations that can print messages during runs. See for example at the bottom of this window where we report `ccache` hitrate, if it was below 90%: https://github.com/testing-cirrus-runners/bitcoin/actions/runs/16163449125?pr=1\r\n\r\nThese could be added conditionally into our CI scripts to report interesting or other information.\r\n\r\n## Costs\r\n\r\n### Financial\r\n\r\nRelative to competitors Cirrus runners are cheap for the hosted CI-world. However these are likely more expensive than our current setup, or a well-configured (new) self-hosted setup.\r\n\r\nIf we started with 10 runners to be shared amongst all migrated jobs, this would total $750/mo = $9000/yr.\r\n\r\nNote that we are not trying to comptete here on cost directly.\r\n\r\n### Dependencies\r\n\r\nWe would be dependent on Cirrus infra.\r\n\r\n## Forks\r\n\r\n- Forks should be able to run CI without paid Cirrus runners. This behaviour is achieved through a rather verbose `runs-on:` directive.\r\n  - This directive hardcodes the main repo (unfortunately you cannot use the `env` github context in this field in particular, for some reason).\r\n  - This directive also allows for a fork to patch the `runs-on:` field in the ci.yml file if they want to use Cirrus Runners too.\r\n  - The workflow otherwise will fallback to the GitHub free runners on forks.\r\n- This cirrus cache action transparently falls back to github actions cache when not running on cirrus, so forks will get some free github caching (10GB per repo).\r\n\r\nAll jobs work on forks, but will run (slowly) on GitHub native free hosted runners, instead of Cirrus runners. They will also suffer from poor cache hit-rates, but there's nothing that can be done about that, and the situtation is an improvement on today.\r\n\r\n## Migration process\r\n\r\nThe main org should also, in addition to pulling code changes:\r\n\r\n1. Permit the actions `docker/setup-buildx-action@v3` and `docker/login-action@v3` to be run in this repo.\r\n\r\n## Caching\r\n\r\nFor the number of CI jobs we have, cache usage on GitHub would be an issue as GH only provides 10GB of cache space, **per repo**. However cirrus provides [10 GB per runner](https://cirrus-runners.app/setup/#speeding-up-the-cache), which scales better with the number of runners.\r\n\r\nThe `cirruslabs/action/[restore|save]` action we use here redirects this to Cirrus' own cache and is both faster and larger.\r\n\r\nIn the case that user is running CI on a fork, the cirrus cache falls back transparently to GitHub default cache without error.\r\n\r\n### ccache, depends-sources, built-depends\r\n\r\n- Cached as blobs via `cirruslabs/actions/cache` action.\r\n- Current implementation:\r\n  - On `push`: restores and saves caches.\r\n  - On `pull_request`: restores but does **not** save caches.\r\n\r\nThis means a new pull request should hit a _pretty relevant_ cache.\r\nOld pull requests **which are not being rebased on master** may suffer from lower cache hit-rate.\r\n\r\nIf we save caches on all pull request runs we run the risk of evicting recent (and more relevant) cache blobs.\r\nIt may be possible in a future optimisation to widen this to save on pull request runs too, but it will also depend on how many runners we provision and what cache churn rates are like in the main repo.\r\n\r\n### Docker build layer caching\r\n\r\n- Cached using the `gha` cache backend\r\n- These cache blobs compete for space with `ccache`, `depends-sources` and `depends-built` caches\r\n- `gha` cache allows `--cache-from` to be used from pull requests, which does not work using a registry cache type (technically we could use a public read-only token to get this working, but that feels wrong)\r\n\r\nThis backend does network i/o and so are marginally slower than our current disk i/o cache.\r\n\r\n## But what about... `x`?\r\n\r\nWe have tested many other providers, including [Runs-on](https://runs-on.com/), [Buildjet](https://buildjet.com/), [WarpBuild](https://www.warpbuild.com/), and GitHub hosted runners (and investigated even more). But they all fall short in one-way or another.\r\n\r\n- Runs-On and Buildjet (and others) require installing GH apps with much too-liberal permissions (e.g. `Administration: Read|Write`) for our use-case.\r\n- GitHub hosted runners suffer from all of high costs, lower speed, small cache, and the requirement for a GitHub Teams subscription.\r\n- WarpBuild seems to be simply too expensive.\r\n\r\n## TODO:\r\n\r\nTo complete migration from self-hosted to hosted for this repo, the backport branches `27.x`, `28.x` and `29.x` would also need their CI ported, but these are left for followups to this change (and pending review/changes here first).\r\n\r\n-----\r\n\r\nWork and experimentation undertaken with m3dwards ",
      "state": "closed",
      "user": "willcl-ark",
      "created_at": "2025-07-16T08:39:41Z",
      "updated_at": "2025-09-04T13:18:38Z",
      "comments": 46,
      "url": "https://github.com/bitcoin/bitcoin/pull/32989",
      "labels": [
        "Tests"
      ]
    },
    {
      "number": 32988,
      "title": "test: Trigger UB in wallet crosschain migration",
      "body": "",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-07-16T07:04:57Z",
      "updated_at": "2025-07-16T07:54:30Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32988",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32988.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T07:05:02Z"
        }
      ]
    },
    {
      "number": 32987,
      "title": "init: [gui] Avoid UB/crash in InitAndLoadChainstate",
      "body": "`InitAndLoadChainstate` is problematic, when called twice in the GUI. This can happen when it returns a failure and the user selects an interactive reindex.\r\n\r\nThere are several bugs that have been introduced since the last time this was working correctly:\r\n\r\n* The first one is a crash (assertion failure), which happens due to a cached tip block in the notifiications from the previous run. See https://github.com/bitcoin/bitcoin/pull/31346#discussion_r2207914726\r\n* The second one is UB (use-after-free), which happens because the block index db in the blockmanager is not reset. See https://github.com/bitcoin/bitcoin/pull/30965#discussion_r2207822121\r\n\r\nFix both bugs by resetting any dirty state in `InitAndLoadChainstate`.\r\n\r\nAlso, add a test, because I don't really want to keep testing this manually every time. (A failing test run can be seen in https://github.com/bitcoin/bitcoin/pull/32979/checks)",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-07-16T05:18:47Z",
      "updated_at": "2025-08-01T15:38:56Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/32987",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32987.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32987#pullrequestreview-3035308818), [achow101](https://github.com/bitcoin/bitcoin/pull/32987#issuecomment-3105070165), [mzumsande](https://github.com/bitcoin/bitcoin/pull/32987#pullrequestreview-3069373388) |\n| Concept ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/32987#issuecomment-3084665767) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26022](https://github.com/bitcoin/bitcoin/pull/26022) (Add util::ResultPtr class by ryanofsky)\n* [#25665](https://github.com/bitcoin/bitcoin/pull/25665) (refactor: Add util::Result failure values, multiple error and warning messages by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T05:18:51Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `lint`: https://github.com/bitcoin/bitcoin/runs/46066804349</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by a lint error: an unused import of 'os' in a Python test script.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-16T05:22:34Z"
        },
        {
          "user": "hebasto",
          "body": "Concept ACK.",
          "created_at": "2025-07-17T16:19:01Z"
        },
        {
          "user": "fanquake",
          "body": "Is there any way to write an actual GUI test for this? Having to add an obscure, single-use option to bitcoind, to simulate crashing behaviour in the GUI, seems like a last resort?",
          "created_at": "2025-07-17T16:41:50Z"
        },
        {
          "user": "hebasto",
          "body": "> Given that the need for a reindex should be somewhat rare anyway, would it really be much of a degradation of user experience to remove the feature and have GUI users restart with `-reindex` non-interactively like they would have to with `bitcoind`?\r\n\r\nI believe it would.",
          "created_at": "2025-07-17T16:58:02Z"
        },
        {
          "user": "maflcko",
          "body": "> seems like it got broken multiple times in the past without users really noticing / complaining?\r\n\r\nThey'd still see the error message about the `-reindex`, before the crash. It seems easy to dismiss a crash as hardware fault and not software fault after you've seen a corruption warning.\r\n\r\n\r\n\r\n> Is there any way to write an actual GUI test for this? Having to add an obscure, single-use option to bitcoind, to simulate crashing behaviour in the GUI, seems like a last resort?\r\n\r\nSwitched to the test option, which is now an overhead of two lines of \"real\" code. A gui unit test may theoretically be possible, but it has the downside that it won't be covered if the gui is disabled in the build, so a dev hitting an error here may have  a harder time to reproduce?",
          "created_at": "2025-07-18T05:16:59Z"
        },
        {
          "user": "achow101",
          "body": "ACK fac90e5261b811739ada56e06ea793a12f9c2c3d",
          "created_at": "2025-07-22T23:01:44Z"
        },
        {
          "user": "luke-jr",
          "body": "Alternative to the test option, Core could just add support for reindex=auto (#22072 / #26674)",
          "created_at": "2025-07-29T18:37:53Z"
        }
      ]
    },
    {
      "number": 32986,
      "title": "Adds transaction propagation information to mempool transactions",
      "body": "Currently, we store the time transactions enter the mempool (in `CTXMempoolEntry`) as a timestamp with second precision. \r\n\r\nThis patch stores data more precisely (microsecond granularity), as well as optionally storing the timestamp of the first inventory message received about each transaction in the pool, while still maintaining the previous interface for backwards compatibility (`nTime` is unchanged, and `nTimeUs` and `nFirstInvTime` are added with microsecond precision).\r\n\r\nThis is really useful when measuring transaction propagation (e.g. in simulated networks) since there is no easy way of checking when a transaction was first announced or received by the node.\r\n\r\nI've tried to make the change as minimal as possible, hence why the use of an intermediate map in `PeerManager` instead of passing the time down to `ProcessValidTx`, which in turn would require adding it to `ProcessOrphanTx`, `ProcessNewPackage`, ...",
      "state": "closed",
      "user": "sr-gi",
      "created_at": "2025-07-16T01:47:27Z",
      "updated_at": "2025-07-16T18:33:33Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32986",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32986.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/32986#pullrequestreview-3025461492) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\nPossible typos and grammar issues:\n\n- transascation -> transaction [spelling error]\n- announcement (singular) -> announcements (plural) [subjectâ€“noun agreement]\n- remote it -> remove it [incorrect verb, should be â€œremoveâ€ rather than â€œremoteâ€]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-07-16T01:47:33Z"
        },
        {
          "user": "sr-gi",
          "body": "I'm currently seeking conceptual feedback. While I believe this is very useful for measuring transaction propagation and evaluating network improvements, I'm unsure whether the added complexity is justified, given that it's unlikely to be used beyond that specific context.",
          "created_at": "2025-07-16T01:50:56Z"
        },
        {
          "user": "stickies-v",
          "body": "> I'm unsure whether the added complexity is justified, given that it's unlikely to be used beyond that specific context.\r\n\r\nWould adding tracepoint(s) be a suitable alternative? More overhead for the user, but probably much less in this repo?",
          "created_at": "2025-07-16T12:49:31Z"
        },
        {
          "user": "sr-gi",
          "body": "> > I'm unsure whether the added complexity is justified, given that it's unlikely to be used beyond that specific context.\r\n> \r\n> Would adding tracepoint(s) be a suitable alternative? More overhead for the user, but probably much less in this repo?\r\n\r\nI think existing tracepoints can be used as the base to build something similar outside Core, like `net:outbound_message` and `net:inbound_message`. Similarly, a log grabber (grepper?) can also work in some cases. The issue I see with both solutions* is making it work at scale. When working with several hundred (or even close to thousands) nodes controlled from a single commander, these solutions have proven unreliable.\r\n\r\n\\* I haven't personally tried building this using tracepoints, but I have by collecting logs and it becomes a mess.",
          "created_at": "2025-07-16T14:20:03Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Task `fuzzer,address,undefined,integer, no depends`: https://github.com/bitcoin/bitcoin/runs/46101237165</sub>\n<sub>LLM reason (âœ¨ experimental): The CI failure is caused by a runtime error due to signed integer overflow in the standard chrono header during fuzz testing.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-07-16T16:28:51Z"
        },
        {
          "user": "sr-gi",
          "body": "> I'm generally not in favour of making bespoke changes to production code or extending the public interface just to facilitate tests, monitoring, ... if there exists a workaround, especially for temporary projects. In this case, after speaking with @sr-gi offline a bit more, it seems it seems like tracepoints, logging, small patchsets, ... are feasible alternatives, so I'm Concept NACK on this one. (but I am open to making minimal changes to ensure the necessary erlay simulations can be ran)\r\n\r\nI think I agree with you. I may just maintain a smaller patch that can be applied to any branch for simulation purposes, even if it's more hacky.",
          "created_at": "2025-07-16T18:33:32Z"
        }
      ]
    },
    {
      "number": 32985,
      "title": "wallet: Always rewrite tx records during migration",
      "body": "Since loading a wallet may change some parts of tx records (e.g. adding nOrderPos), we should rewrite the records instead of copying them so that the automatic upgrade does not need to be performed again when the wallet is loaded.\r\n\r\nThis is useful for future PRs I'm working on where we need to be sure about what data exists in a tx record in descriptor wallets.",
      "state": "open",
      "user": "achow101",
      "created_at": "2025-07-16T00:01:46Z",
      "updated_at": "2025-12-23T18:39:29Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32985",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32985.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/32985#pullrequestreview-3388443761) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-07-16T00:01:51Z"
        },
        {
          "user": "Eunovo",
          "body": "I'm assuming the PR description is referring to the changes `ReorderTransactions()` makes during `LoadWallet()`. If this is the case, these changes are persisted during `ReorderTransactions()`, so copying the records to the SQLite DB when we do `MigrateToSQLite` should already transfer the changes to the new DB. Why do we need to rewrite the TX records? What in-memory changes are we trying to persist to the new DB?",
          "created_at": "2025-10-29T14:02:37Z"
        },
        {
          "user": "achow101",
          "body": "> these changes are persisted during `ReorderTransactions()`\r\n\r\nNot for migration since legacy wallets are only opened with a `BerkeleyRODatabase` which does not write anything.",
          "created_at": "2025-11-10T15:55:34Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32995,
      "title": "fuzz: AddressSanitizer: odr-violation typeinfo name for CCoinsViewBacked",
      "body": "```\n# clang++ --version\nclang version 20.1.8 (Fedora 20.1.8-1.fc43)\nTarget: aarch64-redhat-linux-gnu\n\nmake -C depends/ NO_QT=1 NO_ZMQ=1 NO_USDT=1 NO_WALLET=1 NO_IPC=1 AR=llvm-ar NM=llvm-nm RANLIB=llvm-ranlib STRIP=llvm-strip LDFLAGS=\"-fuse-ld=lld\" CC=clang CXX=clang++\ncmake -B build --toolchain /root/bitcoin/depends/aarch64-unknown-linux-gnu/toolchain.cmake -DBUILD_FOR_FUZZING=ON -DSANITIZERS=address -DAPPEND_CFLAGS=\"-flto=full\" -DAPPEND_CXXFLAGS=\"-flto=full\" -DAPPEND_LDFLAGS=\"-flto=full\"\ncmake --build build\n```\n```\n./build/bin/fuzz\n=================================================================\n==987273==ERROR: AddressSanitizer: odr-violation (0xab71fdf737c0):\n  [1] size=19 'typeinfo name for CCoinsViewBacked' /root/bitcoin/src/coins.cpp in /root/bitcoin/build/bin/fuzz\n  [2] size=19 'typeinfo name for CCoinsViewBacked' /root/bitcoin/src/coins.cpp in /root/bitcoin/build/bin/fuzz\nThese globals were registered at these points:\n  [1]:\n    #0 0xab71fcd09e3c in __asan_register_globals (/root/bitcoin/build/bin/fuzz+0x2d9e3c) (BuildId: f2dc106e95ba2dafe63dc7170e17e7f0baf3ce0a)\n    #1 0xab71fcd0aef4 in __asan_register_elf_globals (/root/bitcoin/build/bin/fuzz+0x2daef4) (BuildId: f2dc106e95ba2dafe63dc7170e17e7f0baf3ce0a)\n    #2 0xab71fccf64ac in _start (/root/bitcoin/build/bin/fuzz+0x2c64ac) (BuildId: f2dc106e95ba2dafe63dc7170e17e7f0baf3ce0a)\n\n  [2]:\n    #0 0xab71fcd09e3c in __asan_register_globals (/root/bitcoin/build/bin/fuzz+0x2d9e3c) (BuildId: f2dc106e95ba2dafe63dc7170e17e7f0baf3ce0a)\n    #1 0xab71fcd0aef4 in __asan_register_elf_globals (/root/bitcoin/build/bin/fuzz+0x2daef4) (BuildId: f2dc106e95ba2dafe63dc7170e17e7f0baf3ce0a)\n    #2 0xab71fccf64ac in _start (/root/bitcoin/build/bin/fuzz+0x2c64ac) (BuildId: f2dc106e95ba2dafe63dc7170e17e7f0baf3ce0a)\n\n==987273==HINT: if you don't care about these errors you may set ASAN_OPTIONS=detect_odr_violation=0\nSUMMARY: AddressSanitizer: odr-violation: global 'typeinfo name for CCoinsViewBacked' at /root/bitcoin/src/coins.cpp in /root/bitcoin/build/bin/fuzz\n==987273==ABORTING\n```\n\nNoticed while retrying `-flto` with oss-fuzz. Saw something similar there, under `-O1`:\n```bash\n[100%] Built target fuzz\n+ WRITE_ALL_FUZZ_TARGETS_AND_ABORT=/tmp/a\n+ ./build_fuzz/bin/fuzz\n=================================================================\n==8668==ERROR: AddressSanitizer: odr-violation (0x55c825a8e0a0):\n  [1] size=20 'typeinfo name for leveldb::Snapshot' /src/bitcoin-core/src/leveldb/db/db_impl.cc in /src/bitcoin-core/build_fuzz/bin/fuzz\n  [2] size=20 'typeinfo name for leveldb::Snapshot' /src/bitcoin-core/src/leveldb/db/db_impl.cc in /src/bitcoin-core/build_fuzz/bin/fuzz\nThese globals were registered at these points:\n  [1]:\n    #0 0x55c82338e5a6 in __asan_register_globals /src/llvm-project/compiler-rt/lib/asan/asan_globals.cpp:369:3\n    #1 0x55c82338f6c9 in __asan_register_elf_globals /src/llvm-project/compiler-rt/lib/asan/asan_globals.cpp:352:3\n    #2 0x55c8255c24ec in __libc_csu_init (/src/bitcoin-core/build_fuzz/bin/fuzz+0x32724ec)\n\n  [2]:\n    #0 0x55c82338e5a6 in __asan_register_globals /src/llvm-project/compiler-rt/lib/asan/asan_globals.cpp:369:3\n    #1 0x55c82338f6c9 in __asan_register_elf_globals /src/llvm-project/compiler-rt/lib/asan/asan_globals.cpp:352:3\n    #2 0x55c8255c24ec in __libc_csu_init (/src/bitcoin-core/build_fuzz/bin/fuzz+0x32724ec)\n\n==8668==HINT: if you don't care about these errors you may set ASAN_OPTIONS=detect_odr_violation=0\nSUMMARY: AddressSanitizer: odr-violation: global 'typeinfo name for leveldb::Snapshot' at /src/bitcoin-core/src/leveldb/db/db_impl.cc in /src/bitcoin-core/build_fuzz/bin/fuzz\n==8668==ABORTING\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-07-16T15:54:15Z",
      "updated_at": "2025-11-10T11:00:50Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/32995",
      "labels": [
        "Fuzzing"
      ],
      "comment_list": [
        {
          "user": "fanquake",
          "body": "This was either solved @ 21.1.x or user error.",
          "created_at": "2025-11-10T10:34:32Z"
        }
      ]
    },
    {
      "number": 32991,
      "title": "ci: improve \"test each commit\" job to handle more complex scenarios",
      "body": "In #28122, I start by updating the libsecp subtree with `git subtree pull --prefix src/secp256k1 <myfork> <mybranch> --squash`. When rebasing on this commit, I often need to use something like:\n\n```\ngit rebase --rebase-merges --strategy subtree -X theirs\n```\n\n.. which Just Works. However, now the CI fails when running:\n\n```\ngit rebase --exec 'git merge --no-commit ...'\n```\n\n.. as seen in https://github.com/bitcoin/bitcoin/actions/runs/16315746903/job/46081155541?pr=28122.\n\nOpening this issue to see if anyone has any ideas on this can be improved. I took a look at the job and didn't seen an obvious fix, but mostly because the logic for determining the list of commits seems very specific and I wasn't sure why its done that way.",
      "state": "closed",
      "user": "josibake",
      "created_at": "2025-07-16T10:22:50Z",
      "updated_at": "2025-07-17T16:29:15Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/issues/32991",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "That's interesting. For other subtree merges, it does seem to work.\n\n* E.g. https://github.com/bitcoin/bitcoin/actions/runs/16022448902/job/45202410762?pr=32856#step:7:1, where it correctly skips over all commits, because after the merge commit, there is only one commit.\n* E.g. https://github.com/bitcoin/bitcoin/actions/runs/16008106824/job/45159350306?pr=32345#step:7:19, where it correctly starts at `commit f8fd3959d51f6f80b428828c4fd965e06a8fa19e` (after the merge) and stops at `commit 008f4ae01ebb7b2cd8bc95b5ea5afd65905db749` (https://github.com/bitcoin/bitcoin/actions/runs/16008106824/job/45159350306?pr=32345#step:7:6009, the second-to-last commit)\n\nIs your subtree merge commit correct? Does it also happen when you recreate the subtree merge commit from scratch?\n",
          "created_at": "2025-07-16T10:52:17Z"
        },
        {
          "user": "josibake",
          "body": "> For other subtree merges, it does seem to work\n\nAFAICT, this only happens when files in the subtree have been changed, and files in the main repo with the same name have also been changed, i.e., `CMakePresets.json` from the failure I linked. This file is in the bitcoin core root and the secp256k1 root.\n\n> Is your subtree merge commit correct\n\nI hope so! I'm using the same command we us to update the subtree in the project. I'm not sure what you mean by \"create the subtree merge commit from scratch.\" ",
          "created_at": "2025-07-16T12:43:38Z"
        },
        {
          "user": "maflcko",
          "body": "I can't reproduce this locally, when copy-pasting the command (https://github.com/bitcoin/bitcoin/actions/runs/16315746903/job/46081155541?pr=28122#step:7:3), even when installing the git version from GHA (https://github.com/actions/runner-images/commit/723cd0240d0c380f28bfd66e4ec6556dc3b536fd#diff-cc12e5c5d005932feaacf280af949d83e2cb6020dff8203d9ead2e00c30e8b7fR77):\n\n```\n# git checkout a4c84b90c0f2be478e84c39785cbda2a8b2512db && git rebase --exec \"git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\" c42c7351a6316805fdfb20163762c1ab8293dd0d\nHEAD is now at a4c84b90c0 tests: add BIP352 test vectors as unit tests\nExecuting: git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\nAutomatic merge went well; stopped before committing as requested\n./.github/ci-test-each-commit-exec.py\nHEAD is now at 98c84190dc crypto: add read-only method to KeyPair\nExecuting: git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\nAutomatic merge went well; stopped before committing as requested\n./.github/ci-test-each-commit-exec.py\nHEAD is now at 9219e4f2a6 Add \"sp\" HRP\nExecuting: git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\nAutomatic merge went well; stopped before committing as requested\n./.github/ci-test-each-commit-exec.py\nHEAD is now at 41b4e225b1 Add V0SilentPaymentDestination address type\nExecuting: git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\nAutomatic merge went well; stopped before committing as requested\n./.github/ci-test-each-commit-exec.py\nHEAD is now at bacb0f26fe common: add bip352.{h,cpp} secp256k1 module\nExecuting: git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\nAutomatic merge went well; stopped before committing as requested\n./.github/ci-test-each-commit-exec.py\nHEAD is now at 4efc2a5656 wallet: disable sending to silent payment address\nExecuting: git merge --no-commit origin/master && echo ./.github/ci-test-each-commit-exec.py && git reset --hard\nAutomatic merge went well; stopped before committing as requested\n./.github/ci-test-each-commit-exec.py\nHEAD is now at a4c84b90c0 tests: add BIP352 test vectors as unit tests\nSuccessfully rebased and updated detached HEAD.\n# git --version \ngit version 2.50.1\n```\n\n",
          "created_at": "2025-07-16T13:12:18Z"
        },
        {
          "user": "maflcko",
          "body": "> I'm not sure what you mean by \"create the subtree merge commit from scratch.\"\n\nSorry, I misread that you were rebasing the subtree merge commit, but you were rebasing *on* the subtree merge commit, which should be correct.",
          "created_at": "2025-07-16T13:14:01Z"
        },
        {
          "user": "josibake",
          "body": "\n> I can't reproduce this locally\n\nLet me know if I can help with reproducing this. I haven't tried to reproduce the CI failure locally, but I can recreate a similar failure by first creating a branch where I pull in the latest secp subtree, and then try to rebase my branch on top of that. This will fail with a merge conflict message, unless I use `git rebase --rebase-merges --strategy subtree`.\n\nI'll also try digging into the CI task a bit more, later this week.",
          "created_at": "2025-07-16T16:44:19Z"
        },
        {
          "user": "maflcko",
          "body": "I think when you rebase on top of a subtree merge, you'll want to do `git rebase --interactive c42c7351a6316805fdfb20163762c1ab8293dd0d` and then delete the old subtree commits:\n\n```\n# delete ! 497f1536ef # Squashed 'src/secp256k1/' changes from 4187a46649..c0db6509bd\n# delete ! bb0dc6d75c # Squashed 'src/secp256k1/' changes from c0db6509bd..6264c3d093\npick da3494063f # crypto: add read-only method to KeyPair\npick 687eb1c44f # Add \"sp\" HRP\npick ebc062ba2a # Add V0SilentPaymentDestination address type\npick 8d07a4e097 # common: add bip352.{h,cpp} secp256k1 module\npick b1848aa0c9 # wallet: disable sending to silent payment address\npick 8c073407aa # tests: add BIP352 test vectors as unit tests\n\n# Rebase c42c7351a6..8c073407aa onto c42c7351a6 (8 commands)\n```\n\nThis passes fine for me locally as well.",
          "created_at": "2025-07-16T16:50:34Z"
        },
        {
          "user": "josibake",
          "body": "> you'll want to do `git rebase --interactive c42c7351a6316805fdfb20163762c1ab8293dd0d` and then delete the old subtree commits\n\nApologies if I'm being dense, but what you're suggesting doesn't make sense to me. What I'm doing currently:\n\n```shell\n# starting from master\ngit checkout -b refresh-secp256k1\n\n# git subtree pull --prefix src/secp256k1/ <myfork> <mybranch> --squash\ngit subtree pull --prefix src/secp256k1/ josie-secp256k1 bip352-silentpayments-module-2025 --squash\n\n# rebase my bitcoin core branch on the latest secp256k1 changes\ngit rebase --onto refresh-secp256k1 702eb96c46904288f72f02f968339c27c6524195^ implement-bip352\n```\n\nThis results in something like:\n\n```\n...\ncommit 702eb96c46904288f72f02f968339c27c6524195\nAuthor: josibake <josibake@protonmail.com>\nDate:   Fri Apr 4 12:37:55 2025 +0200\n\n    crypto: add read-only method to KeyPair\n\n    Add a method for passing a KeyPair object to secp256k1 functions expecting a secp256k1_keypair.\n    This allows for passing a KeyPair directly to a secp256k1 function without needing to create a\n    temporary secp256k1_keypair object.\n\ncommit 14224fd2f3b31ed869397989d88306df2a3cfe6f (origin/refresh-secp256k1)\nMerge: 9f713b83dc 46f5c2f1f3\nAuthor: josibake <josibake@protonmail.com>\nDate:   Thu Jul 17 12:25:41 2025 +0100\n\n    Merge commit '46f5c2f1f382922c19a070b78803fbd29cedd62b' into refresh-secp256k1\n\ncommit 46f5c2f1f382922c19a070b78803fbd29cedd62b\nAuthor: josibake <josibake@protonmail.com>\nDate:   Thu Jul 17 12:25:41 2025 +0100\n\n    Squashed 'src/secp256k1/' changes from 4187a46649..9e85256bbe\n...\n```\n\nCalling `git rebase --interactive 14224fd2f3b31ed869397989d88306df2a3cfe6f` just gives me the commits from my branch, not the squash commits.\n\nAnnoyingly, I rebased the PR on master using this exact process and pushed the branch and now on the PR the test each commit task is no longer failing, which is perhaps why whatever you were doing was working? But again, I'm not sure what you're doing.",
          "created_at": "2025-07-17T12:57:23Z"
        },
        {
          "user": "maflcko",
          "body": "> git rebase --onto refresh-secp256k1 702eb96c46904288f72f02f968339c27c6524195^ implement-bip352\n\nYeah, that looks correct. It should also be identical to my version. The only difference is that yours works also non-iteractively. That is, the two commands give the same result:\n\n```\ngit rebase --interactive --onto=14224fd2f3b31ed869397989d88306df2a3cfe6f da3494063f^ 8c073407aa  # no interactive changes needed\n```\n\n```\ngit checkout 8c073407aa && git rebase --interactive 14224fd2f3b31ed869397989d88306df2a3cfe6f  # and then interactively dropping the subtree commits.\n```",
          "created_at": "2025-07-17T13:23:32Z"
        },
        {
          "user": "josibake",
          "body": "Following up, this was my mistake! AFAICT, this happened because I had two squashes into the `refresh-secp256k1` branch. I attempted to reproduce this on my fork and couldn't get a failure, and the only difference I can see is that the original failure had two squashes followed by a merge commit.\n\nThanks for taking a look @maflcko and for the help in reproducing.",
          "created_at": "2025-07-17T16:29:15Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 11,
    "issues": 2
  }
}