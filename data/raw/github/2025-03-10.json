{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:23:25.114690+00:00",
  "date": "2025-03-10",
  "pull_requests": [
    {
      "number": 32028,
      "title": "Update `secp256k1` subtree to latest master",
      "body": "This PR updates the `secp256k1` subtree to https://github.com/bitcoin-core/secp256k1/commit/4ba1ba2af953b7d124db9b80b34568e5c4a2d48a, which includes the following changes:\r\n- https://github.com/bitcoin-core/secp256k1/pull/1633\r\n- https://github.com/bitcoin-core/secp256k1/pull/1634\r\n- https://github.com/bitcoin-core/secp256k1/pull/1641\r\n- https://github.com/bitcoin-core/secp256k1/pull/1650\r\n- https://github.com/bitcoin-core/secp256k1/pull/1646\r\n- https://github.com/bitcoin-core/secp256k1/pull/1654\r\n- https://github.com/bitcoin-core/secp256k1/pull/1642\r\n- https://github.com/bitcoin-core/secp256k1/pull/1639\r\n- https://github.com/bitcoin-core/secp256k1/pull/1614\r\n- https://github.com/bitcoin-core/secp256k1/pull/1656\r\n- https://github.com/bitcoin-core/secp256k1/pull/1647\r\n- https://github.com/bitcoin-core/secp256k1/pull/1655\r\n- https://github.com/bitcoin-core/secp256k1/pull/1593\r\n- https://github.com/bitcoin-core/secp256k1/pull/1359\r\n- https://github.com/bitcoin-core/secp256k1/pull/1657\r\n- https://github.com/bitcoin-core/secp256k1/pull/1660\r\n- https://github.com/bitcoin-core/secp256k1/pull/1659\r\n- https://github.com/bitcoin-core/secp256k1/pull/1661\r\n- https://github.com/bitcoin-core/secp256k1/pull/1662\r\n- https://github.com/bitcoin-core/secp256k1/pull/1669\r\n- https://github.com/bitcoin-core/secp256k1/pull/1492\r\n\r\n\r\nhttps://github.com/bitcoin-core/secp256k1/pull/1647 is required for https://github.com/bitcoin/bitcoin/pull/31507.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-03-10T17:37:09Z",
      "updated_at": "2025-05-14T08:27:58Z",
      "comments": 13,
      "url": "https://github.com/bitcoin/bitcoin/pull/32028",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32028.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32028#pullrequestreview-2837285736) |\n| Concept ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/32028#issuecomment-2717395528) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28201](https://github.com/bitcoin/bitcoin/pull/28201) (Silent Payments: sending by josibake)\n* [#28122](https://github.com/bitcoin/bitcoin/pull/28122) (Silent Payments: Implement BIP352 by josibake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\nPossible typos and grammar issues:\n\nHere are the identified typographic and grammatical errors that impact comprehension in the provided git diff:\n\n- `CHECK(secp256k1_ec_seckey_tweak_add(CTX, privkey, rnd);` -> `CHECK(secp256k1_ec_seckey_tweak_add(CTX, privkey, rnd));` [missing closing parenthesis]\n- `CHECK(secp256k1_ec_pubkey_tweak_add(CTX, &pubkey, rnd);` -> `CHECK(secp256k1_ec_pubkey_tweak_add(CTX, &pubkey, rnd));` [missing closing parenthesis]\n- `CHECK(secp256k1_ec_seckey_tweak_mul(CTX, privkey, rnd);` -> `CHECK(secp256k1_ec_seckey_tweak_mul(CTX, privkey, rnd));` [missing closing parenthesis]\n- `CHECK(secp256k1_ec_pubkey_tweak_mul(CTX, &pubkey, rnd);` -> `CHECK(secp256k1_ec_pubkey_tweak_mul(CTX, &pubkey, rnd));` [missing closing parenthesis]\n- `tests_wycheproof_generate_ecdsa.py\\`.` -> tests_wycheproof_generate_ecdsa.py` [missing backtick]\n\n",
          "created_at": "2025-03-10T17:37:12Z"
        },
        {
          "user": "fanquake",
          "body": "> The latter is required for #31507.\n\nIf we are going to start bumping subtrees, can you at least add a PR description, given 31507 [still doesn't have one](https://github.com/bitcoin/bitcoin/pull/31507#issuecomment-2548249261).",
          "created_at": "2025-03-11T07:11:16Z"
        },
        {
          "user": "hebasto",
          "body": "> > The latter is required for #31507.\r\n> \r\n> If we are going to start bumping subtrees, can you at least add a PR description, given 31507 [still doesn't have one](https://github.com/bitcoin/bitcoin/pull/31507#issuecomment-2548249261).\r\n\r\nMy apologies. Fixed.",
          "created_at": "2025-03-11T15:29:28Z"
        },
        {
          "user": "Sjors",
          "body": "Concept ACK on (temporarily) using master instead of a release tag. However we should probably wait with merging this until #31507 has at least one code review ACK from a build system expert?\r\n\r\nACK 7803eb4a51f3a7a7e76b4f45fb211ffa87a7e9bd\r\n\r\nRan the `git-subtree-check.sh` check. I didn't review the upstream changes.\r\n\r\nOn (ARM) macOS 15.3.1 I ran a testnet4 IBD with a debug build.\r\n",
          "created_at": "2025-03-12T10:28:18Z"
        },
        {
          "user": "hebasto",
          "body": "Rebased and updated with the recent changes from the upstream repo.",
          "created_at": "2025-03-17T12:25:35Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit d91a746815e4428c738f1a096a950292cbdb5469<br>(master) | commit 7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59<br>(pull/32028/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`2110c9d6963c9c61...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-aarch64-linux-gnu-debug.tar.gz) | [`9d8462b17d042813...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`dbb660c817c639e1...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-aarch64-linux-gnu.tar.gz) | [`85582e98ed0951e4...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`ac8336f21d087a0b...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-arm-linux-gnueabihf-debug.tar.gz) | [`14045d0878a2ab00...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`bb9c16d16af758b4...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-arm-linux-gnueabihf.tar.gz) | [`1829c07022ae53a7...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`b1f7376f5a76be17...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-arm64-apple-darwin-codesigning.tar.gz) | [`9e1b948bbb081fe9...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`76b73d4ad051154f...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-arm64-apple-darwin-unsigned.tar.gz) | [`0ae84736eef74b20...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`714ab6c2ec0b666c...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-arm64-apple-darwin-unsigned.zip) | [`cbb942f0bcdafd4c...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`a1c3361a3648d343...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-powerpc64-linux-gnu-debug.tar.gz) | [`3637a5cbc58b1579...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`1972c6a33c3e7e14...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-powerpc64-linux-gnu.tar.gz) | [`9a9355a15054755a...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`1c3321331846d84a...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-riscv64-linux-gnu-debug.tar.gz) | [`ceb4885d45ec3e46...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`1330260253e01275...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-riscv64-linux-gnu.tar.gz) | [`9f4fe243a06ffc0b...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`7cbc330771ad9193...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-x86_64-apple-darwin-codesigning.tar.gz) | [`eb600b9214d25e6f...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`426bfa03adfbb09f...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-x86_64-apple-darwin-unsigned.tar.gz) | [`0b01f031616d33e3...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`23f8efdab69a8c18...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-x86_64-apple-darwin-unsigned.zip) | [`cee777f9668a2df9...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`eb48af97e91875d0...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-x86_64-linux-gnu-debug.tar.gz) | [`77db7dc5edcb2b0f...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`db07a4c7b7a9ddfa...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4-x86_64-linux-gnu.tar.gz) | [`44c5809a23a7e37f...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`612cf2d5e889847d...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/bitcoin-d91a746815e4.tar.gz) | [`509e9472927585a7...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/bitcoin-7d6fb6351d0e.tar.gz) |\n| SHA256SUMS.part | [`d1d37d157054fdb7...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/SHA256SUMS.part) | [`0b5d66ff079505c6...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/SHA256SUMS.part) |\n| guix_build.log | [`3b26cb33be7e6c10...`](https://drahtbot.space/guix/monotree/d91a746815e4428c738f1a096a950292cbdb5469/guix_build.log) | [`05580ee40e41a737...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/guix_build.log) |\n| guix_build.log.diff |  | [`d29f2d7747fff509...`](https://drahtbot.space/guix/monotree/7d6fb6351d0e9435dd96f0bbb0e0fa4b842e7d59/guix_build.log.diff) |\n\n",
          "created_at": "2025-04-20T12:08:52Z"
        },
        {
          "user": "fanquake",
          "body": "No movement in #31507, but could rebase & update this with the one new commit? ",
          "created_at": "2025-05-08T10:20:52Z"
        },
        {
          "user": "hebasto",
          "body": "> No movement in #31507, but could rebase & update this with the one new commit?\r\n\r\nSure! Rebased and updated.",
          "created_at": "2025-05-08T13:14:46Z"
        },
        {
          "user": "hebasto",
          "body": "Rebased and updated.",
          "created_at": "2025-05-13T10:33:31Z"
        },
        {
          "user": "fanquake",
          "body": "Guix Build:\r\n```bash\r\n24986a84cc15356c2761a8d05898d33d60ff10431eecdf68d9fb758432a87f79  guix-build-915c1fa72c07/output/aarch64-linux-gnu/SHA256SUMS.part\r\nbe7bba66e8e84ba8428aed395a296e397d07f5d961bb8ab80bdd19d2c48589ba  guix-build-915c1fa72c07/output/aarch64-linux-gnu/bitcoin-915c1fa72c07-aarch64-linux-gnu-debug.tar.gz\r\na77553ea1b9eca35f6b9bc00f0be22f3016b8fdf1425b71ec93a6fdbcd8e154c  guix-build-915c1fa72c07/output/aarch64-linux-gnu/bitcoin-915c1fa72c07-aarch64-linux-gnu.tar.gz\r\n4f1a82c81d0f9f3510130507e08d90c11eb8a8a601218bab91247d676ba4b687  guix-build-915c1fa72c07/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n094ae0a5049d41f5f657c838bbca63b17c72a5eb421ac6eea1475d205daf5804  guix-build-915c1fa72c07/output/arm-linux-gnueabihf/bitcoin-915c1fa72c07-arm-linux-gnueabihf-debug.tar.gz\r\ne9215a29bd525f5175461f897a861eb8336433136f26dc82ea06ce6a3068efb1  guix-build-915c1fa72c07/output/arm-linux-gnueabihf/bitcoin-915c1fa72c07-arm-linux-gnueabihf.tar.gz\r\nf9e82347e97d4f2bc4dbe441c8835c39b21507f9dd066ec6ba92276b9e9529b7  guix-build-915c1fa72c07/output/arm64-apple-darwin/SHA256SUMS.part\r\nb4f0d40ba5d37051ed529c8611d6cabdedc72084b3050f50816c20579e6516cf  guix-build-915c1fa72c07/output/arm64-apple-darwin/bitcoin-915c1fa72c07-arm64-apple-darwin-codesigning.tar.gz\r\nab3066e2957caace712cfd310a36b64fe66111319318642314c651c4182f9b2f  guix-build-915c1fa72c07/output/arm64-apple-darwin/bitcoin-915c1fa72c07-arm64-apple-darwin-unsigned.tar.gz\r\nf1e674b9d975a2abba5293552891e883e7ce580c43ab49eb660a991ff63641d2  guix-build-915c1fa72c07/output/arm64-apple-darwin/bitcoin-915c1fa72c07-arm64-apple-darwin-unsigned.zip\r\nb2fbae0c90f64bc18b002af3978dc0a40446f531edd45b1cda8913387fb1b71b  guix-build-915c1fa72c07/output/dist-archive/bitcoin-915c1fa72c07.tar.gz\r\n24c7b06afe8e7c9c1d09b83e47c7be4bc73647de04c6bec9fefda416c81ea3db  guix-build-915c1fa72c07/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n17a3c9417ec76b9a173e111a2b2c34857643faa1db5866dc86e0b6aa37082df8  guix-build-915c1fa72c07/output/powerpc64-linux-gnu/bitcoin-915c1fa72c07-powerpc64-linux-gnu-debug.tar.gz\r\n3fd3e70b571f8b882d87cb145c13baf2de932caaa20ef5574f872612920e1ab6  guix-build-915c1fa72c07/output/powerpc64-linux-gnu/bitcoin-915c1fa72c07-powerpc64-linux-gnu.tar.gz\r\nbf2c637aad143a4b7ce75d065df1604f976fa49125acc09e4280d62fdbe94ea6  guix-build-915c1fa72c07/output/riscv64-linux-gnu/SHA256SUMS.part\r\n27593d36f7c89b7f0b00c550683deab46641f7d85a166e3accb76527bdea9af5  guix-build-915c1fa72c07/output/riscv64-linux-gnu/bitcoin-915c1fa72c07-riscv64-linux-gnu-debug.tar.gz\r\nc250c4c27cf8acb1fdf70f862b342a15dab0bbca1c2345f80934a4687a257a9e  guix-build-915c1fa72c07/output/riscv64-linux-gnu/bitcoin-915c1fa72c07-riscv64-linux-gnu.tar.gz\r\n20c2e602fd4c4dd142fcc51eb5c70ea5d19f3a87a6d656fe3191cba69d1fb704  guix-build-915c1fa72c07/output/x86_64-apple-darwin/SHA256SUMS.part\r\n23df5c5264a93c4569cde1d6449d89848478c01588e301ed4de7b1cc0f21ec7f  guix-build-915c1fa72c07/output/x86_64-apple-darwin/bitcoin-915c1fa72c07-x86_64-apple-darwin-codesigning.tar.gz\r\n79a315e74728f513be0b13ca1685bfa2b6cfc98d288b71296210d288e4439585  guix-build-915c1fa72c07/output/x86_64-apple-darwin/bitcoin-915c1fa72c07-x86_64-apple-darwin-unsigned.tar.gz\r\n8fd043e1110876b2cef30624963b27bb3d0bf9fa7c5808fa92e38db52058bbd0  guix-build-915c1fa72c07/output/x86_64-apple-darwin/bitcoin-915c1fa72c07-x86_64-apple-darwin-unsigned.zip\r\n5ac15743a088b4fdcba018f7ff3e37166757d80b3d7759093dd766e3b596cc42  guix-build-915c1fa72c07/output/x86_64-linux-gnu/SHA256SUMS.part\r\nd969c648d3d8f437e61fe2f698a8dcd5ad7b4baab2244513b782e2a53fb2e964  guix-build-915c1fa72c07/output/x86_64-linux-gnu/bitcoin-915c1fa72c07-x86_64-linux-gnu-debug.tar.gz\r\n737f306a3803822b8b602e67143f29e8de3aea18619e33a5564f614a73933a88  guix-build-915c1fa72c07/output/x86_64-linux-gnu/bitcoin-915c1fa72c07-x86_64-linux-gnu.tar.gz\r\nadc391a6140b93e479bc4c5447986142b0629804356736b3014ba7e2042ebd7d  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n142b27dd0def2ab68fcc6801f6885a3fb7cf74c3dd151b7b81c707244cded98a  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-codesigning.tar.gz\r\n81fb7e6c7f5141735e86b077e3cd07eb38fd88b11642a24ed14b5486bd7f7617  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-debug.zip\r\nb4c0fe5eee83b6f7eb6a0357953feb564aab9bf9056fb01a004768d4b2c4306e  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-setup-unsigned.exe\r\ne6badb14bc63d631530d5639e66b2f7fc6898e37116bf0b6ebc54c87995efcac  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-unsigned.zip\r\n```",
          "created_at": "2025-05-13T12:51:57Z"
        },
        {
          "user": "hebasto",
          "body": "My Guix build:\r\n```\r\naarch64\r\n24986a84cc15356c2761a8d05898d33d60ff10431eecdf68d9fb758432a87f79  guix-build-915c1fa72c07/output/aarch64-linux-gnu/SHA256SUMS.part\r\nbe7bba66e8e84ba8428aed395a296e397d07f5d961bb8ab80bdd19d2c48589ba  guix-build-915c1fa72c07/output/aarch64-linux-gnu/bitcoin-915c1fa72c07-aarch64-linux-gnu-debug.tar.gz\r\na77553ea1b9eca35f6b9bc00f0be22f3016b8fdf1425b71ec93a6fdbcd8e154c  guix-build-915c1fa72c07/output/aarch64-linux-gnu/bitcoin-915c1fa72c07-aarch64-linux-gnu.tar.gz\r\n4f1a82c81d0f9f3510130507e08d90c11eb8a8a601218bab91247d676ba4b687  guix-build-915c1fa72c07/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n094ae0a5049d41f5f657c838bbca63b17c72a5eb421ac6eea1475d205daf5804  guix-build-915c1fa72c07/output/arm-linux-gnueabihf/bitcoin-915c1fa72c07-arm-linux-gnueabihf-debug.tar.gz\r\ne9215a29bd525f5175461f897a861eb8336433136f26dc82ea06ce6a3068efb1  guix-build-915c1fa72c07/output/arm-linux-gnueabihf/bitcoin-915c1fa72c07-arm-linux-gnueabihf.tar.gz\r\nf9e82347e97d4f2bc4dbe441c8835c39b21507f9dd066ec6ba92276b9e9529b7  guix-build-915c1fa72c07/output/arm64-apple-darwin/SHA256SUMS.part\r\nb4f0d40ba5d37051ed529c8611d6cabdedc72084b3050f50816c20579e6516cf  guix-build-915c1fa72c07/output/arm64-apple-darwin/bitcoin-915c1fa72c07-arm64-apple-darwin-codesigning.tar.gz\r\nab3066e2957caace712cfd310a36b64fe66111319318642314c651c4182f9b2f  guix-build-915c1fa72c07/output/arm64-apple-darwin/bitcoin-915c1fa72c07-arm64-apple-darwin-unsigned.tar.gz\r\nf1e674b9d975a2abba5293552891e883e7ce580c43ab49eb660a991ff63641d2  guix-build-915c1fa72c07/output/arm64-apple-darwin/bitcoin-915c1fa72c07-arm64-apple-darwin-unsigned.zip\r\nb2fbae0c90f64bc18b002af3978dc0a40446f531edd45b1cda8913387fb1b71b  guix-build-915c1fa72c07/output/dist-archive/bitcoin-915c1fa72c07.tar.gz\r\n24c7b06afe8e7c9c1d09b83e47c7be4bc73647de04c6bec9fefda416c81ea3db  guix-build-915c1fa72c07/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n17a3c9417ec76b9a173e111a2b2c34857643faa1db5866dc86e0b6aa37082df8  guix-build-915c1fa72c07/output/powerpc64-linux-gnu/bitcoin-915c1fa72c07-powerpc64-linux-gnu-debug.tar.gz\r\n3fd3e70b571f8b882d87cb145c13baf2de932caaa20ef5574f872612920e1ab6  guix-build-915c1fa72c07/output/powerpc64-linux-gnu/bitcoin-915c1fa72c07-powerpc64-linux-gnu.tar.gz\r\nbf2c637aad143a4b7ce75d065df1604f976fa49125acc09e4280d62fdbe94ea6  guix-build-915c1fa72c07/output/riscv64-linux-gnu/SHA256SUMS.part\r\n27593d36f7c89b7f0b00c550683deab46641f7d85a166e3accb76527bdea9af5  guix-build-915c1fa72c07/output/riscv64-linux-gnu/bitcoin-915c1fa72c07-riscv64-linux-gnu-debug.tar.gz\r\nc250c4c27cf8acb1fdf70f862b342a15dab0bbca1c2345f80934a4687a257a9e  guix-build-915c1fa72c07/output/riscv64-linux-gnu/bitcoin-915c1fa72c07-riscv64-linux-gnu.tar.gz\r\n20c2e602fd4c4dd142fcc51eb5c70ea5d19f3a87a6d656fe3191cba69d1fb704  guix-build-915c1fa72c07/output/x86_64-apple-darwin/SHA256SUMS.part\r\n23df5c5264a93c4569cde1d6449d89848478c01588e301ed4de7b1cc0f21ec7f  guix-build-915c1fa72c07/output/x86_64-apple-darwin/bitcoin-915c1fa72c07-x86_64-apple-darwin-codesigning.tar.gz\r\n79a315e74728f513be0b13ca1685bfa2b6cfc98d288b71296210d288e4439585  guix-build-915c1fa72c07/output/x86_64-apple-darwin/bitcoin-915c1fa72c07-x86_64-apple-darwin-unsigned.tar.gz\r\n8fd043e1110876b2cef30624963b27bb3d0bf9fa7c5808fa92e38db52058bbd0  guix-build-915c1fa72c07/output/x86_64-apple-darwin/bitcoin-915c1fa72c07-x86_64-apple-darwin-unsigned.zip\r\n5ac15743a088b4fdcba018f7ff3e37166757d80b3d7759093dd766e3b596cc42  guix-build-915c1fa72c07/output/x86_64-linux-gnu/SHA256SUMS.part\r\nd969c648d3d8f437e61fe2f698a8dcd5ad7b4baab2244513b782e2a53fb2e964  guix-build-915c1fa72c07/output/x86_64-linux-gnu/bitcoin-915c1fa72c07-x86_64-linux-gnu-debug.tar.gz\r\n737f306a3803822b8b602e67143f29e8de3aea18619e33a5564f614a73933a88  guix-build-915c1fa72c07/output/x86_64-linux-gnu/bitcoin-915c1fa72c07-x86_64-linux-gnu.tar.gz\r\nadc391a6140b93e479bc4c5447986142b0629804356736b3014ba7e2042ebd7d  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n142b27dd0def2ab68fcc6801f6885a3fb7cf74c3dd151b7b81c707244cded98a  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-codesigning.tar.gz\r\n81fb7e6c7f5141735e86b077e3cd07eb38fd88b11642a24ed14b5486bd7f7617  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-debug.zip\r\nb4c0fe5eee83b6f7eb6a0357953feb564aab9bf9056fb01a004768d4b2c4306e  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-setup-unsigned.exe\r\ne6badb14bc63d631530d5639e66b2f7fc6898e37116bf0b6ebc54c87995efcac  guix-build-915c1fa72c07/output/x86_64-w64-mingw32/bitcoin-915c1fa72c07-win64-unsigned.zip\r\n```",
          "created_at": "2025-05-13T15:06:03Z"
        },
        {
          "user": "fanquake",
          "body": "> Here are the identified typographic and grammatical errors that impact comprehension in the provided git diff:\r\n> \r\n> CHECK(secp256k1_ec_seckey_tweak_add(CTX, privkey, rnd); -> CHECK(secp256k1_ec_seckey_tweak_add(CTX, privkey, rnd)); [missing closing parenthesis]\r\n\r\nI can't seem to find `CHECK(secp256k1_ec_seckey_tweak_add(CTX, privkey, rnd)` in either our, or libsecp256k1s codebase.",
          "created_at": "2025-05-13T15:27:20Z"
        },
        {
          "user": "maflcko",
          "body": "> I can't seem to find `CHECK(secp256k1_ec_seckey_tweak_add(CTX, privkey, rnd)` in either our, or libsecp256k1s codebase.\r\n\r\nSee https://github.com/maflcko/DrahtBot/issues/50.\r\n\r\nThough, it (obviously) can't be fixed here in a subtree bump anyway.",
          "created_at": "2025-05-13T15:51:41Z"
        }
      ]
    },
    {
      "number": 32027,
      "title": "cmake: Add `NO_CACHE_IF_FAILED` option for checking linker flags",
      "body": "Use it for checking `-fsanitize`.\r\n\r\nThis change improves the user experience when the configuration step fails due to a missing library. Now, there is no need to manually clean the CMake cache after installing the required library.\r\n\r\nAddresses [this](https://github.com/bitcoin/bitcoin/issues/31942#issuecomment-2703801270) comment from https://github.com/bitcoin/bitcoin/issues/31942.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-03-10T16:57:38Z",
      "updated_at": "2025-03-28T18:35:15Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32027",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32027.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32027#pullrequestreview-2720160842) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n",
          "created_at": "2025-03-10T16:57:41Z"
        },
        {
          "user": "yancyribbens",
          "body": "I'm curious if this would have fixed my issue: https://github.com/bitcoin/bitcoin/issues/31922#issuecomment-2673888781 which sparked the discussion https://github.com/bitcoin/bitcoin/issues/31942#issuecomment-2703801270.  As I remember, I had successfully built, and then I was trying to rebuild for fuzzing using clang-16 instead, which was causing a build error.  It was resolved by nuking the build folder, although the discussion in https://github.com/bitcoin/bitcoin/issues/31942#issuecomment-2703801270 calls the need to nuke the build director a hack.",
          "created_at": "2025-03-15T18:49:35Z"
        },
        {
          "user": "Sjors",
          "body": "This seems useful, but I'm having a hard time reproducing the issue, or something similar, on macOS, because XCode 15.2 ships with most of the sanitizers.\r\n\r\nI can hit an earlier error:\r\n\r\n```\r\ncmake -B build -DSANITIZERS=memory\r\n...\r\n-- Performing Test CXX_SUPPORTS__FSANITIZE_MEMORY - Failed\r\nCMake Error at CMakeLists.txt:362 (message):\r\n  Compiler did not accept requested flags.\r\n```\r\n\r\nBut then I'd probably have to recompile LLVM.\r\n\r\nMight be easier to reproduce on a linux distro, like the original example.",
          "created_at": "2025-03-20T10:01:59Z"
        },
        {
          "user": "glozow",
          "body": "Backported in #32136",
          "created_at": "2025-03-28T18:35:10Z"
        }
      ]
    },
    {
      "number": 32025,
      "title": "validation, fix: Use wtxid instead of txid in `CheckEphemeralSpends`",
      "body": "This PR addresses a small bug in [`AcceptMultipleTransactions`](https://github.com/bitcoin/bitcoin/blob/45719390a1434ad7377a5ed05dcd73028130cf2d/src/validation.cpp#L1598) where a txid was being inserted into a map that should only hold wtxids.  `CheckEphemeralSpends` has an out parameter on failure that records that the child transaction did not spend the parent's dust. Instead of using the txid of this child, use its wtxid.\r\n\r\nThe second commit in this PR is a refactor of the `PackageMempoolAcceptResult` struct to use the `Wtxid` type instead of `uint256`. This helps to prevent errors like this in the future.",
      "state": "closed",
      "user": "marcofleon",
      "created_at": "2025-03-10T15:17:24Z",
      "updated_at": "2025-03-12T13:08:38Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32025",
      "labels": [
        "Bug",
        "Mempool"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32025.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/32025#issuecomment-2715039398), [glozow](https://github.com/bitcoin/bitcoin/pull/32025#pullrequestreview-2676077768), [dergoegge](https://github.com/bitcoin/bitcoin/pull/32025#pullrequestreview-2677593378) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n",
          "created_at": "2025-03-10T15:17:27Z"
        },
        {
          "user": "marcofleon",
          "body": "note: I found this while working on the uint256 to txid/wtxid full refactor. I figured I would include a tiny part of that in this PR because it relates to the bug. If it's preferred to only have the fix be merged for branch off, then I can remove the second commit and include it as part of the txid type safety project later on.",
          "created_at": "2025-03-10T15:21:10Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/38500023046</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-03-10T15:31:23Z"
        },
        {
          "user": "dergoegge",
          "body": "Concept ACK\r\n\r\nAwesome to see the txid types paying off!",
          "created_at": "2025-03-10T15:50:11Z"
        },
        {
          "user": "instagibbs",
          "body": "concept ACK, agree that txid should also be reported to user since that's used quite often by callers",
          "created_at": "2025-03-11T15:14:34Z"
        },
        {
          "user": "instagibbs",
          "body": "ACK https://github.com/bitcoin/bitcoin/pull/32025/commits/e637dc2c01c3b566e6c51c911c5881a8d206c924\r\n\r\nPlaces the result in the map under txid, improving the reported error in certain cases, and typing future proofs against regressions automagically.",
          "created_at": "2025-03-11T16:46:50Z"
        },
        {
          "user": "theStack",
          "body": "post-merge code-review ACK e637dc2c01c3b566e6c51c911c5881a8d206c924\r\ngood find ðŸ‘Œ ",
          "created_at": "2025-03-12T13:08:38Z"
        }
      ]
    },
    {
      "number": 32024,
      "title": "test: get rid of redundant TODO tag in fuzz tests",
      "body": "`list.size()` is determined at runtime, so using `static_assert` on it as suggested by the TODO comment is not feasible and produces the following error when done:\r\n\r\n`error: static assertion expression is not an integral constant expression`",
      "state": "closed",
      "user": "Chand-ra",
      "created_at": "2025-03-10T14:57:11Z",
      "updated_at": "2025-03-10T16:02:07Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32024",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32024.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
          "created_at": "2025-03-10T14:57:15Z"
        },
        {
          "user": "dergoegge",
          "body": "Thanks for your contribution but `FuzzedDataProvider.h` is not maintained by us. This should be opened against llvm: https://github.com/llvm/llvm-project/blob/main/compiler-rt/include/fuzzer/FuzzedDataProvider.h.",
          "created_at": "2025-03-10T15:56:52Z"
        }
      ]
    },
    {
      "number": 32023,
      "title": "wallet: removed duplicate call to GetDescriptorScriptPubKeyMan",
      "body": "Removed duplicate call to GetDescriptorScriptPubKeyMan and\r\nInstead of checking linearly I have used find method so time complexity reduced significantly for GetDescriptorScriptPubKeyMan\r\nafter this fix improved performance of importdescriptor part refs https://github.com/bitcoin/bitcoin/issues/32013.\r\n\r\n\r\n**Steps to reproduce in testnet environment**\r\n\r\n**Input size:** 2 million address in the wallet\r\n\r\n**Step1:** call importaddresdescriptor rpc method\r\nobserve the time it has taken.\r\n\r\n**With the provided fix:**\r\nDo the same steps again\r\nobserve the time it has taken.\r\n\r\nThere is a huge improvement in the performance. (previously it may take 5 to 6 seconds now it will take 1 seconds or less)\r\n\r\nmain changes i've made during this pr:\r\n\r\n1. remove duplicate call to GetDescriptorScriptPubKeyMan method\r\n2. And inside GetDescriptorScriptPubKeyMan method previously we checking **each address linearly** so each time it is calling HasWallet method which has aquired lock.\r\n3. Now i've modified this logic call **find method on the map (O(logn)**) time it is taking, so only once we calling HasWallet method.\r\n\r\n**Note:** Smaller inputs in the wallet you may not see the issue but huge wallet size it will definitely impact the performance.",
      "state": "closed",
      "user": "saikiran57",
      "created_at": "2025-03-10T09:53:52Z",
      "updated_at": "2025-04-23T20:52:03Z",
      "comments": 17,
      "url": "https://github.com/bitcoin/bitcoin/pull/32023",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32023.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/32023#issuecomment-2811013410), [w0xlt](https://github.com/bitcoin/bitcoin/pull/32023#pullrequestreview-2776748288) |\n| Stale ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/32023#pullrequestreview-2690742860) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28333](https://github.com/bitcoin/bitcoin/pull/28333) (wallet: Construct ScriptPubKeyMans with all data rather than loaded progressively by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
          "created_at": "2025-03-10T09:53:56Z"
        },
        {
          "user": "mprenditore",
          "body": "@furszy @pablomartin4btc\r\nCan this be merged or there's still something missing?",
          "created_at": "2025-03-12T14:23:18Z"
        },
        {
          "user": "maflcko",
          "body": "See https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#committing-patches",
          "created_at": "2025-03-12T15:48:34Z"
        },
        {
          "user": "mabu44",
          "body": "In some scenarios the master branch returns a JSON with \"success\":false while the proposed code throws an error. I think changing RPC behavior without a specific reason should be avoided.\r\nExample:\r\n(in both cases the same descriptor was  imported before using a wider [0, 1000] range)\r\n\r\n#### On master\r\n```bash\r\n./bitcoin-cli importdescriptors '[{\"desc\": \"wpkh(tprv8ZgxMBicQKsPebj9z5pERWfTpb4RSrqr9tnvGeNPvTV2iaHNdxz3kTcqMmmHabiXpk9DLKE6v24Q6mJwwaLYFLdjtyWs2wtRQUAo3xTGN7i/84h/1h/0h/0/*)#3v9ceyxw\", \"timestamp\": 1742248939, \"range\": [0, 900]}]'\r\n[\r\n  {\r\n    \"success\": false,\r\n    \"error\": {\r\n      \"code\": -8,\r\n      \"message\": \"new range must include current range = [0,1000]\"\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n#### PR branch\r\n```bash\r\n./bitcoin-cli importdescriptors '[{\"desc\": \"wpkh(tprv8ZgxMBicQKsPebj9z5pERWfTpb4RSrqr9tnvGeNPvTV2iaHNdxz3kTcqMmmHabiXpk9DLKE6v24Q6mJwwaLYFLdjtyWs2wtRQUAo3xTGN7i/84h/1h/0h/0/*)#3v9ceyxw\", \"timestamp\": 1742248939, \"range\": [0, 900]}]'\r\nerror code: -1\r\nerror message:\r\nCan't update descriptor wpkh(tpubD6NzVbkrYhZ4Y4kwsjUppvKaPcaMcC2kjCPhZAQhLjHRZ4Y9GModvxEhXumCmQxJqdrtXn8CTP2CPitXDoZDHJHF9Rm6CqwirnxtXcNKfpY/84h/1h/0h/0/*)#m0f8wmee, error: new range must include current range = [0,1000]\r\n```",
          "created_at": "2025-03-17T22:50:08Z"
        },
        {
          "user": "saikiran57",
          "body": "HI @furszy can you please give some clarity on this comment https://github.com/bitcoin/bitcoin/pull/32023#issuecomment-2731126667 ",
          "created_at": "2025-03-19T07:18:37Z"
        },
        {
          "user": "furszy",
          "body": "> HI @furszy can you please give some clarity on this comment [#32023 (comment)](https://github.com/bitcoin/bitcoin/pull/32023#issuecomment-2731126667)\r\n\r\nIt is a valid concern. Bubbling up the error seems to be the best option to not couple components.\r\nCould go back to implementing https://github.com/bitcoin/bitcoin/pull/32023#discussion_r1992789597 or a bare error string return approach from each of the wallet methods.",
          "created_at": "2025-03-19T14:07:20Z"
        },
        {
          "user": "saikiran57",
          "body": "HI @mabu44 I've reverted the changes kindly confirm that. Can you please ACK on this.",
          "created_at": "2025-03-19T15:43:29Z"
        },
        {
          "user": "furszy",
          "body": "> HI @mabu44 I've reverted the changes kindly confirm that. Can you please ACK on this.\r\n\r\nYou are still changing the RPC behavior. `importdescriptors` returns errors within the response object, which is why your current changes are forcing you to modify the functional test code. When I said \"bare error string return approach\", I basically meant making the underlying wallet methods return a string in case of an error, so it can be wrapped into the response object at the RPC level â€” similar to the `util::Result` approach I mentioned.",
          "created_at": "2025-03-19T15:59:12Z"
        },
        {
          "user": "mabu44",
          "body": "In reference to my first comment https://github.com/bitcoin/bitcoin/pull/32023#issuecomment-2731126667, I note that the imported descriptor and the one returned in the error message are not equal. I imagine that the one in the error message represents the public key for the provided private key. This could reduce the clarity of the error message that no longer enables a direct comparison with the imported descriptors to understand which one generated the error. On the other hand, we do not return a private key in an error message, that may be logged.",
          "created_at": "2025-03-19T21:27:01Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/39107833824</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-03-20T13:14:42Z"
        },
        {
          "user": "fanquake",
          "body": "https://cirrus-ci.com/task/5112314648592384?logs=ci#L5356:\r\n```bash\r\n[01:20:03.641] Run scriptpubkeyman with args ['/ci_container_base/ci/scratch/build-x86_64-pc-linux-gnu/bin/fuzz', '-runs=1', PosixPath('/ci_container_base/ci/scratch/qa-assets/fuzz_corpora/scriptpubkeyman')]INFO: Running with entropic power schedule (0xFF, 100).\r\n[01:20:03.641] INFO: Seed: 2231869594\r\n[01:20:03.641] INFO: Loaded 1 modules   (623423 inline 8-bit counters): 623423 [0x556e6d276398, 0x556e6d30e6d7), \r\n[01:20:03.641] INFO: Loaded 1 PC tables (623423 PCs): 623423 [0x556e6d30e6d8,0x556e6dc91ac8), \r\n[01:20:03.641] INFO:    10168 files found in /ci_container_base/ci/scratch/qa-assets/fuzz_corpora/scriptpubkeyman\r\n[01:20:03.641] INFO: -max_len is not provided; libFuzzer will not generate inputs larger than 713594 bytes\r\n[01:20:03.641] INFO: seed corpus: files: 10168 min: 1b max: 713594b total: 110333808b rss: 164Mb\r\n[01:20:03.641] wallet/test/fuzz/scriptpubkeyman.cpp:83 CreateDescriptor: Assertion `!keystore.AddWalletDescriptor(wallet_desc, keys, \"\", false)' failed.\r\n```",
          "created_at": "2025-03-21T07:28:21Z"
        },
        {
          "user": "maflcko",
          "body": "> after this fix improved performance of importdescriptor part refs #32013.\r\n\r\nIf this is a performance improvement, please explain exact steps to reproduce the speedup and how much it is.",
          "created_at": "2025-03-21T15:17:42Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/39279339189</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-03-24T09:14:02Z"
        },
        {
          "user": "saikiran57",
          "body": "Hi @maflcko I've updated the steps to reproduces the issue. Have a look into the the experiment files for the behavior (I've mimicked the code) https://github.com/saikiran57/cpp17/blob/develop/experiment/map_with_high_load.cpp ",
          "created_at": "2025-03-24T11:28:40Z"
        },
        {
          "user": "saikiran57",
          "body": "Hi @maflcko could you please ACK if your okay with response.",
          "created_at": "2025-03-31T06:38:49Z"
        },
        {
          "user": "achow101",
          "body": "ACK 55b931934a34bab11446e8eed7bdaef92bb056de",
          "created_at": "2025-04-16T22:45:12Z"
        },
        {
          "user": "saikiran57",
          "body": "Hi @furszy could you please finalize this review and merge this.",
          "created_at": "2025-04-23T13:00:59Z"
        }
      ]
    },
    {
      "number": 32022,
      "title": "docs: remove repetitive words",
      "body": "docs: remove repetitive words",
      "state": "closed",
      "user": "RiceChuan",
      "created_at": "2025-03-10T03:57:24Z",
      "updated_at": "2025-03-10T07:35:13Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32022",
      "labels": [
        "Docs",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32022.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/32022#pullrequestreview-2669776693) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n",
          "created_at": "2025-03-10T03:57:27Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/38464744318</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-03-10T04:46:44Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32029,
      "title": "Fully validated AssumeUTXO starts revalidating after restart",
      "body": "After fully validating the [recent update to AssumeUTXO until 880k](https://github.com/bitcoin/bitcoin/pull/31969#pullrequestreview-2658919045) in the background:\n```bash\n2025-03-08T09:58:19Z UpdateTip: new best=00000000000000000001b5d3d95fe8153004c0a8e4f5fbd08e4fead4298897ff height=886840 version=0x246ea000 log2_work=95.483816 tx=1163409635 date='2025-03-08T09:58:50Z' progress=1.000000 cache=136.3MiB(966526txo)\n2025-03-08T10:00:03Z [background validation] UpdateTip: new best=0000000000000000000159629ce4f039b1ec8287b2942acd13b1bde150343c2c height=878000 version=0x20306000 log2_work=95.369968 tx=1140089747 date='2025-01-05T22:13:51Z' progress=0.969631 cache=4287.4MiB(28845142txo)\n2025-03-08T10:01:05Z New block-relay-only v2 peer connected: version: 70016, blocks=886840, peer=179\n2025-03-08T10:13:17Z New block-relay-only v1 peer connected: version: 70016, blocks=886840, peer=180\n2025-03-08T10:13:25Z [background validation] UpdateTip: new best=000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880 height=880000 version=0x268be000 log2_work=95.396383 tx=1145604538 date='2025-01-20T01:42:23Z' progress=0.976559 cache=5145.5MiB(35241631txo)\n2025-03-08T10:13:25Z [warning] Flushing large (5 GiB) UTXO set to disk, it may take several minutes\n2025-03-08T10:17:26Z [snapshot] computing UTXO stats for background chainstate to validate snapshot - this could take a few minutes\n*2025-03-08T10:32:23Z [snapshot] snapshot beginning at 000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880 has been fully validated*\n2025-03-08T10:32:23Z [snapshot] allocating all cache to the snapshot chainstate\n2025-03-08T10:32:23Z Opening LevelDB in ~/bitcoin/chainstate_snapshot\n2025-03-08T10:32:23Z Opened LevelDB successfully\n2025-03-08T10:32:23Z Using obfuscation key for ~/bitcoin/chainstate_snapshot: 67720f7b17c65cc7\n2025-03-08T10:32:23Z [Chainstate [snapshot] @ height 886840 (00000000000000000001b5d3d95fe8153004c0a8e4f5fbd08e4fead4298897ff)] resized coinsdb cache to 8.0 MiB\n2025-03-08T10:32:23Z [Chainstate [snapshot] @ height 886840 (00000000000000000001b5d3d95fe8153004c0a8e4f5fbd08e4fead4298897ff)] resized coinstip cache to 9990.0 MiB\n2025-03-08T10:32:23Z [snapshot] re-enabling NODE_NETWORK services\n2025-03-08T10:32:23Z [snapshot] restarting indexes\n2025-03-08T10:32:23Z Flushed fee estimates to fee_estimates.dat.\n2025-03-08T10:32:23Z Saw new header hash=000000000000000000012962b376caa8878516abce31ca476e569e70fb7fb964 height=886841\n[...]\n2025-03-08T10:49:53Z UpdateTip: new best=0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b height=886849 version=0x20400000 log2_work=95.483928 tx=1163418786 date='2025-03-08T10:49:44Z' progress=1.000000 cache=140.5MiB(1002553txo)\n2025-03-08T10:50:10Z tor: Thread interrupt\n2025-03-08T10:50:10Z torcontrol thread exit\n2025-03-08T10:50:10Z addcon thread exit\n2025-03-08T10:50:10Z opencon thread exit\n2025-03-08T10:50:10Z Shutdown: In progress...\n2025-03-08T10:50:11Z net thread exit\n2025-03-08T10:50:11Z msghand thread exit\n2025-03-08T10:50:11Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat started\n2025-03-08T10:50:11Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat completed (0.00s)\n2025-03-08T10:50:11Z scheduler thread exit\n2025-03-08T10:50:11Z Writing 2481 mempool transactions to file...\n2025-03-08T10:50:12Z Writing 0 unbroadcast transactions to file.\n2025-03-08T10:50:12Z Dumped mempool: 0.003s to copy, 0.890s to dump, 37229324 bytes dumped to file\n2025-03-08T10:50:12Z Flushed fee estimates to fee_estimates.dat.\n2025-03-08T10:50:16Z Shutdown: done\n```\n\nWhen I restart the node, it seems to retrigger the snapshot validation:\n\n```bash\n[...]\n2025-03-10T23:07:38Z init message: Loading block indexâ€¦\n2025-03-10T23:07:38Z Assuming ancestors of block 00000000000000000001b658dd1120e82e66d2790811f89ede9742ada3ed6d77 have valid signatures.\n2025-03-10T23:07:38Z Setting nMinimumChainWork=0000000000000000000000000000000000000000b1f3b93b65b16d035a82be84\n2025-03-10T23:07:38Z [snapshot] detected active snapshot chainstate (~/bitcoin/chainstate_snapshot) - loading\n2025-03-10T23:07:38Z [snapshot] switching active chainstate to Chainstate [snapshot] @ height -1 (null)\n2025-03-10T23:07:47Z [snapshot] set m_chain_tx_count=1145604538 for 000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880\n2025-03-10T23:07:53Z LoadBlockIndexDB: last block file = 4817\n2025-03-10T23:07:53Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=53, size=92824607, heights=879796...879999, time=2025-01-18...2025-01-20)\n2025-03-10T23:07:53Z Checking all blk files are present...\n2025-03-10T23:08:00Z Initializing chainstate Chainstate [ibd] @ height -1 (null)\n2025-03-10T23:08:00Z Opening LevelDB in ~/bitcoin/chainstate\n2025-03-10T23:08:00Z Opened LevelDB successfully\n2025-03-10T23:08:00Z Using obfuscation key for ~/bitcoin/chainstate: ab3f38a96955367d\n2025-03-10T23:08:00Z Loaded best chain: hashBestChain=000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880 height=880000 date=2025-01-20T01:42:23Z progress=0.983528\n2025-03-10T23:08:00Z Initializing chainstate Chainstate [snapshot] @ height -1 (null)\n2025-03-10T23:08:00Z Opening LevelDB in ~/bitcoin/chainstate_snapshot\n2025-03-10T23:08:00Z Opened LevelDB successfully\n2025-03-10T23:08:00Z Using obfuscation key for ~/bitcoin/chainstate_snapshot: 67720f7b17c65cc7\n2025-03-10T23:08:00Z Loaded best chain: hashBestChain=0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b height=886849 date=2025-03-08T10:49:44Z progress=0.999139\n2025-03-10T23:08:00Z Opening LevelDB in ~/bitcoin/chainstate\n2025-03-10T23:08:00Z Opened LevelDB successfully\n2025-03-10T23:08:00Z Using obfuscation key for ~/bitcoin/chainstate: ab3f38a96955367d\n2025-03-10T23:08:00Z [Chainstate [ibd] @ height 880000 (000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880)] resized coinsdb cache to 0.4 MiB\n2025-03-10T23:08:00Z [Chainstate [ibd] @ height 880000 (000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880)] resized coinstip cache to 22.0 MiB\n2025-03-10T23:08:00Z Opening LevelDB in ~/bitcoin/chainstate_snapshot\n2025-03-10T23:08:00Z Opened LevelDB successfully\n2025-03-10T23:08:00Z Using obfuscation key for ~/bitcoin/chainstate_snapshot: 67720f7b17c65cc7\n2025-03-10T23:08:00Z [Chainstate [snapshot] @ height 886849 (0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b)] resized coinsdb cache to 7.6 MiB\n2025-03-10T23:08:00Z [Chainstate [snapshot] @ height 886849 (0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b)] resized coinstip cache to 418.0 MiB\n*2025-03-10T23:08:00Z [snapshot] computing UTXO stats for background chainstate to validate snapshot - this could take a few minutes*\n[cancelled revalidation]\n2025-03-10T23:08:08Z [error] UTXO snapshot failed to validate. Restart to resume normal initial block download, or try loading a different snapshot.\n2025-03-10T23:08:08Z Shutdown: In progress...\n2025-03-10T23:08:08Z scheduler thread exit\n2025-03-10T23:08:08Z Flushed fee estimates to fee_estimates.dat.\nError: UTXO snapshot failed to validate. Restart to resume normal initial block download, or try loading a different snapshot.\n2025-03-10T23:08:08Z Shutdown: done\n\nProcess finished with exit code 1\n```\n\nThis seems like an error, after fully validating it I would expect all traces of `AssumeUTXO` seeding to be gone.",
      "state": "open",
      "user": "l0rinc",
      "created_at": "2025-03-10T23:19:15Z",
      "updated_at": "2025-03-19T15:04:16Z",
      "comments": 13,
      "url": "https://github.com/bitcoin/bitcoin/issues/32029",
      "labels": [
        "Feature",
        "Validation"
      ],
      "comment_list": [
        {
          "user": "mzumsande",
          "body": "What do you mean with \"[cancelled it]\", did you abort bitcoind with Ctrl+C or similar? \n\nAs described in the  [design document](https://github.com/bitcoin/bitcoin/blob/master/doc/design/assumeutxo.md), all traces of AssumeUtxo are only gone after the next restart. Not sure why the UTXO stats check is repeated, maybe to prevent circumventing the check by terminating before, or something similar.",
          "created_at": "2025-03-10T23:46:20Z"
        },
        {
          "user": "Sjors",
          "body": "From the logs it seems the background sync was finished and the node was cleanly shut down. But the error suggests something was missed in the shutdown sequence?\n\nThere's still some open issues related to AssumeUTXO that may or may not be relevant here: #31382, #30610, #30214.\n\ncc @ryanofsky, @TheCharlatan\n\nIt seems very unlikely that this is related to the _new_ snapshot added in #31969.",
          "created_at": "2025-03-11T08:07:16Z"
        },
        {
          "user": "l0rinc",
          "body": "> all traces of AssumeUtxo are only gone after the next restart\n\nYes, after fully validating I have restarted the node and it wants to validate again, which I haven't done (cancelled the process)",
          "created_at": "2025-03-11T10:07:10Z"
        },
        {
          "user": "mzumsande",
          "body": "I'm pretty sure this is being done on purpose, see [this comment](https://github.com/bitcoin/bitcoin/blob/45719390a1434ad7377a5ed05dcd73028130cf2d/src/node/chainstate.cpp#L185-L193), so I wouldn't call it a bug. \n\nBut that doesn't mean it's ideal - if we want to skip the second UTXO stats check after restart, I think it would be wrong to just skip it from the init code path - instead I think we'd need to persist additional validation progress to disk (so that a user that Ctrl+C's out of the first check doesn't skip the check with the next restart).\n\nHow long does the UTXO stats computation for mainnet take with current snapshots - still a few minutes?",
          "created_at": "2025-03-11T13:24:36Z"
        },
        {
          "user": "Sjors",
          "body": "@mzumsande from that code comment it seems (the delayed) cleaning up is intentional, but not redoing validation. ",
          "created_at": "2025-03-11T13:35:13Z"
        },
        {
          "user": "fjahr",
          "body": "> I'm pretty sure this is being done on purpose, see [this comment](https://github.com/bitcoin/bitcoin/blob/45719390a1434ad7377a5ed05dcd73028130cf2d/src/node/chainstate.cpp#L185-L193), so I wouldn't call it a bug.\n\nYes, and there is more context in the comment on the implementation: https://github.com/bitcoin/bitcoin/blob/45719390a1434ad7377a5ed05dcd73028130cf2d/src/validation.cpp#L6102",
          "created_at": "2025-03-11T13:38:01Z"
        },
        {
          "user": "fjahr",
          "body": "I guess that the revalidation is expected could be added in the design doc here as well: https://github.com/bitcoin/bitcoin/blob/45719390a1434ad7377a5ed05dcd73028130cf2d/doc/design/assumeutxo.md#bitcoind-restarts-sometime-after-snapshot-validation-has-completed",
          "created_at": "2025-03-11T13:42:26Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks for the context @mzumsande, @Sjors, @fjahr.\n\n> so that a user that Ctrl+C's out of the first check\n\nThe first check finished fully (took me several nights), but now if I want to use that node, I still can't because it's validating again.\n\nI didn't cancel it this time, the new validation after restart took *23.5 more minutes* (it's frustrating to wait here, maybe https://github.com/bitcoin/bitcoin/pull/31645 helps), telling me yet again that `has been fully validated`:\n```bash\n[...]\n2025-03-11T13:27:26Z init message: Loading block indexâ€¦\n2025-03-11T13:27:26Z Assuming ancestors of block 00000000000000000001b658dd1120e82e66d2790811f89ede9742ada3ed6d77 have valid signatures.\n2025-03-11T13:27:26Z Setting nMinimumChainWork=0000000000000000000000000000000000000000b1f3b93b65b16d035a82be84\n2025-03-11T13:27:26Z [snapshot] detected active snapshot chainstate (bitcoin/chainstate_snapshot) - loading\n2025-03-11T13:27:26Z [snapshot] switching active chainstate to Chainstate [snapshot] @ height -1 (null)\n2025-03-11T13:27:39Z [snapshot] set m_chain_tx_count=1145604538 for 000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880\n2025-03-11T13:27:48Z LoadBlockIndexDB: last block file = 4817\n2025-03-11T13:27:49Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=53, size=92824607, heights=879796...879999, time=2025-01-18...2025-01-20)\n2025-03-11T13:27:49Z Checking all blk files are present...\n2025-03-11T13:27:59Z Initializing chainstate Chainstate [ibd] @ height -1 (null)\n2025-03-11T13:27:59Z Opening LevelDB in bitcoin/chainstate\n2025-03-11T13:27:59Z Opened LevelDB successfully\n2025-03-11T13:27:59Z Using obfuscation key for bitcoin/chainstate: ab3f38a96955367d\n2025-03-11T13:28:00Z Loaded best chain: hashBestChain=000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880 height=880000 date=2025-01-20T01:42:23Z progress=0.983327\n2025-03-11T13:28:00Z Initializing chainstate Chainstate [snapshot] @ height -1 (null)\n2025-03-11T13:28:00Z Opening LevelDB in bitcoin/chainstate_snapshot\n2025-03-11T13:28:00Z Opened LevelDB successfully\n2025-03-11T13:28:00Z Using obfuscation key for bitcoin/chainstate_snapshot: 67720f7b17c65cc7\n2025-03-11T13:28:00Z Loaded best chain: hashBestChain=0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b height=886849 date=2025-03-08T10:49:44Z progress=0.998934\n2025-03-11T13:28:00Z Opening LevelDB in bitcoin/chainstate\n2025-03-11T13:28:01Z Opened LevelDB successfully\n2025-03-11T13:28:01Z Using obfuscation key for bitcoin/chainstate: ab3f38a96955367d\n2025-03-11T13:28:01Z [Chainstate [ibd] @ height 880000 (000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880)] resized coinsdb cache to 0.4 MiB\n2025-03-11T13:28:01Z [Chainstate [ibd] @ height 880000 (000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880)] resized coinstip cache to 22.0 MiB\n2025-03-11T13:28:01Z Opening LevelDB in bitcoin/chainstate_snapshot\n2025-03-11T13:28:01Z Opened LevelDB successfully\n2025-03-11T13:28:01Z Using obfuscation key for bitcoin/chainstate_snapshot: 67720f7b17c65cc7\n2025-03-11T13:28:01Z [Chainstate [snapshot] @ height 886849 (0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b)] resized coinsdb cache to 7.6 MiB\n2025-03-11T13:28:01Z [Chainstate [snapshot] @ height 886849 (0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b)] resized coinstip cache to 418.0 MiB\n*2025-03-11T13:28:01Z [snapshot] computing UTXO stats for background chainstate to validate snapshot - this could take a few minutes*\n*2025-03-11T13:51:22Z [snapshot] snapshot beginning at 000000000000000000010b17283c3c400507969a9c2afd1dcf2082ec5cca2880 has been fully validated*\n2025-03-11T13:51:22Z [snapshot] allocating all cache to the snapshot chainstate\n2025-03-11T13:51:22Z Opening LevelDB in bitcoin/chainstate_snapshot\n2025-03-11T13:51:22Z Opened LevelDB successfully\n2025-03-11T13:51:22Z Using obfuscation key for bitcoin/chainstate_snapshot: 67720f7b17c65cc7\n2025-03-11T13:51:22Z [Chainstate [snapshot] @ height 886849 (0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b)] resized coinsdb cache to 8.0 MiB\n2025-03-11T13:51:22Z [Chainstate [snapshot] @ height 886849 (0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b)] resized coinstip cache to 440.0 MiB\n2025-03-11T13:51:22Z [snapshot] cleaning up unneeded background chainstate, then reinitializing\n2025-03-11T13:51:22Z [snapshot] deleting background chainstate directory (now unnecessary) (bitcoin/chainstate)\n2025-03-11T13:51:22Z [snapshot] moving snapshot chainstate (bitcoin/chainstate_snapshot) to default chainstate directory (bitcoin/chainstate)\n2025-03-11T13:51:22Z Removing leveldb dir at bitcoin/chainstate_todelete\n2025-03-11T13:51:23Z [snapshot] deleted background chainstate directory (bitcoin/chainstate)\n2025-03-11T13:51:45Z LoadBlockIndexDB: last block file = 4817\n2025-03-11T13:51:45Z LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=53, size=92824607, heights=879796...879999, time=2025-01-18...2025-01-20)\n2025-03-11T13:51:45Z Checking all blk files are present...\n2025-03-11T13:51:51Z Initializing chainstate Chainstate [ibd] @ height -1 (null)\n2025-03-11T13:51:51Z Opening LevelDB in bitcoin/chainstate\n2025-03-11T13:51:51Z Opened LevelDB successfully\n2025-03-11T13:51:51Z Using obfuscation key for bitcoin/chainstate: 67720f7b17c65cc7\n2025-03-11T13:51:51Z Loaded best chain: hashBestChain=0000000000000000000069aed813954edef3972f9c8ee36632f3113a72dad42b height=886849 date=2025-03-08T10:49:44Z progress=0.998928\n2025-03-11T13:51:51Z init message: Verifying blocksâ€¦\n2025-03-11T13:51:51Z Verifying last 6 blocks at level 3\n2025-03-11T13:51:51Z Verification progress: 0%\n2025-03-11T13:51:52Z Verification progress: 16%\n2025-03-11T13:51:53Z Verification progress: 33%\n2025-03-11T13:51:53Z Verification progress: 50%\n2025-03-11T13:51:54Z Verification progress: 66%\n2025-03-11T13:51:54Z Verification progress: 83%\n2025-03-11T13:51:55Z Verification progress: 99%\n2025-03-11T13:51:55Z Verification: No coin database inconsistencies in last 6 blocks (4258 transactions)\n2025-03-11T13:51:55Z Block index and chainstate loaded\n2025-03-11T13:51:55Z Setting NODE_NETWORK on non-prune mode\n2025-03-11T13:51:55Z block tree size = 886850\n2025-03-11T13:51:55Z nBestHeight = 886849\n2025-03-11T13:51:55Z initload thread start\n2025-03-11T13:51:55Z torcontrol thread start\n2025-03-11T13:51:55Z Bound to 127.0.0.1:8334\n2025-03-11T13:51:55Z Bound to [::]:8333\n2025-03-11T13:51:55Z Bound to 0.0.0.0:8333\n2025-03-11T13:51:55Z Loading 2481 mempool transactions from file...\n2025-03-11T13:51:55Z Loaded 2 addresses from \"anchors.dat\"\n2025-03-11T13:51:55Z 2 block-relay-only anchors will be tried for connections.\n2025-03-11T13:51:55Z init message: Starting network threadsâ€¦\n2025-03-11T13:51:55Z net thread start\n2025-03-11T13:51:55Z dnsseed thread start\n2025-03-11T13:51:55Z addcon thread start\n2025-03-11T13:51:55Z Waiting 300 seconds before querying DNS seeds.\n2025-03-11T13:51:55Z opencon thread start\n2025-03-11T13:51:55Z msghand thread start\n2025-03-11T13:51:55Z init message: Done loading\n2025-03-11T13:51:56Z New block-relay-only v1 peer connected: version: 70016, blocks=887330, peer=0\n2025-03-11T13:51:57Z Synchronizing blockheaders, height: 887330 (~100.00%)\n2025-03-11T13:51:58Z New block-relay-only v2 peer connected: version: 70016, blocks=887330, peer=1\n2025-03-11T13:51:58Z New outbound-full-relay v2 peer connected: version: 70016, blocks=887330, peer=2\n2025-03-11T13:52:08Z UpdateTip: new best=00000000000000000001bc8d0bd8e993c8a950e34a9fe759bb69d4f6fb3ff601 height=886850 version=0x20000000 log2_work=95.483940 tx=1163419416 date='2025-03-08T10:52:27Z' progress=0.998929 cache=5.7MiB(41768txo)\n2025-03-11T13:52:11Z UpdateTip: new best=0000000000000000000098bb1d32f1db914e955c90a86f30691086470a336f91 height=886851 version=0x20000000 log2_work=95.483953 tx=1163423117 date='2025-03-08T11:22:58Z' progress=0.998936 cache=8.9MiB(64502txo)\n2025-03-11T13:52:13Z UpdateTip: new best=0000000000000000000216605d549288023c708ec74cef2955bc03d4566fb754 height=886852 version=0x27d9c000 log2_work=95.483965 tx=1163425811 date='2025-03-08T11:34:56Z' progress=0.998939 cache=10.7MiB(79356txo)\n2025-03-11T13:52:15Z UpdateTip: new best=000000000000000000003f6193d78eb1cb084ba739184ca177820e7e373241fb height=886853 version=0x24170000 log2_work=95.483977 tx=1163427357 date='2025-03-08T11:41:24Z' progress=0.998940 cache=12.5MiB(93006txo)\n2025-03-11T13:52:19Z UpdateTip: new best=000000000000000000024825fa49ef89d063e87deae43f15d5d8323b461b239e height=886854 version=0x26000000 log2_work=95.483990 tx=1163427517 date='2025-03-08T11:42:06Z' progress=0.998941 cache=14.8MiB(104619txo)\n2025-03-11T13:52:19Z Progress loading mempool transactions from file: 10% (tried 249, 2232 remaining)\n2025-03-11T13:52:21Z UpdateTip: new best=00000000000000000000a1463806753da06c0b843fa40c0444721533605e1801 height=886855 version=0x21c18000 log2_work=95.484002 tx=1163430820 date='2025-03-08T12:01:23Z' progress=0.998945 cache=16.9MiB(121461txo)\n2025-03-11T13:52:25Z UpdateTip: new best=000000000000000000012e657fa846faa9d0006a3948dcd2a39ecbce21726848 height=886856 version=0x3fffe000 log2_work=95.484014 tx=1163433043 date='2025-03-08T12:12:41Z' progress=0.998948 cache=19.2MiB(140436txo)\n2025-03-11T13:52:31Z UpdateTip: new best=00000000000000000001cad81aac3de33314551dda3ef92944f4ccd12f847937 height=886857 version=0x3a000000 log2_work=95.484027 tx=1163436098 date='2025-03-08T12:25:33Z' progress=0.998951 cache=23.1MiB(170213txo)\n2025-03-11T13:52:32Z New outbound-full-relay v2 peer connected: version: 70016, blocks=887330, peer=3\n2025-03-11T13:52:34Z New outbound-full-relay v2 peer connected: version: 70016, blocks=887330, peer=5\n2025-03-11T13:52:38Z Progress loading mempool transactions from file: 20% (tried 497, 1984 remaining)\n2025-03-11T13:52:39Z P2P peers available. Skipped DNS seeding.\n2025-03-11T13:52:39Z dnsseed thread exit\n2025-03-11T13:52:40Z UpdateTip: new best=00000000000000000001a4b0a704457e12191036d6499a18bd0b0e9ee1239ec5 height=886858 version=0x27a48000 log2_work=95.484039 tx=1163437354 date='2025-03-08T12:32:00Z' progress=0.998952 cache=29.5MiB(210586txo)\n2025-03-11T13:52:42Z New outbound-full-relay v1 peer connected: version: 70016, blocks=887330, peer=7\n2025-03-11T13:52:46Z UpdateTip: new best=00000000000000000000d8573406a7297e2a3336cc03b5ad99267a2dfff93ed7 height=886859 version=0x30000000 log2_work=95.484051 tx=1163440929 date='2025-03-08T13:01:21Z' progress=0.998959 cache=34.3MiB(243502txo)\n2025-03-11T13:52:46Z New outbound-full-relay v2 peer connected: version: 70016, blocks=887330, peer=9\n2025-03-11T13:52:52Z UpdateTip: new best=0000000000000000000267c4fbb29182edf534d40d7a65082126203600691bb7 height=886860 version=0x2739e000 log2_work=95.484064 tx=1163444622 date='2025-03-08T13:08:23Z' progress=0.998961 cache=38.9MiB(277068txo)\n2025-03-11T13:52:54Z New outbound-full-relay v2 peer connected: version: 70016, blocks=887330, peer=13\n2025-03-11T13:52:58Z UpdateTip: new best=000000000000000000023a03aa87dfacf8af4a2d2998bc833c5cf1a420245f19 height=886861 version=0x20800000 log2_work=95.484076 tx=1163446006 date='2025-03-08T13:10:29Z' progress=0.998962 cache=42.7MiB(308818txo)\n2025-03-11T13:53:02Z UpdateTip: new best=0000000000000000000099fdced634a90b5db9873e1343286174163202c99c84 height=886862 version=0x25de2000 log2_work=95.484089 tx=1163450400 date='2025-03-08T13:13:36Z' progress=0.998962 cache=45.4MiB(328728txo)\n2025-03-11T13:53:02Z Progress loading mempool transactions from file: 30% (tried 745, 1736 remaining)\n2025-03-11T13:53:07Z New outbound-full-relay v1 peer connected: version: 70016, blocks=887330, peer=14\n2025-03-11T13:53:07Z New outbound-full-relay v1 peer connected: version: 70016, blocks=887330, peer=15\n2025-03-11T13:53:10Z UpdateTip: new best=00000000000000000000237471f0d5c35d042fa79f83fff00d928fef9ae806b0 height=886863 version=0x24282000 log2_work=95.484101 tx=1163455028 date='2025-03-08T13:24:30Z' progress=0.998965 cache=50.6MiB(368964txo)\n2025-03-11T13:53:11Z Progress loading mempool transactions from file: 40% (tried 993, 1488 remaining)\n2025-03-11T13:53:12Z Progress loading mempool transactions from file: 50% (tried 1241, 1240 remaining)\n2025-03-11T13:53:12Z Progress loading mempool transactions from file: 60% (tried 1489, 992 remaining)\n2025-03-11T13:53:13Z Progress loading mempool transactions from file: 70% (tried 1737, 744 remaining)\n2025-03-11T13:53:13Z Progress loading mempool transactions from file: 80% (tried 1985, 496 remaining)\n2025-03-11T13:53:13Z Progress loading mempool transactions from file: 90% (tried 2233, 248 remaining)\n2025-03-11T13:53:14Z Imported mempool transactions from file: 2354 succeeded, 127 failed, 0 expired, 0 already there, 0 waiting for initial broadcast\n2025-03-11T13:53:14Z initload thread exit\n2025-03-11T13:53:18Z UpdateTip: new best=00000000000000000001d30ecf16085b9c35f95510a19e08ac5779c6e268872b height=886864 version=0x20006000 log2_work=95.484113 tx=1163459502 date='2025-03-08T13:39:08Z' progress=0.998968 cache=53.2MiB(387901txo)\n2025-03-11T13:53:27Z UpdateTip: new best=0000000000000000000079a14b7bcddfcb0c14695976a6cd6c32a0940707e78b height=886865 version=0x2194c000 log2_work=95.484126 tx=1163461688 date='2025-03-08T13:40:23Z' progress=0.998969 cache=54.0MiB(394261txo)\n2025-03-11T13:53:28Z UpdateTip: new best=000000000000000000003d18f17b2169024941402cdea04ecc626c80acb0e89a height=886866 version=0x2b2d8000 log2_work=95.484138 tx=1163465087 date='2025-03-08T13:53:11Z' progress=0.998972 cache=55.1MiB(402887txo)\n2025-03-11T13:53:28Z UpdateTip: new best=00000000000000000000c00bd3d85620ef4bda2947d2ba88084ffd3aab7e3d0e height=886867 version=0x20102000 log2_work=95.484150 tx=1163469194 date='2025-03-08T14:13:03Z' progress=0.998976 cache=59.6MiB(412811txo)\n2025-03-11T13:53:29Z UpdateTip: new best=00000000000000000001b97ac94fb6f856e8e24a1cd60e51dc4453449331819b height=886868 version=0x2318c000 log2_work=95.484163 tx=1163473194 date='2025-03-08T14:19:21Z' progress=0.998978 cache=60.7MiB(421109txo)\n2025-03-11T13:53:30Z UpdateTip: new best=000000000000000000012c3a92ccdb68121d7f057d02ea93ffbc47b7f7339b22 height=886869 version=0x2ced0000 log2_work=95.484175 tx=1163477257 date='2025-03-08T14:26:28Z' progress=0.998979 cache=61.9MiB(428630txo)\n2025-03-11T13:53:31Z UpdateTip: new best=000000000000000000000f7e132315c7413e2b0e9d911e70d389f61b3015f03a height=886870 version=0x20d86000 log2_work=95.484187 tx=1163480480 date='2025-03-08T14:30:09Z' progress=0.998980 cache=62.8MiB(434619txo)\n2025-03-11T13:53:41Z New outbound-full-relay v1 peer connected: version: 70016, blocks=887330, peer=17\n2025-03-11T13:53:43Z UpdateTip: new best=00000000000000000000f24d62e2974dd598a84f0531bc21360b24baddd25973 height=886871 version=0x2012a000 log2_work=95.484200 tx=1163483324 date='2025-03-08T14:30:20Z' progress=0.998980 cache=63.6MiB(440837txo)\n2025-03-11T13:53:58Z Synchronizing blockheaders, height: 887331 (~100.00%)\n2025-03-11T13:54:14Z UpdateTip: new best=0000000000000000000050e1e989fb3b6fd38ba21692da8c4b97c3a4e9d77f9c height=886872 version=0x28c54000 log2_work=95.484212 tx=1163484525 date='2025-03-08T14:32:39Z' progress=0.998981 cache=64.1MiB(444953txo)\n2025-03-11T13:54:42Z UpdateTip: new best=000000000000000000010e28d4693b477da839300a598eb3551c02fd0fd2e9f4 height=886873 version=0x2e87e000 log2_work=95.484225 tx=1163484964 date='2025-03-08T14:34:05Z' progress=0.998981 cache=64.9MiB(450601txo)\n2025-03-11T13:54:46Z New outbound-full-relay v2 peer connected: version: 70016, blocks=887331, peer=18\n2025-03-11T13:55:06Z UpdateTip: new best=000000000000000000027aab9b0c69b12a2fdb0705e49c1673557aaa78997c6c height=886874 version=0x23a7a000 log2_work=95.484237 tx=1163488893 date='2025-03-08T14:59:41Z' progress=0.998987 cache=66.3MiB(461780txo)\n2025-03-11T13:55:24Z UpdateTip: new best=00000000000000000001e0b27f66401eff799d0f00433d04f5c41ee0759c4bbf height=886875 version=0x2aec4000 log2_work=95.484249 tx=1163491105 date='2025-03-08T15:02:06Z' progress=0.998988 cache=66.8MiB(466128txo)\n2025-03-11T13:55:49Z UpdateTip: new best=00000000000000000001a835f33b3682ff2a791818012018166e3c9270733c84 height=886876 version=0x236f4000 log2_work=95.484262 tx=1163493698 date='2025-03-08T15:13:41Z' progress=0.998990 cache=67.9MiB(473837txo)\n2025-03-11T13:56:07Z tor: Thread interrupt\n2025-03-11T13:56:07Z Shutdown: In progress...\n2025-03-11T13:56:07Z torcontrol thread exit\n2025-03-11T13:56:07Z addcon thread exit\n2025-03-11T13:56:07Z opencon thread exit\n2025-03-11T13:56:07Z net thread exit\n2025-03-11T13:56:07Z UpdateTip: new best=00000000000000000001d408572cb2afd223a9725e4790584496c20f4f0c0c62 height=886877 version=0x2e3ba000 log2_work=95.484274 tx=1163496262 date='2025-03-08T15:21:35Z' progress=0.998992 cache=68.7MiB(480984txo)\n2025-03-11T13:56:07Z msghand thread exit\n2025-03-11T13:56:07Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat started\n2025-03-11T13:56:07Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat completed (0.00s)\n2025-03-11T13:56:07Z scheduler thread exit\n2025-03-11T13:56:07Z Writing 2076 mempool transactions to file...\n2025-03-11T13:56:08Z Writing 0 unbroadcast transactions to file.\n2025-03-11T13:56:08Z Dumped mempool: 0.003s to copy, 1.239s to dump, 30830490 bytes dumped to file\n2025-03-11T13:56:08Z Flushed fee estimates to fee_estimates.dat.\n2025-03-11T13:56:11Z Shutdown: done\n```\n\nRestarted after this multiple times and the node seems to be functional now.\n\nWe should either make this clear in the logs that a restart is needed to finish the process (if a restart and revalidation is needed the first validation wasn't \"full\" in my opinion) and update the design docs or figure out how to clean it up after full validation finishes.\n",
          "created_at": "2025-03-11T14:11:39Z"
        },
        {
          "user": "mzumsande",
          "body": "> _23.5 more minutes_\n\nThat's way longer than I thought it would take but I guess the UTXO set has grown a lot over the last years.\n\nMy idea of a fix would be to set some kind of DB flag such as (`DB_ASSUMEUTXO_VALIDATED`) in the background chainstate after the assumeutxo hash was successfully validated the first time, and then skip the check at next startup if that flag was set. I think I'll try that out / open a PR if it works.",
          "created_at": "2025-03-11T18:07:52Z"
        },
        {
          "user": "l0rinc",
          "body": "23 minutes on my M4 Max - likely ~40 minutes on commodity hardware",
          "created_at": "2025-03-11T19:40:00Z"
        },
        {
          "user": "fjahr",
          "body": "> 23 minutes on my M4 Max - likely ~40 minutes on commodity hardware\n\nHuh, that sounds wrong, were you using a dev/debug build? Or is this probably caused by low resource allocation?\n\nThis is me on a vanilla M4 and `gettoutsetinfo` shouldn't do much different in total time than verifying the hash of the snapshot since calculating the hash should be the only expensive part...\n\n```\n$ time build/src/bitcoin-cli gettxoutsetinfo\n{\n  \"height\": 887381,\n  \"bestblock\": \"000000000000000000023ce7c194520dd6ef38a1d2633f8a726e3a7346549c09\",\n  \"txouts\": 174298133,\n  \"bogosize\": 13621053583,\n  \"hash_serialized_3\": \"141ef6fe62a3790ee8c1cb3d953ed28a08dbf1c3f657f108f29aa40772d4ef63\",\n  \"total_amount\": 19835347.85105552,\n  \"transactions\": 120619254,\n  \"disk_size\": 11960167091\n}\n\nreal\t0m56.478s\nuser\t0m0.001s\nsys\t0m0.002s\n```",
          "created_at": "2025-03-11T23:53:54Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks for the clarification @fjahr, I thought the reverification causes the utxo set to dump again (it's why I though https://github.com/bitcoin/bitcoin/pull/31645 could help) - which incidentally took about the same time for me in previous runs.\n\nIt's possible that this final run (when I didn't cancel the reverification) was indeed in debug mode - (though `gettxoutsetinfo` in `Debug` \"only\" takes 13 minutes).\n\n@mzumsande, the `DB_ASSUMEUTXO_VALIDATED` experiment may not be necessary in light of this, probably just a better message preparing the user that \"final validation\" isn't actually the last time we're validating it.",
          "created_at": "2025-03-12T11:48:34Z"
        },
        {
          "user": "fjahr",
          "body": "I would still be concept ACK on a PR from @mzumsande if it doesn't turn out to be too complicated. I think James built in a lot of belts and suspenders because initially not everyone was fully on board with the concept and it makes sense to clean this up now if it's just redundant work.",
          "created_at": "2025-03-14T00:03:02Z"
        }
      ]
    },
    {
      "number": 32026,
      "title": "29.0 RC Testing Guide Feedback",
      "body": "This issue is to discuss the [29.0 Release Candidate Testing Guide](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/29.0-Release-Candidate-Testing-Guide). If you have any feedback on the document, please leave a comment here.\n\nNote: This is for feedback on the document, not on Bitcoin Core or on the 29.0 changes.\n\nThank you for taking a look at the guide and leaving your feedback.\n\nps. The initial page was co-authored-by: \n@arejula27\n@musaHaruna\n@Prabhat1308\nAs part of the 2025 [Chaincode labs BOSS](http://learning.chaincode.com/#BOSS) program\n",
      "state": "closed",
      "user": "janb84",
      "created_at": "2025-03-10T15:44:16Z",
      "updated_at": "2025-04-14T16:10:53Z",
      "comments": 19,
      "url": "https://github.com/bitcoin/bitcoin/issues/32026",
      "labels": [],
      "comment_list": [
        {
          "user": "darosior",
          "body": "For pinholing could you encourage people to test against their router at home and share the result along with the model of their router at https://github.com/bitcoin/bitcoin/issues/31663?",
          "created_at": "2025-03-11T15:34:46Z"
        },
        {
          "user": "janb84",
          "body": "> For pinholing could you encourage people to test against their router at home and share the result along with the model of their router at [#31663](https://github.com/bitcoin/bitcoin/issues/31663)?\n\n@darosior \nThank you for your feedback! I've made several improvements:\n\n- Added text with a link to the issue mentioned with a request to test and report. \n- Implemented the missing successful PCP logging that was mentioned in the issue\n- Added a clarifying statement to enable PCP if an attempt fails",
          "created_at": "2025-03-11T16:20:44Z"
        },
        {
          "user": "hodlinator",
          "body": "Thanks for working on this!\n\n> ... After running through the steps in this guide, you are encouraged to do your own testing.\n>\n> This can be as simple as testing the same features in this guide but trying it a different way. ...\n\nThese seem like they belong in the same paragraph? Either replace \"This\" with \"Your own testing\" or bring them together.\n\n> introduces ephemeral dust to improve transaction packaging\n\nEphemeral dust transactions should be combined with a transaction that spends from the dust and pays fees, but we don't yet even have package relay (instead currently relying on orphan-logic). To me ephemeral dust enables exogenous fees, avoiding the need to commit to a fee-rate. Would say \"introduces ephemeral dust in order to defer committing to fees\".\n\n> Libnatpmp was replaced with a built-in implementation of PCP and NAT-PMP. \n\n\"custom\" or \"bespoke\" rather than \"built-in\"?\n\n> wil result that Bitcoin core wil fail to start.\n\nwill\n\n> getmininginfo\n\nMight be cool if one could provoke a case where `next` had different values from current. regtest has a `nMinerConfirmationWindow` of 144 blocks instead of the regular 2016, but I don't know how/if difficulty adjustments work there.\n\n> getblock, getblockheader, getblockchaininfo, getchainstates\n\nFeels a bit verbose how the guide currently goes through all the added target/bits fields, maybe one could just list the RPCs and what new fields to expect, then list one example output?",
          "created_at": "2025-03-12T14:43:38Z"
        },
        {
          "user": "janb84",
          "body": "> Thanks for working on this!\n> \n> > ... After running through the steps in this guide, you are encouraged to do your own testing.\n> > This can be as simple as testing the same features in this guide but trying it a different way. ...\n> \n> These seem like they belong in the same paragraph? Either replace \"This\" with \"Your own testing\" or bring them together.\n\nChanged âœ…\n> \n> > introduces ephemeral dust to improve transaction packaging\n> \n> Ephemeral dust transactions should be combined with a transaction that spends from the dust and pays fees, but we don't yet even have package relay (instead currently relying on orphan-logic). To me ephemeral dust enables exogenous fees, avoiding the need to commit to a fee-rate. Would say \"introduces ephemeral dust in order to defer committing to fees\".\n\nChanged âœ…\n> \n> > Libnatpmp was replaced with a built-in implementation of PCP and NAT-PMP.\n> \n> \"custom\" or \"bespoke\" rather than \"built-in\"?\n\nChanged âœ…\n> \n> > wil result that Bitcoin core wil fail to start.\n> \n> will\n> \n\nChanged âœ…\n> > getmininginfo\n> \n> Might be cool if one could provoke a case where `next` had different values from current. regtest has a `nMinerConfirmationWindow` of 144 blocks instead of the regular 2016, but I don't know how/if difficulty adjustments work there.\n\nOpen ðŸ¤”\n> \n> > getblock, getblockheader, getblockchaininfo, getchainstates\n> \n> Feels a bit verbose how the guide currently goes through all the added target/bits fields, maybe one could just list the RPCs and what new fields to expect, then list one example output?\n\nChanged âœ…\n\nThanks for the feedback. We made changes accordingly ",
          "created_at": "2025-03-15T13:05:50Z"
        },
        {
          "user": "Emzy",
          "body": "I tested the PCP functionality with v29.0rc2.\n\nStarted it like this on my m3 mac ```/Applications/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -signet  -natpmp=1 -debug=net``` \n\nRouter is a FRITZ!Box 7530 AX with up to date firmware version 8.02.\n\nFirst I got this for ipv4:\n```\n2025-03-19T17:13:52Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 38333 from gateway 192.168.99.1\n2025-03-19T17:13:52Z [net] pcp: Internal address after connect: 192.168.99.114\n2025-03-19T17:13:52Z [net] pcp: Received response of 60 bytes:[xxx]\n2025-03-19T17:13:52Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n```\n\nI needed to allow PCP in my router via: Internet > Permit Access > Port Sharing > Add Device for Sharing > _Permit independent port sharing for this device_\nAfter this it worked:\n```\n2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 38333 from gateway 192.168.99.1\n2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 192.168.99.114\n2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n2025-03-19T17:24:28Z [net:info] portmap: Added mapping pcp:87.x.x.x:38333 -> 192.168.99.114:38333 (for 13s)\n```\nI also checked from a public node to connect to this node on my LAN. And it worked fine.\n\n\nI have native ipv6 at home. But the ipv6 pinholing seems not to work. Maybe I router has no support for it. Also I can't find a special setting apart from the _Permit independent port sharing for this device_.\n\nI see this in the log:\n```\n2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 2001:x:x:x:x:x:x:x port 38333 from gateway fe80:x:x:x:x:x:x:x%14\n2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 2001:x:x:x:x:x:x:x\n2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n2025-03-19T17:24:28Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 2001:x:x:x:x:x:x:x port 38333 from gateway fe80:e:\n:3e37:12ff:fe12:ce12%14\n2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 2001:x:x:x:x:x:x:x\n2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n2025-03-19T17:24:28Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n```",
          "created_at": "2025-03-19T18:09:36Z"
        },
        {
          "user": "janb84",
          "body": "> I tested the PCP functionality with v29.0rc2.\n> \n> Started it like this on my m3 mac `/Applications/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -signet -natpmp=1 -debug=net`\n> \n> Router is a FRITZ!Box 7530 AX with up to date firmware version 8.02.\n> \n> First I got this for ipv4:\n> \n> ```\n> 2025-03-19T17:13:52Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 38333 from gateway 192.168.99.1\n> 2025-03-19T17:13:52Z [net] pcp: Internal address after connect: 192.168.99.114\n> 2025-03-19T17:13:52Z [net] pcp: Received response of 60 bytes:[xxx]\n> 2025-03-19T17:13:52Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n> ```\n> \n> I needed to allow PCP in my router via: Internet > Permit Access > Port Sharing > Add Device for Sharing > _Permit independent port sharing for this device_ After this it worked:\n> \n> ```\n> 2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 0.0.0.0 port 38333 from gateway 192.168.99.1\n> 2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 192.168.99.114\n> 2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n> 2025-03-19T17:24:28Z [net:info] portmap: Added mapping pcp:87.x.x.x:38333 -> 192.168.99.114:38333 (for 13s)\n> ```\n> \n> I also checked from a public node to connect to this node on my LAN. And it worked fine.\n> \n> I have native ipv6 at home. But the ipv6 pinholing seems not to work. Maybe I router has no support for it. Also I can't find a special setting apart from the _Permit independent port sharing for this device_.\n> \n> I see this in the log:\n> \n> ```\n> 2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 2001:x:x:x:x:x:x:x port 38333 from gateway fe80:x:x:x:x:x:x:x%14\n> 2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 2001:x:x:x:x:x:x:x\n> 2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n> 2025-03-19T17:24:28Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n> 2025-03-19T17:24:28Z [net] pcp: Requesting port mapping for addr 2001:x:x:x:x:x:x:x port 38333 from gateway fe80:e:\n> :3e37:12ff:fe12:ce12%14\n> 2025-03-19T17:24:28Z [net] pcp: Internal address after connect: 2001:x:x:x:x:x:x:x\n> 2025-03-19T17:24:28Z [net] pcp: Received response of 60 bytes: [xxx]\n> 2025-03-19T17:24:28Z [net:warning] pcp: Mapping failed with result NOT_AUTHORIZED (code 2)\n> ```\nThanks for the feedback, would you be so kind to copy this comment and also make a comment [here](https://github.com/bitcoin/bitcoin/issues/31663) ",
          "created_at": "2025-03-19T18:13:17Z"
        },
        {
          "user": "frankomosh",
          "body": "> This issue is to discuss the [29.0 Release Candidate Testing Guide](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/29.0-Release-Candidate-Testing-Guide). If you have any feedback on the document, please leave a comment here.\n> \n> Note: This is for feedback on the document, not on Bitcoin Core or on the 29.0 changes.\n> \n> Thank you for taking a look at the guide and leaving your feedback.\n> \n> ps. The initial page was co-authored-by: [@arejula27](https://github.com/arejula27) [@musaHaruna](https://github.com/musaHaruna) [@Prabhat1308](https://github.com/Prabhat1308) As part of the 2025 [Chaincode labs BOSS](http://learning.chaincode.com/#BOSS) program\n\nThanks for the comprehensive guide. ",
          "created_at": "2025-03-24T05:55:40Z"
        },
        {
          "user": "pinheadmz",
          "body": "This link is  incorrect:\n\n> [4.1 Introduce new getdescriptoractivity rpc to track activity of a given set of descriptors](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/29.0-Release-Candidate-Testing-Guide#41-introduce-new-getdescriptoractivity-rpc-to-track-activity-of-a-given-set-of-descriptors)([#28121](https://github.com/bitcoin/bitcoin/pull/28121))\n\n\nit should be #30708",
          "created_at": "2025-03-27T17:33:53Z"
        },
        {
          "user": "Prabhat1308",
          "body": "> This link is incorrect:\n> \n> > [4.1 Introduce new getdescriptoractivity rpc to track activity of a given set of descriptors](https://github.com/bitcoin-core/bitcoin-devwiki/wiki/29.0-Release-Candidate-Testing-Guide#41-introduce-new-getdescriptoractivity-rpc-to-track-activity-of-a-given-set-of-descriptors)([#28121](https://github.com/bitcoin/bitcoin/pull/28121))\n> \n> it should be [#30708](https://github.com/bitcoin/bitcoin/pull/30708)\n\nFixed",
          "created_at": "2025-03-27T17:45:45Z"
        },
        {
          "user": "yuvicc",
          "body": "I have tested on my local machine and here are some of my observation\nhttps://github.com/i-am-yuvi/bitcoin-core-issues-prs-notes/blob/master/29.0rc_testing.md",
          "created_at": "2025-03-28T10:39:30Z"
        },
        {
          "user": "janb84",
          "body": "> I have tested on my local machine and here are some of my observation https://github.com/i-am-yuvi/bitcoin-core-issues-prs-notes/blob/master/29.0rc_testing.md\n\nThanks for the report ! Would you be so kind to make an extract from the PCP / NAT-PMP part your findings to a comment [here](https://github.com/bitcoin/bitcoin/issues/31663). Would be so helpful ! \n\nThanks again",
          "created_at": "2025-03-28T10:50:36Z"
        },
        {
          "user": "Prabhat1308",
          "body": "> I have tested on my local machine and here are some of my observation https://github.com/i-am-yuvi/bitcoin-core-issues-prs-notes/blob/master/29.0rc_testing.md\n\nYou might have missed building with 29.0 . I Don't see a `reject-detail` field in the last response you have tested.",
          "created_at": "2025-03-28T10:52:30Z"
        },
        {
          "user": "yuvicc",
          "body": "> > I have tested on my local machine and here are some of my observation https://github.com/i-am-yuvi/bitcoin-core-issues-prs-notes/blob/master/29.0rc_testing.md\n> \n> You might have missed building with 29.0 . I Don't see a `reject-detail` field in the last response you have tested.\n\nThanks for this @Prabhat1308, for some reason, while testing the updated rpc I checked out v28.1rc. I have updated the report!\n",
          "created_at": "2025-03-28T11:10:48Z"
        },
        {
          "user": "monlovesmango",
          "body": "Thanks for putting this guide together!! Some feedback below.\n\nIn section 2.2, \"Start the bitcoind session\" command is missing a dash. Should be `bitcoind29 -daemon` but currently is `bitcoind29 daemon`.\n\nIn section 3.1, why not make the commands use placeholders so reviewers can use the commands straight from the guide (like in section 2.2)? Makes reviewing much easier and more auditable. Here are the commands that would do this:\n```\ncoinbase_txid=$(bcli29 -regtest listunspent | jq -r \".[0].txid\")\necho $coinbase_txid\n\nsatoshi_address=$(bcli29 -regtest getnewaddress)\necho $satoshi_address\n\ntx_highfee=$(bcli29 -regtest createrawtransaction \"[{\\\"txid\\\":\\\"$coinbase_txid\\\",\\\"vout\\\":0}]\" \\\n    \"[{\\\"$satoshi_address\\\":49.99990000},{\\\"data\\\":\\\"6a0001\\\"}]\")\necho $tx_highfee\n\ntx_highfee_signed=$(bcli29 -regtest signrawtransactionwithwallet $tx_highfee | jq -r .hex)\necho $tx_highfee_signed\n\nbcli29 -regtest sendrawtransaction $tx_highfee_signed\n\ntx_lowfee=$(bcli29 -regtest createrawtransaction \"[{\\\"txid\\\":\\\"$coinbase_txid\\\",\\\"vout\\\":0}]\" \\\n    \"[{\\\"$satoshi_address\\\":49.99995000},{\\\"data\\\":\\\"6a0001\\\"}]\")\necho $tx_lowfee\n\ntx_lowfee_signed=$(bcli29 -regtest signrawtransactionwithwallet $tx_lowfee | jq -r .hex)\necho $tx_lowfee_signed\n\nbcli29 -regtest testmempoolaccept \"[\\\"$tx_lowfee_signed\\\"]\"\n```\n\nIn section 3.2, why does it say FIXME?\n\nIn section 3.4, for `getblockchaininfo` and `getchainstates` commands remove the `-regtest` argument (or modify the rest of this section to actually use regtest).\n\nIn section 3.5, why does it say FIXME?\n\nIn section 4.1, \"Start the bitcoind session\" command is missing a dash. Should be `bitcoind29 -daemon` but currently is `bitcoind29 daemon`.\n\nAlso, again, why not make the commands use placeholders so reviewers can use the commands straight from the guide (like in section 2.2)? Here are the commands that would do this:\n```\nsatoshi_address=$(bcli29 -regtest getnewaddress)\necho $satoshi_address\n\nbcli29 generatetoaddress 420 $satoshi_address\n\ncoinbase_txid=$(bcli29 -regtest listunspent 350 | jq -r \".[0].txid\")\necho $coinbase_txid\n\ntx=$(bcli29 -regtest createrawtransaction \"[{\\\"txid\\\":\\\"$coinbase_txid\\\",\\\"vout\\\":0}]\" \\\n    \"[{\\\"$satoshi_address\\\":49.99995000}]\")\necho $tx\n\ntx_signed=$(bcli29 -regtest signrawtransactionwithwallet $tx | jq -r .hex)\necho $tx_signed\n\nbcli29 -regtest sendrawtransaction $tx_signed\n\nbcli29 generatetoaddress 1 $satoshi_address\n\nrelevant_blocks=$(bcli29 scanblocks start \"[\\\"addr($satoshi_address)\\\"]\" 420 | jq -c .relevant_blocks)\necho $relevant_blocks\n\nbcli29 getdescriptoractivity \"$relevant_blocks\" \"[\\\"addr($satoshi_address)\\\"]\"\n```",
          "created_at": "2025-04-01T18:44:07Z"
        },
        {
          "user": "arejula27",
          "body": "really appreciated your feedback @monlovesmango , working on it ðŸ«¡",
          "created_at": "2025-04-01T19:32:51Z"
        },
        {
          "user": "janb84",
          "body": "@monlovesmango Thanks for the extensive feedback, fixed (so far):\n\n- FIXME warnings are removed and replaced for requests for tests. \n- missing hyphens in starting commands are added. \nEDIT:\n- changed section 3.1\n- changed section 4.1",
          "created_at": "2025-04-02T09:33:23Z"
        },
        {
          "user": "nervana21",
          "body": "This minor typo:\n\n```\nWe now want to spend this transaction outputs.\n```\n\nShould read:\n\n```\nWe now want to spend these transaction outputs.\n```",
          "created_at": "2025-04-05T11:27:16Z"
        },
        {
          "user": "janb84",
          "body": "\n@nervana21 Thanks for the feedback, its changed now. ",
          "created_at": "2025-04-05T19:44:34Z"
        },
        {
          "user": "fanquake",
          "body": "`v29.0` has been tagged: https://github.com/bitcoin/bitcoin/releases/tag/v29.0.",
          "created_at": "2025-04-14T16:10:51Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 6,
    "issues": 2
  }
}