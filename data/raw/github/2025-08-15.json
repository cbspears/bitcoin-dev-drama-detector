{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:06:52.242040+00:00",
  "date": "2025-08-15",
  "pull_requests": [
    {
      "number": 33207,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "MrDecryptDecipher",
      "created_at": "2025-08-15T22:36:32Z",
      "updated_at": "2025-08-15T22:39:07Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33207",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33207.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- `<- [x] No functional code Enhanced documentation for issue #33146 -->` -> `<!-- [x] No functional code Enhanced documentation for issue #33146 -->` [HTML comment syntax requires `<!--`, not `<-`]\n- `<- [x] No functional code This improves clarity and user understanding -->` -> `<!-- [x] No functional code This improves clarity and user understanding -->` [HTML comment syntax requires `<!--`, not `<-`]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-08-15T22:36:39Z"
        }
      ]
    },
    {
      "number": 33206,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "MrDecryptDecipher",
      "created_at": "2025-08-15T22:34:28Z",
      "updated_at": "2025-08-15T22:38:23Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33206",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33206.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- ‚ÄúNo functional code Enhanced documentation for issue #33146‚Äù -> ‚ÄúNo functional code. Enhanced documentation for issue #33146.‚Äù [missing period to separate clauses]\n- ‚ÄúNo functional code This improves clarity and user understanding‚Äù -> ‚ÄúNo functional code. This improves clarity and user understanding.‚Äù [missing period to separate clauses]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-08-15T22:34:35Z"
        }
      ]
    },
    {
      "number": 33205,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "MrDecryptDecipher",
      "created_at": "2025-08-15T22:31:24Z",
      "updated_at": "2025-08-15T22:38:45Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33205",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33205.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T22:31:29Z"
        }
      ]
    },
    {
      "number": 33204,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "MrDecryptDecipher",
      "created_at": "2025-08-15T22:26:20Z",
      "updated_at": "2025-08-15T22:39:28Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33204",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33204.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- `<- [x] No functional code Enhanced documentation for issue #33146 -->` -> `<!-- [x] No functional code Enhanced documentation for issue #33146 -->` [HTML comments require `<!--`, not `<-`]\n- `<- [x] No functional code This improves clarity and user understanding -->` -> `<!-- [x] No functional code This improves clarity and user understanding -->` [HTML comments require `<!--`, not `<-`]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-08-15T22:26:26Z"
        }
      ]
    },
    {
      "number": 33203,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "MrDecryptDecipher",
      "created_at": "2025-08-15T22:23:16Z",
      "updated_at": "2025-08-15T22:39:50Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33203",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33203.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- `<- [x] No functional code Enhanced documentation for issue #32698 -->` -> `<!-- [x] No functional code Enhanced documentation for issue #32698 -->` [incorrect HTML comment opener]\n- `<- [x] No functional code This improves clarity and user understanding -->` -> `<!-- [x] No functional code This improves clarity and user understanding -->` [incorrect HTML comment opener]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-08-15T22:23:21Z"
        }
      ]
    },
    {
      "number": 33202,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "MrDecryptDecipher",
      "created_at": "2025-08-15T22:10:12Z",
      "updated_at": "2025-08-15T22:38:03Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33202",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33202.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T22:10:18Z"
        }
      ]
    },
    {
      "number": 33201,
      "title": "Add functional test for IPC interface",
      "body": "This adds support to the functional test framework to run the multiprocess `bitcoin-node` binary, and then tests it in a new `interface_ipc.py` functional test through the `pycapnp` module.",
      "state": "closed",
      "user": "sipa",
      "created_at": "2025-08-15T20:10:28Z",
      "updated_at": "2025-10-07T15:27:38Z",
      "comments": 27,
      "url": "https://github.com/bitcoin/bitcoin/pull/33201",
      "labels": []
    },
    {
      "number": 33200,
      "title": "cmake: Introduce translate.cmake script for translate target",
      "body": "Using `file(GLOB)` in the generates step is discouraged because the globbing result may be out of date when the target is built. Performing the globbing in a script that is executed as the build target means the result is always reproducable and the overhead of globbing is only paid when used.\r\n\r\nAs a follow up, the dependency on `sed` may be removed by performing the replacement with cmake. Also, the logic from extract_strings_qt.py can be migrated to cmake.\r\n",
      "state": "closed",
      "user": "purpleKarrot",
      "created_at": "2025-08-15T16:12:19Z",
      "updated_at": "2025-08-18T10:57:43Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/33200",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33200.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33200#pullrequestreview-3127870644) |\n| Concept ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/33200#issuecomment-3192081403) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33193](https://github.com/bitcoin/bitcoin/pull/33193) (Release: Prepare \"Translation string freeze\" step by hebasto)\n* [#33156](https://github.com/bitcoin/bitcoin/pull/33156) (cmake: Do not require Python to build GUI by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T16:12:24Z"
        },
        {
          "user": "hebasto",
          "body": "Concept ACK.\r\n\r\nThank you!",
          "created_at": "2025-08-15T16:15:51Z"
        },
        {
          "user": "sedited",
          "body": "Concept ACK ",
          "created_at": "2025-08-15T16:23:37Z"
        },
        {
          "user": "fanquake",
          "body": "Would have been good to update the PR description before merge. It says \"As a follow up, the dependency on sed may be removed ...\" but it looks like that was done here?",
          "created_at": "2025-08-18T10:57:30Z"
        }
      ]
    },
    {
      "number": 33199,
      "title": "fees: enable `CBlockPolicyEstimator` return sub 1 sat/vb fee rate estimates",
      "body": "This is a simple PR that updates the block policy estimator‚Äôs `MIN_BUCKET_FEERATE` constant to be identical to the policy `DEFAULT_MIN_RELAY_TX_FEE`. \r\nIt also enables the fee estimator to record transactions with a fee rate up to the `DEFAULT_MIN_RELAY_TX_FEE` in its stats, which effectively allows the estimator to return sub-1 sat/vB fee rate estimates.\r\n\r\nThe change is correct because the estimator creates buckets of fee rates from\r\n`MIN_BUCKET_FEERATE`,\r\n`MIN_BUCKET_FEERATE` + `FEE_SPACING`,\r\n`MIN_BUCKET_FEERATE` + `2 * FEE_SPACING`,\r\n‚Ä¶ up to `MAX_BUCKET_FEERATE`.\r\n\r\nThis means it will record sub-1 sat/vB fee rates in the buckets and may return them as a fee rate estimate when that bucket is the lowest one with sufficient transactions for a given target.\r\n\r\nTying `MIN_BUCKET_FEERATE` to `DEFAULT_MIN_RELAY_TX_FEE` also makes it dynamic, so we don‚Äôt need to update the fee estimator when the `minrelaytxfee` default is adjusted in the future.\r\n\r\nFor the mempool fee rate estimator in #31664, no update is needed since it uses the block assembler and because the node can see sub-1 sat/vB transactions, it can generate block templates with those and therefore return a fee rate estimate accordingly.\r\n\r\n---\r\n\r\nWhile touching this part of the fee estimator code, this PR got rid of the dummy value persisted in the file",
      "state": "open",
      "user": "ismaelsadeeq",
      "created_at": "2025-08-15T15:15:26Z",
      "updated_at": "2026-01-12T14:49:36Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33199",
      "labels": [
        "TX fees and policy"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33199.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [polespinasa](https://github.com/bitcoin/bitcoin/pull/33199#pullrequestreview-3634543279) |\n| Concept ACK | [kevkevinpal](https://github.com/bitcoin/bitcoin/pull/33199#issuecomment-3223886285), [musaHaruna](https://github.com/bitcoin/bitcoin/pull/33199#issuecomment-3649524413) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34075](https://github.com/bitcoin/bitcoin/pull/34075) (fees: Introduce Mempool Based Fee Estimation to reduce overestimation by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T15:15:32Z"
        },
        {
          "user": "kevkevinpal",
          "body": "Concept ACK [413c81b](https://github.com/bitcoin/bitcoin/pull/33199/commits/413c81b134a16403cc0f64e21c3c0967c211b318)\r\n\r\nIt makes sense to update `MIN_BUCKET_FEERATE` with the recent changes to be sub 1 sat/vbyte\r\n\r\nI do think the additional test is a bit redundant but I am okay in adding if others think it makes sense",
          "created_at": "2025-08-26T11:59:44Z"
        },
        {
          "user": "maflcko",
          "body": "This picks up https://github.com/bitcoin/bitcoin/pull/13990? If yes, it may be good to explain the differences.",
          "created_at": "2025-08-28T10:52:42Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "> This picks up #13990? If yes, it may be good to explain the differences.\r\n\r\nThis is different from #13990 in approach:\r\n\r\nIt omits the consistency check and avoids extending the fee rate buckets when the min bucket fee rate changes.\r\nInstead, it builds on  #29702 by simply bumping the fees file version, which ensures that estimates saved in previous files are not read.  As such after a restart, the estimator starts afresh.",
          "created_at": "2025-09-01T13:28:01Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "Rebased and fixed nits.",
          "created_at": "2025-10-29T17:09:42Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "> Just some nits and questions :=)\r\n\r\nI force pushed to address the comment,  thanks for review @polespinasa ",
          "created_at": "2025-11-07T14:51:24Z"
        },
        {
          "user": "musaHaruna",
          "body": "Concept ACK (code review up to [b767897](https://github.com/bitcoin/bitcoin/pull/33199/commits/b76789787c43802aaf1207813792ea49ecf18f55))\r\n\r\nI‚Äôm new to fee estimation, but I was able to understand this PR because it is fairly straightforward.\r\n\r\nThe idea is to make `DEFAULT_MIN_RELAY_TX_FEE` i.e the minimum feerate a node is willing to relay and accept into its mempool by default equal to `MIN_BUCKET_FEERATE`, which is used by the fee estimator (`CBlockPolicyEstimator`).\r\n\r\nBy default, if a transaction‚Äôs feerate is below `DEFAULT_MIN_RELAY_TX_FEE`, the node:\r\nwill not relay it, and will not keep it in its mempool.\r\n\r\nNodes are free to choose a different value via the `-minrelaytxfee` option, but this value (`DEFAULT_MIN_RELAY_TX_FEE`)  defines the default policy.\r\n\r\n`MIN_BUCKET_FEERATE` lives in the fee estimator and defines the lowest feerate bucket that the estimator tracks. Any transaction with a feerate below this value was previously ignored by the estimator. Importantly, `MIN_BUCKET_FEERATE` does not reject transactions and does not affect relay or mempool policy it only affects what data the fee estimator records.\r\n\r\nBefore this PR mempool policy accepts transactions down to `DEFAULT_MIN_RELAY_TX_FEE = 100` (i.e. 1 sat/vB). while fee estimator (`CBlockPolicyEstimator`) Starts tracking fees at a higher minimum:\r\n`MIN_BUCKET_FEERATE = 1000` (i.e. 10 sat/vB).\r\n\r\nAs a result, transactions that were perfectly valid, accepted, and relayed by the node were not recorded by the fee estimator. Therefore the estimator could not learn from low-fee traffic.\r\n\r\nBy making: `MIN_BUCKET_FEERATE == DEFAULT_MIN_RELAY_TX_FEE`\r\nthe fee estimator now tracks all transactions the node is willing to relay, including sub-1 sat/vB transactions (i.e. transactions with feerates below 1 sat/vB, if the relay policy allows them. Not sure if am correct on that), and\r\ncan return lower and more accurate fee estimates.\r\n\r\n> \r\n> The change is correct because the estimator creates buckets of fee rates from\r\n> MIN_BUCKET_FEERATE,\r\n> MIN_BUCKET_FEERATE + FEE_SPACING,\r\n> MIN_BUCKET_FEERATE + 2 * FEE_SPACING,\r\n> ‚Ä¶ up to MAX_BUCKET_FEERATE.\r\n\r\nConfirmed this behaviour by digging into [CBlockPolicyEstimator](https://github.com/bitcoin/bitcoin/blob/938d7aacabd0bb3784bb3e529b1ed06bb2891864/src/policy/fees/block_policy_estimator.cpp#L543) bucket construction logic. \r\n\r\n",
          "created_at": "2025-12-13T15:08:56Z"
        }
      ]
    },
    {
      "number": 33198,
      "title": "test: ensure logs are flushed before reading them",
      "body": "_Should fix https://github.com/bitcoin/bitcoin/issues/33195 (still testing, trying to reproduce locally, draft until then)_\r\n\r\nLogging to file is unbuffered ([src](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/logging.cpp#L68)), but is not blocked by flushing. Generally, that seems desireable, but it can be problematic for tests.\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/33195 observes intermittent failure of the `TestLogFromLocation()` function (see [comment](https://github.com/bitcoin/bitcoin/issues/33195#issuecomment-3191611727) for more details), where we [write and read to/from file in quick succession](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/test/logging_tests.cpp#L424-L425).\r\n\r\nThis PR introduces a `Logger::FlushDebugFile()` method, and uses it in the test-only `ReadDebugLogLines()` function. As such, this PR should not change any non-test behaviour or performance.",
      "state": "closed",
      "user": "stickies-v",
      "created_at": "2025-08-15T14:45:39Z",
      "updated_at": "2025-08-18T16:15:16Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33198",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33198.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T14:45:45Z"
        },
        {
          "user": "stickies-v",
          "body": "This PR seems to be on the wrong track, see [this comment](https://github.com/bitcoin/bitcoin/issues/33195#issuecomment-3192883289) and further. Closing.",
          "created_at": "2025-08-18T16:15:16Z"
        }
      ]
    },
    {
      "number": 33197,
      "title": "doc: add Linux GUI runtime instructions to doc/README.md",
      "body": "1. Add a ‚ÄúLinux GUI runtime libraries‚Äù subsection under the Unix section in doc/README.md.\r\n2. List distro-specific Qt 6.5+ runtime packages already documented in doc/build-unix.md:\r\n- Debian/Ubuntu: libxcb-cursor0 (optional qt6-wayland)\r\n- Fedora: xcb-util-cursor (optional qt6-qtwayland)\r\n- Alpine: xcb-util-cursor\r\n3. Include a link to the ‚ÄúOther Linux‚Äù GUI guidance on bitcoin.org (https://bitcoin.org/en/full-node#other-linux-gui).\r\n4. Rationale: doc/README.md ships in binary releases (see doc/files.md), so this helps Linux tarball users run the GUI out of the box.\r\n5 Refs: #32097 ",
      "state": "closed",
      "user": "Galoretka",
      "created_at": "2025-08-15T14:28:09Z",
      "updated_at": "2025-08-26T10:16:13Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33197",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33197.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T14:28:14Z"
        },
        {
          "user": "willcl-ark",
          "body": "I think it‚Äôd be preferable not to link to docs on bitcoin.org from this file.",
          "created_at": "2025-08-15T14:31:15Z"
        },
        {
          "user": "Galoretka",
          "body": "> I think it‚Äôd be preferable not to link to docs on bitcoin.org from this file.\r\n\r\nYes sir",
          "created_at": "2025-08-15T19:44:06Z"
        },
        {
          "user": "Galoretka",
          "body": "> Please squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits\r\n\r\nsquashed",
          "created_at": "2025-08-18T10:35:22Z"
        },
        {
          "user": "fanquake",
          "body": "The dependency on `libxcb-xinerama0` has been removed in #33217 (which will also be backported to the `29.x` branch) so I think pretty much all of the text being added here, is no-longer needed?",
          "created_at": "2025-08-22T10:32:18Z"
        },
        {
          "user": "Galoretka",
          "body": "> The dependency on `libxcb-xinerama0` has been removed in #33217 (which will also be backported to the `29.x` branch) so I think pretty much all of the text being added here, is no-longer needed?\r\n\r\nso i should  close pr?",
          "created_at": "2025-08-25T17:49:54Z"
        },
        {
          "user": "maflcko",
          "body": "Closing for now, as this was fixed already.",
          "created_at": "2025-08-26T10:16:12Z"
        }
      ]
    },
    {
      "number": 33196,
      "title": "docs: clarify RPC credentials security boundary",
      "body": "Explicitly states that RPC credentials grant full administrative access to the node and filesystem resources accessible by bitcoind. Adds a new section in JSON-RPC-interface.md to address issue https://github.com/bitcoin/bitcoin/issues/32274 by documenting that providing RPC credentials to untrusted clients\r\n\r\nreopened #32424\r\n\r\nP.S. I've tried to somehow squash all the commits from the previous pr but accidentally closed the pr and had no idea how to return back, therefore created a new pr, I'm really sorry for the inconvenience ",
      "state": "open",
      "user": "crStiv",
      "created_at": "2025-08-15T13:56:24Z",
      "updated_at": "2025-12-02T13:50:03Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33196",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33196.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/33196#pullrequestreview-3127467726), [davidgumberg](https://github.com/bitcoin/bitcoin/pull/33196#issuecomment-3427324550) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T13:56:29Z"
        },
        {
          "user": "davidgumberg",
          "body": "ACK 433954b",
          "created_at": "2025-10-21T15:41:09Z"
        }
      ]
    },
    {
      "number": 33194,
      "title": "cmake: Collect headers for extracting translatable strings",
      "body": "While updating the translation source file for Transifex after #31296, I noticed that headers are not processed by the `extract_strings_qt.py` script.\r\n\r\nAdding headers to build targets‚Äô sources doesn‚Äôt seem like a good solution, because it would be hard to maintain, as CMake does not require the presence of headers in a target‚Äôs sources.\r\n\r\nNotably, the `translate` build target differs from others in the following ways:\r\n\r\n1. It is intended to be used only during the release process.\r\n2. It modifies files in the source tree that are meant to be committed to the repository.\r\n3. No other build targets depend on it.\r\n\r\nConsidering the above, we can safely collect input files for processing by `extract_strings_qt.py` using the `file(GLOB_RECURSE ...)` command.\r\n\r\nRequired for #33193.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-08-15T13:20:23Z",
      "updated_at": "2025-08-16T11:23:01Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33194",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33194.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33200](https://github.com/bitcoin/bitcoin/pull/33200) (cmake: Introduce translate.cmake script for translate target by purpleKarrot)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T13:20:29Z"
        },
        {
          "user": "purpleKarrot",
          "body": "There is nothing wrong with globbing per se.\r\n\r\nThe problem with globbing in the build analysis stage is that it is slows down each individual build.\r\n\r\nThe problem with globbing in the build system generator is that the result may be out of date when the build runs. This is the reason why globbing is discouraged in `CMakeLists.txt` files. Since CMake version 3.12, `file(GLOB)` supports a `CONFIGURE_DEPENDS` option, which inserts a check in the build analysis phase. This may give some robustness at the expense of performance.\r\n\r\nSince the result of the glob is only used inside a single custom target, the best approach would be to actually perform the globbing inside the script that is run as the custom target. That means: either do it in the python script or add a cmake script.",
          "created_at": "2025-08-15T14:07:27Z"
        },
        {
          "user": "hebasto",
          "body": "Closing in favour of #33200.",
          "created_at": "2025-08-16T11:23:00Z"
        }
      ]
    },
    {
      "number": 33193,
      "title": "Release: Prepare \"Translation string freeze\" step",
      "body": "This PR follows our [Release Process](https://github.com/bitcoin/bitcoin/blob/53a996f122663e271efa52c45b173613b8ac635e/doc/release-process.md).\r\n\r\nIt is required for the translation string freeze, as the following PRs introduced new translatable strings:\r\n - #31296:https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/wallet/wallet.h#L945\r\n\r\n- #31453:https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/init.cpp#L1878-L1879\r\n\r\n- #32896:https://github.com/bitcoin/bitcoin/blob/22e689587a7ae02f82ad2464017731f3b23b5363/src/wallet/spend.cpp#L288-L292\r\n\r\n**Notes for reviewers:**\r\n\r\n1. To reproduce the diff, run:\r\n```\r\ncmake --preset dev-mode\r\ncmake --build build_dev_mode --target translate\r\n```\r\n\r\n2. The structure of `bitconstrings.cpp` has been altered due to #33209.\r\n\r\n3. The diff in `bitcoin_en.xlf` contains many unrelated metadata changes, so it may be easier to verify the changes in `bitcoin_en.ts`.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-08-15T12:58:29Z",
      "updated_at": "2025-08-21T18:14:14Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33193",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33193.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/33193#pullrequestreview-3132438847) |\n| Concept ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/33193#issuecomment-3191538306) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T12:58:34Z"
        },
        {
          "user": "ismaelsadeeq",
          "body": "Concept ACK",
          "created_at": "2025-08-15T13:45:40Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `MSan, depends`: https://github.com/bitcoin/bitcoin/runs/48168334297</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is caused by the failure of the \"logging_tests\" test suite.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-08-15T15:00:31Z"
        },
        {
          "user": "hebasto",
          "body": "Rebased on top of the merged #33200 and undrafted.",
          "created_at": "2025-08-18T11:22:53Z"
        },
        {
          "user": "hebasto",
          "body": "Rebased.",
          "created_at": "2025-08-19T13:33:45Z"
        }
      ]
    },
    {
      "number": 33192,
      "title": "refactor: unify container presence checks",
      "body": "### Summary\r\nInstead of counting occurrences in sets and maps, the C++20 `::contains` method expresses the intent unambiguously and can return early on first encounter.\r\n\r\n### Context\r\nApplied clang‚Äëtidy's [readability‚Äëcontainer‚Äëcontains](https://clang.llvm.org/extra/clang-tidy/checks/readability/container-contains.html) check, though many cases required manual changes since tidy couldn't fix them automatically.\r\n\r\n### Changes\r\nThe changes made here were:\r\n\r\n| From                   | To               |\r\n|------------------------|------------------|\r\n| `m.find(k) == m.end()` | `!m.contains(k)` |\r\n| `m.find(k) != m.end()` | `m.contains(k)`  |\r\n| `m.count(k)`           | `m.contains(k)`  |\r\n| `!m.count(k)`          | `!m.contains(k)` |\r\n| `m.count(k) == 0`      | `!m.contains(k)` |\r\n| `m.count(k) != 1`      | `!m.contains(k)` |\r\n| `m.count(k) == 1`      | `m.contains(k)`  |\r\n| `m.count(k) < 1`       | `!m.contains(k)`  |\r\n| `m.count(k) > 0`       | `m.contains(k)`  |\r\n| `m.count(k) != 0`      | `m.contains(k)`  |\r\n\r\n> Note that `== 1`/`!= 1`/`< 1` only apply to simple [maps](https://en.cppreference.com/w/cpp/container/map/contains)/[sets](https://en.cppreference.com/w/cpp/container/set/contains) and had to be changed manually.\r\n\r\nThere are many other cases that could have been changed, but we've reverted most of those to reduce conflict with other open PRs.\r\n\r\n-----\r\n\r\n<details>\r\n<summary>clang-tidy command on Mac</summary>\r\n\r\n```bash\r\nrm -rfd build && \\\r\ncmake -B build \\\r\n  -DCMAKE_C_COMPILER=\"$(brew --prefix llvm)/bin/clang\" \\\r\n  -DCMAKE_CXX_COMPILER=\"$(brew --prefix llvm)/bin/clang++\" \\\r\n  -DCMAKE_OSX_SYSROOT=\"$(xcrun --show-sdk-path)\" \\\r\n  -DCMAKE_C_FLAGS=\"-target arm64-apple-macos11\" \\\r\n  -DCMAKE_CXX_FLAGS=\"-target arm64-apple-macos11\" \\\r\n  -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -DBUILD_BENCH=ON -DBUILD_FUZZ_BINARY=ON -DBUILD_FOR_FUZZING=ON\r\n\r\n \"$(brew --prefix llvm)/bin/run-clang-tidy\" -quiet -p build -j$(nproc) -checks='-*,readability-container-contains' | grep -v 'clang-tidy'\r\n```\r\n\r\n</details>\r\n\r\nNote: this is a take 2 of https://github.com/bitcoin/bitcoin/pull/33094 with fewer contentious changes.",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-08-15T02:29:09Z",
      "updated_at": "2025-12-18T13:21:55Z",
      "comments": 19,
      "url": "https://github.com/bitcoin/bitcoin/pull/33192",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33192.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sedited](https://github.com/bitcoin/bitcoin/pull/33192#pullrequestreview-3536863021), [janb84](https://github.com/bitcoin/bitcoin/pull/33192#pullrequestreview-3539275351), [optout21](https://github.com/bitcoin/bitcoin/pull/33192#issuecomment-3475797299), [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/33192#pullrequestreview-3569365873), [ryanofsky](https://github.com/bitcoin/bitcoin/pull/33192#pullrequestreview-3589700908) |\n| Concept ACK | [glozow](https://github.com/bitcoin/bitcoin/pull/33192#issuecomment-3335715733) |\n| Stale ACK | [Raimo33](https://github.com/bitcoin/bitcoin/pull/33192#issuecomment-3346913393) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/872](https://github.com/bitcoin-core/gui/pull/872) (Menu action to export a watchonly wallet by achow101)\n* [#33540](https://github.com/bitcoin/bitcoin/pull/33540) (argsman, cli: GNU-style command-line option parsing (allows options after non-option arguments) by pablomartin4btc)\n* [#33034](https://github.com/bitcoin/bitcoin/pull/33034) (wallet: Store transactions in a separate sqlite table by achow101)\n* [#33032](https://github.com/bitcoin/bitcoin/pull/33032) (wallet, test: Replace MockableDatabase with in-memory SQLiteDatabase by achow101)\n* [#33018](https://github.com/bitcoin/bitcoin/pull/33018) (coins: remove SetFresh method from CCoinsCacheEntry by andrewtoth)\n* [#32763](https://github.com/bitcoin/bitcoin/pull/32763) (wallet: Replace CWalletTx::mapValue and vOrderForm with explicit class members by achow101)\n* [#32489](https://github.com/bitcoin/bitcoin/pull/32489) (wallet: Add `exportwatchonlywallet` RPC to export a watchonly version of a wallet by achow101)\n* [#32297](https://github.com/bitcoin/bitcoin/pull/32297) (bitcoin-cli: Add -ipcconnect option by ryanofsky)\n* [#31860](https://github.com/bitcoin/bitcoin/pull/31860) (init: Take lock on blocks directory in BlockManager ctor by sedited)\n* [#31713](https://github.com/bitcoin/bitcoin/pull/31713) (miniscript refactor: Remove unique_ptr-indirection by hodlinator)\n* [#31260](https://github.com/bitcoin/bitcoin/pull/31260) (scripted-diff: Type-safe settings retrieval by ryanofsky)\n* [#26781](https://github.com/bitcoin/bitcoin/pull/26781) (Release `LockData::dd_mutex` before calling `*_detected` functions by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-15T02:29:15Z"
        },
        {
          "user": "Raimo33",
          "body": "ACK f70d2c7faa8f7d724e146e4c409de9c6778b7299\r\n\r\nThis is a no brainer for me. It makes code easier to read and therefore mantain. Also, as already mentioned, for multisets and multimaps, `::contains` will avoid extra iterations with early exits.\r\nThe changes are relatively trivial so very little surface for subtle errors.",
          "created_at": "2025-09-06T20:36:48Z"
        },
        {
          "user": "glozow",
          "body": "Apologies, this needs rebase for #33230. I decided to merge it first since it's a functional change and has already gone through a reACK cycle. This one is also very straightforward to rebase.",
          "created_at": "2025-09-25T19:51:14Z"
        },
        {
          "user": "optout21",
          "body": "reACK d870caca33ac9f0fdd76969a7341535c5722417e\r\n([prev](https://github.com/bitcoin/bitcoin/pull/33192#pullrequestreview-3171424512))",
          "created_at": "2025-09-29T10:00:23Z"
        },
        {
          "user": "Raimo33",
          "body": "reACK d870caca33ac9f0fdd76969a7341535c5722417e",
          "created_at": "2025-09-29T13:19:46Z"
        },
        {
          "user": "l0rinc",
          "body": "thanks for the reviews. I have reverted conflicting changes. It's better to be lightweight and not conflict with other PRs, it's not critical to be exhaustive with the replaces just that the ones we have are correct.",
          "created_at": "2025-10-05T23:48:45Z"
        },
        {
          "user": "l0rinc",
          "body": "rfm",
          "created_at": "2025-10-23T15:10:41Z"
        },
        {
          "user": "maflcko",
          "body": "I like the changes, but I am not sure how hard it will be to rebase the conflicts. Maybe this can wait until they are merged, and then this one can go after? ",
          "created_at": "2025-10-23T15:16:19Z"
        },
        {
          "user": "l0rinc",
          "body": "thanks, would it help if I reverted the conflicting line again?",
          "created_at": "2025-10-23T15:17:22Z"
        },
        {
          "user": "achow101",
          "body": "> rfm\r\n\r\nI don't think so. This PR lacks (conceptual) review from senior contributors. It's also mostly a stylistic change which we generally do not care about doing. This also conflicts with cluster mempool which is a project that I think we want to be avoiding conflicts with in general at this point.",
          "created_at": "2025-10-24T17:21:48Z"
        },
        {
          "user": "glozow",
          "body": "As mentioned previously, I don't think we should make people rebase for this change, particularly if it's just for style. Maybe reduce the conflicts or close the PR?",
          "created_at": "2025-10-28T15:54:06Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks for the feedback, I have [reverted](https://github.com/bitcoin/bitcoin/compare/d870caca33ac9f0fdd76969a7341535c5722417e..9445f3955cefaaf7113eb520c5fa9ca905182450) the mining and mempool related coflicting changes and [rebased](https://github.com/bitcoin/bitcoin/compare/9445f3955cefaaf7113eb520c5fa9ca905182450..b97db6f06185a1d63828f958b33a7e6780aee73c) in a separate commit to simplify review.\r\n\r\nI agree that these refactors shouldn't conflict with other important changes, it's why I have reopened this in the first place.",
          "created_at": "2025-10-28T22:05:16Z"
        },
        {
          "user": "maflcko",
          "body": "I don't think you did. The conflicts are still there and the DrahtBot summary is correct. You can also try it locally:\r\n\r\n```\r\n# git checkout b97db6f06185a1d63828f958b33a7e6780aee73c && git merge 1ae9fd3f7a4fddc786e9921e7fc2af41ab96bf9a \r\nHEAD is now at b97db6f061 refactor: unify container presence checks - non-trivial counts\r\nAuto-merging src/init.cpp\r\nAuto-merging src/net_processing.cpp\r\nAuto-merging src/node/interfaces.cpp\r\nAuto-merging src/node/miner.cpp\r\nAuto-merging src/rpc/mempool.cpp\r\nAuto-merging src/test/fuzz/mini_miner.cpp\r\nCONFLICT (content): Merge conflict in src/test/fuzz/mini_miner.cpp\r\nAuto-merging src/test/fuzz/policy_estimator.cpp\r\nAuto-merging src/test/fuzz/rpc.cpp\r\nAuto-merging src/test/miner_tests.cpp\r\nAuto-merging src/test/miniminer_tests.cpp\r\nAuto-merging src/test/util/setup_common.cpp\r\nAuto-merging src/test/util/txmempool.cpp\r\nAuto-merging src/test/util/txmempool.h\r\nAuto-merging src/txmempool.cpp\r\nCONFLICT (content): Merge conflict in src/txmempool.cpp\r\nAuto-merging src/txmempool.h\r\nAuto-merging src/validation.cpp\r\nAuto-merging test/functional/test_runner.py\r\nAutomatic merge failed; fix conflicts and then commit the result.\r\n",
          "created_at": "2025-10-30T07:05:22Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks, looks like a missed a few manual undos.\r\n[Reverted](https://github.com/bitcoin/bitcoin/compare/b97db6f06185a1d63828f958b33a7e6780aee73c..21cff12b0e6dc58fb8c66543bbd713796d9941ae) the 3 remaining files that seem related to the cluster mempool work and verified that it merges cleanly with https://github.com/bitcoin/bitcoin/pull/33629 and https://github.com/bitcoin/bitcoin/pull/33591",
          "created_at": "2025-10-30T08:16:34Z"
        },
        {
          "user": "l0rinc",
          "body": "[DrahtBot conflict list](https://github.com/bitcoin/bitcoin/pull/33192#issuecomment-3190433503) was updated, no more cluster memool conflict, ready for review again!",
          "created_at": "2025-10-31T16:10:17Z"
        },
        {
          "user": "optout21",
          "body": "reACK d9319b06cf82664d55f255387a348135fd7f91c7\r\n\r\n(was reACK 21cff12b0e6dc58fb8c66543bbd713796d9941ae)",
          "created_at": "2025-11-01T05:21:08Z"
        },
        {
          "user": "l0rinc",
          "body": "Now that https://github.com/bitcoin/bitcoin/pull/33629 and https://github.com/bitcoin/bitcoin/pull/33591 and https://github.com/bitcoin/bitcoin/pull/33960 were merged, I have rebased (in a separate push) and reconverted the remaining `count` and `find` instances to `contains` - see the new additions:\r\nhttps://github.com/bitcoin/bitcoin/compare/d8c25aa8f726d26e1bf042342fda160f73811699..d9319b06cf82664d55f255387a348135fd7f91c7\r\n\r\nThanks for the reviewers so far, re-reviews would be appreciated.",
          "created_at": "2025-12-03T12:34:41Z"
        },
        {
          "user": "l0rinc",
          "body": "> I am wondering if there are plans to turn on the clang-tidy check and follow up with other replacements?\r\n\r\nI couldn't use tidy for many of these changes, but I'm looking forward to doing a follow-up.\r\n\r\nThanks for the persistent reviewers, I know it was a boring one :)",
          "created_at": "2025-12-17T21:18:40Z"
        },
        {
          "user": "fanquake",
          "body": "This has broken building against our minimum supported versions of Boost: #34101.",
          "created_at": "2025-12-18T13:21:54Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33195,
      "title": "ci: failure in `logging_tests`",
      "body": "Seen in https://cirrus-ci.com/task/5318274667249664:\n```bash\n[09:01:31.792]  50/144 Test  #54: logging_tests ........................***Failed   23.39 sec\n[09:01:31.796] Running 10 test cases...\n[09:01:31.796] \u001b[1;36;49mTest cases order is shuffled using seed: 51669747\u001b[0;39;49m\n[09:01:31.796] \u001b[1;34;49mEntering test module \"Bitcoin Core Test Suite\"\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/coins_tests.cpp(295): Test suite \"coins_tests_dbbase\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/pmt_tests.cpp(32): Test suite \"pmt_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/serialize_tests.cpp(16): Test suite \"serialize_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/cuckoocache_tests.cpp(32): Test suite \"cuckoocache_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/bip324_tests.cpp(164): Test suite \"bip324_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mwallet/test/walletdb_tests.cpp(15): Test suite \"walletdb_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/txvalidation_tests.cpp(21): Test suite \"txvalidation_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/validation_chainstate_tests.cpp(23): Test suite \"validation_chainstate_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/bip32_tests.cpp(160): Test suite \"bip32_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/util_trace_tests.cpp(18): Test suite \"util_trace_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/transaction_tests.cpp(193): Test suite \"transaction_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/merkleblock_tests.cpp(14): Test suite \"merkleblock_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/multisig_tests.cpp(20): Test suite \"multisig_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mwallet/test/wallet_rpc_tests.cpp(23): Test suite \"wallet_rpc_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/sanity_tests.cpp(10): Test suite \"sanity_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/key_io_tests.cpp(21): Test suite \"key_io_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/disconnected_transactions.cpp(10): Test suite \"disconnected_transactions\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;33;49mtest/peerman_tests.cpp(14): Test suite \"peerman_tests\" is skipped because disabled\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(32): Entering test suite \"logging_tests\"\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(321): Entering test case \"logging_log_rate_limiter\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.582455Z [unknown] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.597607Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] 2025-08-15T13:01:08.604851Z [test] [kernel/context.cpp:20] [auto kernel::Context::Context()::(anonymous class)::operator()() const] Using the 'sse4(1way),sse41(4way),avx2(8way)' SHA256 implementation\n[09:01:31.796] 2025-08-15T13:01:08.605864Z [test] [random.cpp:110] [void (anonymous namespace)::ReportHardwareRand()] Using RdSeed as an additional entropy source\n[09:01:31.796] 2025-08-15T13:01:08.606646Z [test] [random.cpp:113] [void (anonymous namespace)::ReportHardwareRand()] Using RdRand as an additional entropy source\n[09:01:31.796] 2025-08-15T13:01:08.615439Z [unknown] [logging.cpp:567] [void BCLog::LogRateLimiter::Reset()] [warning] Restarting logging from test/logging_tests.cpp:331 (void logging_tests::logging_log_rate_limiter::test_method()): 1 bytes were dropped during the last 60s.\n[09:01:31.796] 2025-08-15T13:01:08.616424Z [unknown] [logging.cpp:567] [void BCLog::LogRateLimiter::Reset()] [warning] Restarting logging from test/logging_tests.cpp:330 (void logging_tests::logging_log_rate_limiter::test_method()): 2 bytes were dropped during the last 60s.\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(321): Leaving test case \"logging_log_rate_limiter\"; testing time: 47949us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(233): Entering test case \"logging_Conf\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.630405Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.648316Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] Sentinel log to reopen log file\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(233): Leaving test case \"logging_Conf\"; testing time: 47485us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(362): Entering test case \"logging_log_limit_stats\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.677789Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.694298Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(362): Leaving test case \"logging_log_limit_stats\"; testing time: 37941us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(112): Entering test case \"logging_LogPrintStr\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.715831Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.730847Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] [test/logging_tests.cpp:125] [void logging_tests::logging_LogPrintStr::test_method()] [net] foo1: bar1\n[09:01:31.796] [test/logging_tests.cpp:126] [void logging_tests::logging_LogPrintStr::test_method()] [net:info] foo2: bar2\n[09:01:31.796] [test/logging_tests.cpp:127] [void logging_tests::logging_LogPrintStr::test_method()] [debug] foo3: bar3\n[09:01:31.796] [test/logging_tests.cpp:128] [void logging_tests::logging_LogPrintStr::test_method()] foo4: bar4\n[09:01:31.796] [test/logging_tests.cpp:129] [void logging_tests::logging_LogPrintStr::test_method()] [debug] foo5: bar5\n[09:01:31.796] [test/logging_tests.cpp:130] [void logging_tests::logging_LogPrintStr::test_method()] foo6: bar6\n[09:01:31.796] [test/logging_tests.cpp:91] [logging_tests::LogSetup::~LogSetup()] Sentinel log to reopen log file\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(112): Leaving test case \"logging_LogPrintStr\"; testing time: 58642us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(162): Entering test case \"logging_LogPrintMacros\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.774783Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.795096Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] [net] foo7: bar7\n[09:01:31.796] foo8: bar8\n[09:01:31.796] [warning] foo9: bar9\n[09:01:31.796] [error] foo10: bar10\n[09:01:31.796] Sentinel log to reopen log file\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(162): Leaving test case \"logging_LogPrintMacros\"; testing time: 63845us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(180): Entering test case \"logging_LogPrintMacros_CategoryName\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.838731Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.860282Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] [addrman] foo: bar\n[09:01:31.796] [bench] foo: bar\n[09:01:31.796] [blockstorage] foo: bar\n[09:01:31.796] [cmpctblock] foo: bar\n[09:01:31.796] [coindb] foo: bar\n[09:01:31.796] [estimatefee] foo: bar\n[09:01:31.796] [http] foo: bar\n[09:01:31.796] [i2p] foo: bar\n[09:01:31.796] [ipc] foo: bar\n[09:01:31.796] [leveldb] foo: bar\n[09:01:31.796] [libevent] foo: bar\n[09:01:31.796] [lock] foo: bar\n[09:01:31.796] [mempool] foo: bar\n[09:01:31.796] [mempoolrej] foo: bar\n[09:01:31.796] [net] foo: bar\n[09:01:31.796] [proxy] foo: bar\n[09:01:31.796] [prune] foo: bar\n[09:01:31.796] [qt] foo: bar\n[09:01:31.796] [rand] foo: bar\n[09:01:31.796] [reindex] foo: bar\n[09:01:31.796] [rpc] foo: bar\n[09:01:31.796] [scan] foo: bar\n[09:01:31.796] [selectcoins] foo: bar\n[09:01:31.796] [tor] foo: bar\n[09:01:31.796] [txpackages] foo: bar\n[09:01:31.796] [txreconciliation] foo: bar\n[09:01:31.796] [validation] foo: bar\n[09:01:31.796] [walletdb] foo: bar\n[09:01:31.796] [zmq] foo: bar\n[09:01:31.796] Sentinel log to reopen log file\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(180): Leaving test case \"logging_LogPrintMacros_CategoryName\"; testing time: 97807us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(206): Entering test case \"logging_SeverityLevels\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:08.936681Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:08.958237Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] [http:info] foo1: bar1\n[09:01:31.796] [validation:warning] foo3: bar3\n[09:01:31.796] [rpc:error] foo4: bar4\n[09:01:31.796] [net:warning] foo5: bar5\n[09:01:31.796] [net:error] foo7: bar7\n[09:01:31.796] Sentinel log to reopen log file\n[09:01:31.796] \u001b[1;34;49mtest/logging_tests.cpp(206): Leaving test case \"logging_SeverityLevels\"; testing time: 74579us\n[09:01:31.796] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(448): Entering test case \"logging_filesize_rate_limit\"\n[09:01:31.796] \u001b[0;39;49m2025-08-15T13:01:09.011189Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.796] 2025-08-15T13:01:09.029747Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.796] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.796] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.796] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.796] <snip>\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.798] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.798] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.798] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n[09:01:31.798] a\n[09:01:31.798] test/logging_tests.cpp(435): \u001b[4;31;49mfatal error: in \"logging_tests/logging_filesize_rate_limit\": critical check log_lines.size() == 2 has failed [1 != 2]\n[09:01:31.798] Failure occurred in a following context:\n[09:01:31.798]     TestLogFromLocation failed from test/logging_tests.cpp:470\u001b[0;39;49m\n[09:01:31.798] Sentinel log to reopen log file\n[09:01:31.798] \u001b[1;34;49mtest/logging_tests.cpp(448): Leaving test case \"logging_filesize_rate_limit\"; testing time: 22705157us\n[09:01:31.798] \u001b[0;39;49m\u001b[1;34;49mtest/logging_tests.cpp(142): Entering test case \"logging_LogPrintMacrosDeprecated\"\n[09:01:31.798] \u001b[0;39;49m2025-08-15T13:01:31.717284Z [test] [test/util/random.cpp:48] [void SeedRandomStateForTest(SeedRand)] Setting random seed for current tests to RANDOM_CTX_SEED=3e87065736559106b08797466cf01b4285ae1494a30793a746aaebc2b2df3a81\n[09:01:31.798] 2025-08-15T13:01:31.733279Z [test] [init/common.cpp:153] [void init::LogPackageVersion()] Bitcoin Core version v29.99.0-126a372db6bf-dirty (debug build)\n[09:01:31.798] foo5: bar5\n[09:01:31.798] [net] foo7: bar7\n[09:01:31.798] [net:info] foo8: bar8\n[09:01:31.798] [net:warning] foo9: bar9\n[09:01:31.798] [net:error] foo10: bar10\n[09:01:31.798] Sentinel log to reopen log file\n[09:01:31.798] \u001b[1;34;49mtest/logging_tests.cpp(142): Leaving test case \"logging_LogPrintMacrosDeprecated\"; testing time: 27864us\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-08-15T13:36:52Z",
      "updated_at": "2025-08-20T09:30:11Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/issues/33195",
      "labels": [
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "stickies-v",
          "body": "This is the relevant log output:\n\n```\n[09:01:31.798] test/logging_tests.cpp(435): ÔøΩ[4;31;49mfatal error: in \"logging_tests/logging_filesize_rate_limit\": critical check log_lines.size() == 2 has failed [1 != 2]\n[09:01:31.798] Failure occurred in a following context:\n[09:01:31.798]     TestLogFromLocation failed from test/logging_tests.cpp:470ÔøΩ[0;39;49m\n```\n\nWhen a log line is newly suppressed, we always expect exactly 2 lines to be output:\n1. the announcement that logging for this location will be suppressed ([src](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/logging.cpp#L467-L475))\n2. the log line that is suppressed\n\nThe error indicates that only 1 log line was found, but that doesn't really seem possible from our current logic. The fact that the issue is intermittent, would seem to indicate that there's some race condition between the logs being [created](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/test/logging_tests.cpp#L424), and the logs being [read](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/test/logging_tests.cpp#L425). Our logging should be unbuffered ([src](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/logging.cpp#L68)), but I'm not sure how strong that guarantee is?\n\nIf the above reasoning is correct and flushing is the issue, I think we can either:\n1. add a `Logger::FlushFile()` function that calls `fflush(m_fileout);`, which can then be called from the test-only `ReadDebugLogLines`, ensuring no more race conditions without affecting non-test code paths.\n2. add `fflush(m_fileout)` to [`FileWriteStr`](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/logging.cpp#L51)\n\nOption 1 seems more sensible, even if it's adding test-only functions?",
          "created_at": "2025-08-15T14:17:19Z"
        },
        {
          "user": "stickies-v",
          "body": "Opened https://github.com/bitcoin/bitcoin/pull/33198 - if anyone is able to reproduce the issue, please leave a comment if 33198 fixes it for you so I can undraft.",
          "created_at": "2025-08-15T14:46:30Z"
        },
        {
          "user": "stickies-v",
          "body": "~~I'm able to reproduce it pretty much at 100% by running the test on a slow external USB2.0 flash drive. I couldn't figure out how to run `test_bitcoin` from a different datadir so I just modified the `LogSetup` ctor as a quick workaround:~~\n\n<details>\n<summary>git diff</summary>\n\n```diff\ndiff --git a/src/test/logging_tests.cpp b/src/test/logging_tests.cpp\nindex eb0ca846df..ae1fc720fe 100644\n--- a/src/test/logging_tests.cpp\n+++ b/src/test/logging_tests.cpp\n@@ -71,7 +71,8 @@ struct LogSetup : public BasicTestingSetup {\n                  prev_log_level{LogInstance().LogLevel()},\n                  prev_category_mask{LogInstance().GetCategoryMask()}\n     {\n-        LogInstance().m_file_path = tmp_log_path;\n+        LogInstance().m_file_path = fs::path{\"/Volumes/ExtDrive/tmp_debug.log\"};\n+        // LogInstance().m_file_path = tmp_log_path;\n         LogInstance().m_reopen_file = true;\n         LogInstance().m_print_to_file = true;\n         LogInstance().m_log_timestamps = false;\n\n```\n</details>\n\nEdit: running the test from the flash drive just made the test so slow that it was triggering the [20s reset window,](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/test/logging_tests.cpp#L459) causing the log test to fail because the suppression status was reset. This is however not what happened in https://cirrus-ci.com/task/5318274667249664?logs=ci#L721, as the test started and failed all in a span of a few milliseconds.",
          "created_at": "2025-08-15T15:27:22Z"
        },
        {
          "user": "Crypt-iQ",
          "body": "I'll look into this. There are 1023 `aaaaaa...aaaa` log lines (there should be 1024) in the CI logs followed by a single `a`. The `a` should be prefixed with `[*]` regardless of race conditions because asterisk prefix happens before writing to disk and `LogRateLimiter` isn't racy. I have a few hunches that I'll investigate.",
          "created_at": "2025-08-15T22:16:43Z"
        },
        {
          "user": "Crypt-iQ",
          "body": "> This is however not what happened in https://cirrus-ci.com/task/5318274667249664?logs=ci#L721, as the test started and failed all in a span of a few milliseconds.\n\nI think the CI logs are a bit weird and are printing the time from the boost test log -- the test actually took ~22.7 seconds: `[09:01:31.798] \u001b[1;34;49mtest/logging_tests.cpp(448): Leaving test case \"logging_filesize_rate_limit\"; testing time: 22705157us`. This would be enough to trigger the `Reset`. I am not sure why it took this long as a [later successful run](https://api.cirrus-ci.com/v1/task/6511253708865536/logs/ci.log) took about a second.",
          "created_at": "2025-08-18T14:41:36Z"
        },
        {
          "user": "maflcko",
          "body": "> Edit: running the test from the flash drive just made the test so slow that it was triggering the [20s reset window,](https://github.com/bitcoin/bitcoin/blob/7b4a1350dfd6b3892a9c314eeff28b22ef0c1a73/src/test/logging_tests.cpp#L459) causing the log test to fail because the suppression status was reset. This is however not what happened in https://cirrus-ci.com/task/5318274667249664?logs=ci#L721, as the test started and failed all in a span of a few milliseconds.\n\nI guess it is rare that someone runs this test on a slow storage device, but I don't see why the test requires a tight reset window of 20s, because it is using mocking anyway. The windows could be hours and mocking could be the same amount of hours and the test would still run equally fast without intermittent failures on slow IO?",
          "created_at": "2025-08-18T15:45:52Z"
        },
        {
          "user": "stickies-v",
          "body": "\n> There are 1023 aaaaaa...aaaa log lines (there should be 1024) in the CI logs\n\nIt seems the 835th iteration got corrupted (scroll down a bit):\n\n```\n[09:01:31.798] aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n```\n\nIf you include that in your count, I think there are 1024 lines in total, as expected.\n\n> The a should be prefixed with [*] regardless of race conditions \n\nThat's a good point, and seems a strong indicater that `Reset()` was called before we expected it would.\n\n> but I don't see why the test requires a tight reset window of 20s, because it is using mocking anyway.\n\nYeah I don't see any issues with relaxing the window either. I'm also not sure if there'd be any downsides to reducing `constexpr int64_t num_lines{1024};` to a smaller number, I don't think the reliability of the test depends on this being such a large number? This used to be a requirement, but more recent iterations have made `LogRateLimiter` parameterized wrt `max_bytes`, so I think we can bring it down now.\n\nIt's still a bit surprising that this test suddenly took so long to run, but I suppose with hardware being shared these kinds of occurrences need to be accounted for?",
          "created_at": "2025-08-18T16:10:37Z"
        },
        {
          "user": "Crypt-iQ",
          "body": "I've opened https://github.com/bitcoin/bitcoin/pull/33211 to fix this. It changes the time window to 1h which should be more than enough. Also, it reduces `num_lines` quite a bit as suggested by @stickies-v above.\n\n> It seems the 835th iteration got corrupted (scroll down a bit)\n\nInteresting... now I'm curious why it was corrupted? But I'll let that be for now.",
          "created_at": "2025-08-18T20:37:02Z"
        },
        {
          "user": "maflcko",
          "body": "> It's still a bit surprising that this test suddenly took so long to run, but I suppose with hardware being shared these kinds of occurrences need to be accounted for?\n\nYeah, it seems odd that there is an intermittent 20x slowdown. It could be a hardware fault, and hopefully new CI hardware will be deployed soon. However, we also want the test to pass locally (in the rare case when someone uses a slow USB thumb drive) or on cloud boxes (which sometimes use slow network storage).\n\n> Interesting... now I'm curious why it was corrupted? But I'll let that be for now.\n\nIt is not possible to run the unit tests with clang without stdout-IO races (UB) (see https://github.com/bitcoin/bitcoin/issues/23366), so I guess this is just one of the expected intermittent UBs.",
          "created_at": "2025-08-19T08:24:02Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 15,
    "issues": 1
  }
}