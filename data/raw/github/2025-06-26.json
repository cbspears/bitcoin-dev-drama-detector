{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:52:40.129160+00:00",
  "date": "2025-06-26",
  "pull_requests": [
    {
      "number": 32819,
      "title": "Add release note for #32530",
      "body": "",
      "state": "closed",
      "user": "darosior",
      "created_at": "2025-06-26T16:40:43Z",
      "updated_at": "2025-06-27T11:07:41Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32819",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32819.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/32819#pullrequestreview-2966053187) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-26T16:40:49Z"
        }
      ]
    },
    {
      "number": 32818,
      "title": "Add read-only mode to sqlite db and use in `bitcoin-wallet`",
      "body": "Currently our `wallet-tool` performs a few \"read-only\" operations (`info`, `dump`) on sqlite databases. However, currently this involves opening the wallet in RW mode, with the side-effects of modifying the wallet file, and failing to open a \"read-only\" wallet file.\r\n\r\nSee #15608 for more context.\r\n\r\nSince we have dropped the BDB wallet, this change got a lot simpler; the BDB parser is now custom and only operates in read-only mode anyway.\r\n\r\nThis change adds a `read_only` bool to `DatabaseOptions`. This can be used by the sqlite dbwrapper to open the database in readonly mode.\r\n\r\nIncludes tests to verify indempotence of wallet tool \"read only\" operations.\r\n\r\nFixes: #15608",
      "state": "closed",
      "user": "willcl-ark",
      "created_at": "2025-06-26T14:08:45Z",
      "updated_at": "2025-10-22T15:19:38Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/32818",
      "labels": [
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32818.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31423](https://github.com/bitcoin/bitcoin/pull/31423) (wallet: migration, avoid creating spendable wallet from a watch-only legacy wallet by furszy)\n* [#29641](https://github.com/bitcoin/bitcoin/pull/29641) (scripted-diff: Use LogInfo over LogPrintf [WIP, NOMERGE, DRAFT] by maflcko)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- indempotent -> idempotent [‚Äúindempotent‚Äù is a misspelling of ‚Äúidempotent‚Äù]\n- indempotence -> idempotence [‚Äúindempotence‚Äù is the noun form of ‚Äúidempotent,‚Äù spelled with an ‚Äúi‚Äù]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-06-26T14:08:49Z"
        },
        {
          "user": "fanquake",
          "body": "https://github.com/bitcoin/bitcoin/actions/runs/15904154552/job/44856855999?pr=32818#step:12:437:\r\n```bash\r\n test  2025-06-26T14:50:15.271166Z TestFramework (ERROR): Assertion failed \r\n                                   Traceback (most recent call last):\r\n                                     File \"D:\\a\\bitcoin\\bitcoin\\test\\functional\\test_framework\\test_framework.py\", line 190, in main\r\n                                       self.run_test()\r\n                                       ~~~~~~~~~~~~~^^\r\n                                     File \"D:\\a\\bitcoin\\bitcoin/test/functional/tool_wallet.py\", line 450, in run_test\r\n                                       self.test_tool_wallet_info()\r\n                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~^^\r\n                                     File \"D:\\a\\bitcoin\\bitcoin/test/functional/tool_wallet.py\", line 164, in test_tool_wallet_info\r\n                                       assert self.wallet_permissions() in ['400']\r\n                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n                                   AssertionError\r\n```",
          "created_at": "2025-06-26T15:22:09Z"
        },
        {
          "user": "achow101",
          "body": "How does this compare with #32685?",
          "created_at": "2025-06-26T16:00:51Z"
        },
        {
          "user": "willcl-ark",
          "body": "> How does this compare with #32685?\r\n\r\nAh, I didn't know (or had perhaps forgotten) about that PR. I came via #15608 and did not check what was open. Shame on me :(\r\n\r\nI will mark this as draft and take a look over that PR.",
          "created_at": "2025-06-26T19:55:41Z"
        },
        {
          "user": "PeterWrighten",
          "body": "> > How does this compare with #32685?\n> \n> \n> \n> Ah, I didn't know (or had perhaps forgotten) about that PR. I came via #15608 and did not check what was open. Shame on me :(\n> \n> \n> \n> I will mark this as draft and take a look over that PR.\n\nNever mind. Your implementation is also great. But seems there is lack of some tests for walletdb and db...",
          "created_at": "2025-06-27T09:07:14Z"
        },
        {
          "user": "ryanofsky",
          "body": "Note IIRC, the SQLITE_OPEN_READONLY flag only guarantees that sqlite won't try to write to the main database file, not any wal or jrn files associated with the database. So if the goal is being able to access wallets on read-only filesystems this may not always work and the [immutable](https://www.sqlite.org/uri.html#uriimmutable) mode might need to be used instead.",
          "created_at": "2025-06-27T15:03:11Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-07-02T20:39:13Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--13523179cfe9479db18ec6c5d236f789-->\n‚åõ There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? ‚û°Ô∏è Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? ‚û°Ô∏è Please close.\n* Did the author lose interest or time to work on this? ‚û°Ô∏è Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
          "created_at": "2025-09-29T01:57:10Z"
        },
        {
          "user": "achow101",
          "body": "Closing this as it has not had any activity in a while. If you are interested in continuing work on this, please leave a comment so that it can be reopened.",
          "created_at": "2025-10-22T15:19:38Z"
        }
      ]
    },
    {
      "number": 32816,
      "title": "contrib: correct variable name in p2p_monitor.py",
      "body": "Fix typo in variable name in p2p_monitor.py.",
      "state": "closed",
      "user": "leopardracer",
      "created_at": "2025-06-26T10:07:13Z",
      "updated_at": "2025-07-01T08:45:32Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32816",
      "labels": [
        "Scripts and tools"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32816.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32816#issuecomment-3008967559) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-26T10:07:18Z"
        },
        {
          "user": "0xB10C",
          "body": "This just fixes a typo in AVALIABLE ->  AVAILABLE. I don't think this is good use of reviewer time. Functionally is not affected.",
          "created_at": "2025-06-26T13:38:11Z"
        },
        {
          "user": "leopardracer",
          "body": "> This just fixes a typo in AVALIABLE -> AVAILABLE. I don't think this is good use of reviewer time. Functionally is not affected.\r\n\r\n@0xB10C totally get that this seems minor, but I think even small things like typos matter, especially in a repo like Bitcoin. It's such a high-profile project that sets the tone for the whole ecosystem\r\n",
          "created_at": "2025-06-26T14:10:05Z"
        },
        {
          "user": "0xB10C",
          "body": "Why doesn't the description say it fixes a typo?\r\n\r\n> * Replaced hardcoded row calculations with the `ROWS_AVAILABLE_FOR_LIST` variable for improved readability and maintainability.",
          "created_at": "2025-06-26T14:44:36Z"
        },
        {
          "user": "leopardracer",
          "body": "> Why doesn't the description say it fixes a typo?\r\n> \r\n> > * Replaced hardcoded row calculations with the `ROWS_AVAILABLE_FOR_LIST` variable for improved readability and maintainability.\r\n\r\n@0xB10C description updated",
          "created_at": "2025-06-26T14:53:32Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 6bb38bf37fd81a9ce2b66a3f078375dce9274754",
          "created_at": "2025-06-26T15:53:21Z"
        },
        {
          "user": "leopardracer",
          "body": "> lgtm ACK\r\n\r\n@maflcko everything is ok? ",
          "created_at": "2025-06-27T13:53:55Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32820,
      "title": ".",
      "body": "### Motivation\n\nSegrhiij\n\n### Possible solution\n\n_No response_\n\n### Useful Skills\n\n* Compiling Bitcoin Core from source\n* Running the C++ unit tests and the Python functional tests\n* ...\n\n\n### Guidance for new contributors\n\nWant to work on this issue?\n\nFor guidance on contributing, please read [CONTRIBUTING.md](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md) before opening your pull request.\n",
      "state": "closed",
      "user": "NowYu",
      "created_at": "2025-06-26T18:29:06Z",
      "updated_at": "2025-06-26T18:33:03Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/32820",
      "labels": []
    },
    {
      "number": 32817,
      "title": "`dumptxoutset` rollback feature does not take forks into account",
      "body": "In the `dumptxoutset` RPC, when the rollback feature is used with a height H, it will issue an `InvalidateBlock` on the active-chain block at height H+1. However, if an inactive branch of the chain exists that forks off at height H or below, and extends to block H+1 or later (or has equivalent PoW to that), `InvalidateBlock` will reorg there, and dump will be for the tip of that branch, rather than the height-H ancestor of the main chain.\n\nI have not tested this to verify, so it is possible I am missing something.",
      "state": "open",
      "user": "sipa",
      "created_at": "2025-06-26T12:35:21Z",
      "updated_at": "2025-09-23T04:45:14Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/issues/32817",
      "labels": [
        "RPC/REST/ZMQ"
      ],
      "comment_list": [
        {
          "user": "Sjors",
          "body": "cc @fjahr ",
          "created_at": "2025-06-26T14:03:30Z"
        },
        {
          "user": "fjahr",
          "body": "Sigh, yeah, that's probably right. When taken to an extreme (aka Testnet4) that's a really annoying problem as I have experienced in #31117. Since I have to deal with this anyway so I will address this soon.",
          "created_at": "2025-06-26T15:55:19Z"
        },
        {
          "user": "maflcko",
          "body": "Isn't this addressed by the `throw` here?\n\nhttps://github.com/bitcoin/bitcoin/blob/67ea4b9994e668dcea5e5d0f62f886d92e3737dc/src/rpc/blockchain.cpp#L3111\n\n\nI think there is still a race when calling `submitblock`, but this doesn't seem related to forks per se.",
          "created_at": "2025-06-26T15:59:20Z"
        },
        {
          "user": "sipa",
          "body": "@maflcko Right! So indeed, it won't (ignoring race conditions) dump the wrong thing - but if you have a fork at a certain height, you'll just be unable to dump at that height.",
          "created_at": "2025-06-26T16:03:22Z"
        },
        {
          "user": "maflcko",
          "body": "> you'll just be unable to dump at that height.\n\nCould do a manual `invalidateblock` of the low-work forks to work around the error, but yea, could be annoying if the forks are more than 1, or longer than 1 block.",
          "created_at": "2025-06-26T16:08:53Z"
        },
        {
          "user": "mzumsande",
          "body": "We could also automate it: Iterate over the block index to find all fork blocks at the target height and invalidate those too, only then do the invalidation on the main chain block / do the dump, and finally reconsider everything. Though I'm not sure if that would be overkill.",
          "created_at": "2025-06-26T16:48:35Z"
        },
        {
          "user": "Sjors",
          "body": "This goes back to the discussion in #29565 that we shouldn't be using block invalidation as a hack to trigger the chain state manager into rolling back. Instead we should perform the rollback directly (though no need for a new RPC). ",
          "created_at": "2025-06-27T09:51:51Z"
        },
        {
          "user": "enirox001",
          "body": "Opened the PR #33444 to address this issue",
          "created_at": "2025-09-23T04:45:14Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 3,
    "issues": 2
  }
}