{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T05:41:31.309214+00:00",
  "date": "2026-01-07",
  "pull_requests": [
    {
      "number": 34225,
      "title": "refactor, key: move `CreateMuSig2{Nonce,PartialSig}` functions to `musig.{h,cpp}` module",
      "user": "theStack",
      "state": "open",
      "created_at": "2026-01-07T23:45:38Z",
      "updated_at": "2026-01-14T20:34:10Z",
      "body": "This PR is a follow-up of #29675, see https://github.com/bitcoin/bitcoin/pull/29675#discussion_r2265077463. It moves all MuSig2 functions that currently live in `CKey` and call secp256k1 musig module API functions (i.e. `secp256k1_musig_...`) to the `musig.{h,cpp}` module, as this seems to be a better place. One small drawback of doing this is that the `secp256k1_context_signing` object needs to be accessed from the outside; this is currently solved by changing the linkage from `static` to `extern` to expose the symbol globally [1]. Happy to add an access function if that is preferred instead. \r\n\r\nAs the patch is mostly move-only, it can be best reviewed via the git option `--color-moved=dimmed-zebra`\r\n\r\n[1] note that the same approach is used in the Silent Payments sending PR #28201, though having a TODO comment added, see https://github.com/bitcoin/bitcoin/pull/28201/commits/a4ebd7da5aaaa567fa9c613666513341f2aea241#diff-e5cbd40011e760f175b82d7ec44ad512bdb3d9108068b660642204da9c9187b1R25",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34225"
    },
    {
      "number": 34224,
      "title": "init: Return EXIT_SUCCESS on interrupt",
      "user": "sedited",
      "state": "closed",
      "created_at": "2026-01-07T22:24:55Z",
      "updated_at": "2026-01-13T23:23:28Z",
      "body": "Reported by dergoegge on irc.\r\n\r\nAn interrupt does not create a failure exit code during normal operation. This should also be the case when interrupt is triggered during initialization. However a failure exit code is currently returned if an interrupt occurs during init. Fix this by making `AppInitMain` return true instead of false on interrupt, which further up the call stack currently sets the `EXIT_FAILURE` code. Also add a check for the interrupt condition during GUI startup. Returning `EXIT_SUCCESS` seems to be the usual behaviour for daemons, see the discussion on IRC for this: https://www.erisian.com.au/bitcoin-core-dev/log-2026-01-08.html#l-146 .\r\n\r\nBest reviewed with `--color-moved=dimmed-zebra --color-moved-ws=ignore-all-space`.",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34224"
    },
    {
      "number": 34223,
      "title": "[28.x] Backport wallets directory deletion fixes",
      "user": "achow101",
      "state": "open",
      "created_at": "2026-01-07T22:03:05Z",
      "updated_at": "2026-01-15T04:03:10Z",
      "body": "Backports #34222 to 28.x",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34223"
    },
    {
      "number": 34222,
      "title": "[29.x] Backport wallets directory deletion fixes",
      "user": "achow101",
      "state": "closed",
      "created_at": "2026-01-07T21:54:36Z",
      "updated_at": "2026-01-13T00:43:48Z",
      "body": "Backports:\r\n* #34215 \r\n* #34156\r\n* #34226 \r\n* 2 required commits from #31423\r\n\r\nNote that this backport is unclean and several changes have to be made to most commits to accommodate BDB and the differences in migration cleanup behavior.",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34222"
    },
    {
      "number": 34221,
      "title": "test: migration, avoid backup name mismatch in default_wallet_failure",
      "user": "furszy",
      "state": "closed",
      "created_at": "2026-01-07T21:41:20Z",
      "updated_at": "2026-01-08T13:17:01Z",
      "body": "This is a possible test failure, pushing it in case the CI starts complaining.\r\nThe change affects only test code; no cpp logic is involved.\r\n\r\nThe `test_default_wallet_failure` migration test calls the function\r\n`migrate_and_get_rpc()`, which sets the mock time internally. But, at the\r\nsame time, the test already caches the mock time value, to later use it\r\nin the backup existence check.\r\nSetting the mock time twice can lead to a name mismatch during the\r\nmentioned check (diff timestamp == diff backup names), which could\r\ncause the test to fail.\r\n\r\nThe fix is very simple, just need to call the migration RPC directly.\r\nSince the test expects the migration to fail, `migrate_and_get_rpc()` is\r\nunnecessary here. I'm surprised the CI hasn't complained about this yet.",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34221"
    },
    {
      "number": 34219,
      "title": "psbt: validate pubkeys in MuSig2 pubnonce/partial sig deserialization",
      "user": "tboy1337",
      "state": "open",
      "created_at": "2026-01-07T12:41:30Z",
      "updated_at": "2026-01-13T13:10:38Z",
      "body": "The previous fix for invalid MuSig2 pubkeys (bitcoin/bitcoin#34010) only\r\naddressed the PSBT_IN_MUSIG2_PARTICIPANT_PUBKEYS field. However, the\r\nPSBT_IN_MUSIG2_PUB_NONCE and PSBT_IN_MUSIG2_PARTIAL_SIG fields also\r\ndeserialize pubkeys without validation, which could lead to crashes when\r\ninvalid pubkeys are processed.\r\n\r\nThis commit adds validation to the DeserializeMuSig2ParticipantDataIdentifier\r\nfunction to ensure all pubkeys in MuSig2 pubnonce and partial signature\r\nfields are fully valid elliptic curve points.\r\n\r\nThe fix:\r\n- Validates both aggregate and participant pubkeys in MuSig2 pubnonce and\r\n  partial signature deserialization\r\n- Throws std::ios_base::failure with descriptive error messages for invalid\r\n  pubkeys\r\n- Prevents potential crashes from invalid elliptic curve points\r\n- Maintains backward compatibility for valid PSBTs\r\n\r\nThis completes the fix for issues [#33999](https://github.com/bitcoin/bitcoin/issues/33999) and [#34201](https://github.com/bitcoin/bitcoin/issues/34201).",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34219"
    },
    {
      "number": 34218,
      "title": "test: Fix Python compatibility issues in test framework",
      "user": "tboy1337",
      "state": "closed",
      "created_at": "2026-01-07T08:16:57Z",
      "updated_at": "2026-01-07T10:41:50Z",
      "body": "This PR addresses cross-platform compatibility issues in the Bitcoin Core test framework:\r\n\r\n### Changes\r\n- **Windows compatibility**: Add proper error handling for `os.geteuid()` in `skip_if_no_bpf_permissions()` method, which doesn't exist on Windows systems\r\n- **Consistent return behavior**: Fix inconsistent return statements in `inspect_sqlite_db()` method to ensure proper error handling when sqlite3 is unavailable\r\n\r\n### Testing\r\n- Verified the test framework compiles successfully on both Windows and Unix-like systems\r\n- Confirmed pylint score improved from 6.67/10 to 6.75/10\r\n- No impact on existing test functionality\r\n\r\n### Motivation\r\nThese fixes ensure the test framework works correctly across all supported platforms (Windows, macOS, Linux) and improve error handling robustness.",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34218"
    },
    {
      "number": 34217,
      "title": "contrib: Fix Python issues in makeseeds.py",
      "user": "tboy1337",
      "state": "closed",
      "created_at": "2026-01-07T08:16:21Z",
      "updated_at": "2026-01-07T10:41:15Z",
      "body": "This PR addresses several code quality issues in the `contrib/seeds/makeseeds.py` script:\r\n\r\n### Changes\r\n- **Remove unused variable**: Eliminate unused `i` variable in the `filterbyasn` function enumeration\r\n- **Simplify control flow**: Remove unnecessary `else` clause after `return` statement in `parseline` function\r\n- **Fix file encoding**: Add explicit UTF-8 encoding specification to file operations for better cross-platform compatibility\r\n- **Correct type annotation**: Fix incorrect type annotation for `asn_count` dictionary that was causing type checking errors\r\n\r\n### Testing\r\n- Verified the script compiles successfully after changes\r\n- Confirmed pylint score improved from 8.59/10 to 8.78/10\r\n- No functional changes to the seed generation logic\r\n\r\n### Motivation\r\nThese changes improve code maintainability and fix compatibility issues without altering the core functionality of the seed generation process.",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34217"
    },
    {
      "number": 34215,
      "title": "wallettool: fix unnamed createfromdump failure walletsdir deletion",
      "user": "achow101",
      "state": "closed",
      "created_at": "2026-01-07T00:15:45Z",
      "updated_at": "2026-01-08T10:27:55Z",
      "body": "As pointed out in https://github.com/bitcoin/bitcoin/pull/34156#issuecomment-3716728670, it is possible for `createfromdump` to also accidentally delete the entire wallets directory if the wallet name is the empty string and the dumpfile contains a checksum error.\r\n\r\nThis is also fixed by removing the files created by only removing the directory for named wallets, and avoiding the use of `fs::remove_all`.",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/pull/34215"
    }
  ],
  "issues": [
    {
      "number": 34220,
      "title": "Guix builds fail after 2026",
      "user": "psgreco",
      "state": "closed",
      "created_at": "2026-01-07T13:27:01Z",
      "updated_at": "2026-01-09T11:11:46Z",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nWhile doing a mingw guix build on a clean image, `osslsigncode` fails to build with error\n```\n\\note: keeping build directory `/tmp/guix-build-osslsigncode-2.5.drv-0'\nbuilder for `/gnu/store/7sm633fs4y8n6cgd9lnqkc19ccrbkxr4-osslsigncode-2.5.drv' failed with exit code 1\nbuild of /gnu/store/7sm633fs4y8n6cgd9lnqkc19ccrbkxr4-osslsigncode-2.5.drv failed\nView build log at '/var/log/guix/drvs/7s/m633fs4y8n6cgd9lnqkc19ccrbkxr4-osslsigncode-2.5.drv.gz'.\nnote: keeping build directory `/tmp/guix-build-gcc-13.3.0.tar.xz.drv-0'\nnote: keeping build directory `/tmp/guix-build-binutils-2.38.tar.xz.drv-0'\nguix shell: error: build of `/gnu/store/7sm633fs4y8n6cgd9lnqkc19ccrbkxr4-osslsigncode-2.5.drv' failed\n```\n\nLooking at the logs, you can see that the error is produced by a failed test due to expired cert\n```\nError: Expired CA certificate:\n\tSigner #0:\n\t\tSubject: /C=PL/O=osslsigncode/OU=Certification Authority/CN=Intermediate CA\n\t\tIssuer : /C=PL/O=osslsigncode/OU=Certification Authority/CN=Root CA\n\t\tSerial : 50F083176D60DACA4AEF9E7B1D9521A92C4196D3\n\t\tCertificate expiration date:\n\t\t\tnotBefore : Jan  1 00:00:00 2018 GMT\n\t\t\tnotAfter : Jan  1 00:00:00 2026 GMT\n\n\nX509_verify_cert: certificate verify error: certificate has expired\nSignature CRL verification: failed\nSignature verification: failed\n```\n\nFaking the time to 2025 before the container preparation and then doing a normal build with the right time works normally.\n\n### Expected behaviour\n\nIdeally there should be no timebombs creating guix environments\n\n### Steps to reproduce\n\nTry a guix build from a recently created container, updating the whole time-machine\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nv30.1\n\n### Operating system and version\n\nFedora 43\n\n### Machine specifications\n\n_No response_",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/issues/34220"
    },
    {
      "number": 34216,
      "title": "V30.1 Release URL Does Not Exist",
      "user": "vittvolt",
      "state": "closed",
      "created_at": "2026-01-07T05:51:43Z",
      "updated_at": "2026-01-13T16:03:58Z",
      "body": "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Current behaviour\n\nhttps://bitcoincore.org/bin/bitcoin-core-30.1/ URL is invalid.\n\nHomebrew update on Mac fails:\n\nâœ˜ Cask bitcoin-core (30.1)\nError: Download failed on Cask 'bitcoin-core' with message: Download failed: https://bitcoincore.org/bin/bitcoin-core-30.1/bitcoin-30.1-arm64-apple-darwin.zip\n==> Upgrading 1 outdated package:\nbitcoin-core 30.0 -> 30.1\n==> Upgrading bitcoin-core\n==> Purging files for version 30.1 of Cask bitcoin-core\nError: bitcoin-core: Download failed on Cask 'bitcoin-core' with message: Download failed: https://bitcoincore.org/bin/bitcoin-core-30.1/bitcoin-30.1-arm64-apple-darwin.zip\n\n### Expected behaviour\n\nHomebrew update for bitcoin-core should succeed.\n\n### Steps to reproduce\n\nJust run:\n\nbrew update; brew upgrade\n\n### Relevant log output\n\n_No response_\n\n### How did you obtain Bitcoin Core\n\nPre-built binaries\n\n### What version of Bitcoin Core are you using?\n\nV30.0\n\n### Operating system and version\n\nMacOS Tahoe 26.1\n\n### Machine specifications\n\n_No response_",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/34216"
    }
  ],
  "summary": {
    "pull_requests": 9,
    "issues": 2
  }
}