{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:18:04.352367+00:00",
  "date": "2025-09-27",
  "pull_requests": [
    {
      "number": 33486,
      "title": "ci: check if file or directory already exists for ${HOME}/.bitcoin instead of failing",
      "body": "## Description\r\nI was trying to run this script, but then it was giving me this error\r\n\r\n```\r\n/ci_container_base/ci/test/03_test_script.sh: line 90: /root/.bitcoin: Is a directory\r\nCommand '['./ci/test/02_run_container.sh']' returned non-zero exit status 1.\r\n```\r\nSince there is a directory there, we should skip this step. \r\n\r\n## Solution\r\nI created a check to see if a directory or a file already exists, otherwise create one\r\n\r\n### How to reproduce\r\nI'm on Fedora 27\r\n```\r\nmkdir $HOME/.bitcoin\r\n./ci/test/03_test_script.sh\r\n```\r\nThis should be enough to run into the error, since the directory exists and the script thus cannot create a file",
      "state": "closed",
      "user": "kevkevinpal",
      "created_at": "2025-09-27T18:03:41Z",
      "updated_at": "2025-09-29T18:03:38Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/33486",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33486.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-09-27T18:03:48Z"
        },
        {
          "user": "maflcko",
          "body": "I don't think it is supported or even encouraged to run this internal CI script on an outside machine. Also, I fail to see how this could even work, as you did not include any steps how to reproduce.",
          "created_at": "2025-09-29T06:05:08Z"
        },
        {
          "user": "katesalazar",
          "body": "I think it's best when as many CI scripts as possible can be run on _any_ host. But I can agree on not cahnging this if there is no clear underlining issue being fixed.\r\n",
          "created_at": "2025-09-29T10:27:54Z"
        },
        {
          "user": "kevkevinpal",
          "body": "> I don't think it is supported or even encouraged to run this internal CI script on an outside machine. \r\n\r\nYea I understand this, I was just playing around with the scripts to understand better how the CI works\r\n\r\n> Also, I fail to see how this could even work, as you did not include any steps how to reproduce.\r\n\r\nYes, I updated the description. Basically, just create a directory in `$HOME/.bitcoin` and then try to run `./ci/test/03_test_script.sh` and you should see the error.\r\n\r\nFor me it is just weird to see the script failing here since creating a file or dir shouldn't fail\r\n\r\n---\r\n\r\nBut I can understand that this isn't causing any issues currently and is only for CI. So it is not needed\r\nI can close this PR\r\n\r\n",
          "created_at": "2025-09-29T14:59:16Z"
        },
        {
          "user": "kevkevinpal",
          "body": "closing as it doesn't fix any currently existing issue",
          "created_at": "2025-09-29T14:59:58Z"
        },
        {
          "user": "maflcko",
          "body": "> For me it is just weird to see the script failing here since creating a file or dir shouldn't fail\r\n\r\nIt actually should fail. The goal of the check is to verify no mainnet datadir access is happening from any of the tests. Maybe the comment could be clarified to mention this?\r\n\r\n(Disabling this check would be better by just removing it)",
          "created_at": "2025-09-29T15:33:24Z"
        },
        {
          "user": "kevkevinpal",
          "body": "> > For me it is just weird to see the script failing here since creating a file or dir shouldn't fail\r\n> \r\n> It actually should fail. The goal of the check is to verify no mainnet datadir access is happening from any of the tests. Maybe the comment could be clarified to mention this?\r\n> \r\n> (Disabling this check would be better by just removing it)\r\n\r\ngotcha that makes more sense to me now, I can open up PR modifying the comment to reflect that.",
          "created_at": "2025-09-29T17:57:43Z"
        },
        {
          "user": "kevkevinpal",
          "body": "I opened this PR https://github.com/bitcoin/bitcoin/pull/33503",
          "created_at": "2025-09-29T18:03:38Z"
        }
      ]
    },
    {
      "number": 33485,
      "title": "test: set par=2 in default config for functional test framework",
      "body": "Depending on the host machine, a default `par` value can spawn up to 15 script verification threads for each node. Running the functional test suite with default `par` can exhaust file descriptors or hit other resource limits when many threads are spawned. These threads are mostly idle and the same code paths are executed with a value of `par=2`. Limit this to 2 for functional tests that do not override the default option.\r\n",
      "state": "closed",
      "user": "andrewtoth",
      "created_at": "2025-09-27T16:09:22Z",
      "updated_at": "2025-10-16T03:45:30Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33485",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33485.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/33485#pullrequestreview-3275123515), [l0rinc](https://github.com/bitcoin/bitcoin/pull/33485#pullrequestreview-3275207076), [maflcko](https://github.com/bitcoin/bitcoin/pull/33485#issuecomment-3345215920), [theStack](https://github.com/bitcoin/bitcoin/pull/33485#pullrequestreview-3280960110) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-09-27T16:09:27Z"
        },
        {
          "user": "andrewtoth",
          "body": "> Q: does this affect the \"-par=1\" cases\r\n\r\nNo, extra args override args in the configuration file.",
          "created_at": "2025-09-28T12:40:13Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK dda5228e02ca6a839bf87ae7dbd133547563816a",
          "created_at": "2025-09-29T06:30:32Z"
        }
      ]
    }
  ],
  "issues": [],
  "summary": {
    "pull_requests": 2,
    "issues": 0
  }
}