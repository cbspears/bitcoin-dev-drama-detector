{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:53:08.091936+00:00",
  "date": "2025-06-29",
  "pull_requests": [
    {
      "number": 32829,
      "title": "threading: use correct mutex name in reverse_lock fatal error messages",
      "body": "\"Now that REVERSE_LOCK requires the name of the actual mutex, it can be used for better error messages.\" - theuni\r\n\r\nThis is a follow-up to this comment https://github.com/bitcoin/bitcoin/pull/32465#issuecomment-2981287545\r\n\r\nI just cherry-picked the commit 85c2848eb575f4abaa81fdd4e8f3b2048693dd98",
      "state": "closed",
      "user": "kevkevinpal",
      "created_at": "2025-06-29T19:41:02Z",
      "updated_at": "2025-07-07T14:51:44Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32829",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32829.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/32829#pullrequestreview-2994172589), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32829#pullrequestreview-2994186848) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- mutex2 was not most recent critical section locked -> mutex2 was not the most recent critical section locked [missing article ‚Äúthe‚Äù]\n\n<sup>drahtbot_id_4_m</sup>\n",
          "created_at": "2025-06-29T19:41:07Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `TSan, depends, gui`: https://github.com/bitcoin/bitcoin/runs/45008376829</sub>\n<sub>LLM reason (‚ú® experimental): The CI failure is due to the test \"reverselock_tests\" failing.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-06-29T20:44:11Z"
        },
        {
          "user": "kevkevinpal",
          "body": "So one thing I noticed is that the tests passed, but the previous commit [85c2848](https://github.com/bitcoin/bitcoin/pull/32829/commits/85c2848eb575f4abaa81fdd4e8f3b2048693dd98) had failures but CI / test each commit (pull_request) passed\r\n\r\nnot sure this is a followup someone can look at to fix? ",
          "created_at": "2025-06-30T20:23:26Z"
        },
        {
          "user": "maflcko",
          "body": "If we want more debug in the ci task, we could go full `Debug` type, but enable optimizations:\r\n\r\n```\r\n-DAPPEND_CXXFLAGS='-O3 -g2' -DAPPEND_CFLAGS='-O3 -g2' -DCMAKE_BUILD_TYPE=Debug",
          "created_at": "2025-07-07T07:45:45Z"
        },
        {
          "user": "maflcko",
          "body": "Done in https://github.com/bitcoin/bitcoin/pull/32888",
          "created_at": "2025-07-07T11:14:57Z"
        },
        {
          "user": "kevkevinpal",
          "body": "> Done in #32888\r\n\r\nawesome going to squash [41f64bd](https://github.com/bitcoin/bitcoin/pull/32829/commits/41f64bd636f580851ef9aa27d56dc45885ace0c7) and [85c2848](https://github.com/bitcoin/bitcoin/pull/32829/commits/85c2848eb575f4abaa81fdd4e8f3b2048693dd98)",
          "created_at": "2025-07-07T14:33:06Z"
        }
      ]
    },
    {
      "number": 32828,
      "title": "build, docs: Fix Boost-related issues on NetBSD",
      "body": "The recently merged https://github.com/bitcoin/bitcoin/pull/32667 broke builds on NetBSD due to the following issues:\r\n\r\n1. The `boost-headers` package does not provide CMake configuration files now required since https://github.com/bitcoin/bitcoin/pull/32667.\r\n\r\n   The first commit updates the Build Guide to recommend using the `boost` package instead.\r\n\r\n2. The CMake configuration file provided by the `boost` package is [broken](https://github.com/NetBSD/pkgsrc/issues/167).\r\n\r\n   The second commit adds a workaround for this issue.\r\n\r\nUpstream issues:\r\n- https://github.com/NetBSD/pkgsrc/issues/167\r\n- https://github.com/NetBSD/pkgsrc/issues/168\r\n\r\nSuccessful CI job: https://github.com/hebasto/bitcoin-core-nightly/actions/runs/15958818914/job/45008576879.",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-06-29T19:05:45Z",
      "updated_at": "2025-12-23T22:27:52Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/32828",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32828.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [purpleKarrot](https://github.com/bitcoin/bitcoin/pull/32828#issuecomment-3022868889) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-29T19:05:49Z"
        },
        {
          "user": "fanquake",
          "body": "> The boost-headers package does not provide CMake configuration files\r\n\r\nIs there an upstream issue for this?",
          "created_at": "2025-06-30T10:03:00Z"
        },
        {
          "user": "hebasto",
          "body": "> > The boost-headers package does not provide CMake configuration files\r\n> \r\n> Is there an upstream issue for this?\r\n\r\nhttps://github.com/NetBSD/pkgsrc/issues/168.",
          "created_at": "2025-06-30T11:04:32Z"
        },
        {
          "user": "fanquake",
          "body": "cc @purpleKarrot ",
          "created_at": "2025-07-01T09:00:17Z"
        },
        {
          "user": "purpleKarrot",
          "body": "ACK 5a5ddbd78922236402df378c8588a7b0b3f83a13\r\n\r\nI wonder why no other projects run into this issue.",
          "created_at": "2025-07-01T09:11:52Z"
        },
        {
          "user": "fanquake",
          "body": "> I wonder why no other projects run into this issue.\r\n\r\nYea. I guess nobody else is using Boost, via CMake, on NetBSD?",
          "created_at": "2025-07-02T12:24:01Z"
        },
        {
          "user": "hebasto",
          "body": "> > > The boost-headers package does not provide CMake configuration files\r\n> > \r\n> > \r\n> > Is there an upstream issue for this?\r\n> \r\n> [NetBSD/pkgsrc#168](https://github.com/NetBSD/pkgsrc/issues/168).\r\n\r\nhttps://gnats.netbsd.org/59856.",
          "created_at": "2025-12-23T22:27:51Z"
        }
      ]
    },
    {
      "number": 32827,
      "title": "mempool: Avoid needless vtx iteration during IBD",
      "body": "During Initial Block Download, the mempool is usually empty, but `CTxMemPool::removeForBlock` is still called for every connected block where we:\r\n* iterate over every transaction in the block even though none will be found in the empty `mapTx`, always leaving `txs_removed_for_block` empty...\r\n* which is pre-allocated regardless with `40 bytes * vtx.size()`, even though it will always remain empty.\r\n\r\nSimilarly to https://github.com/bitcoin/bitcoin/pull/32730#discussion_r2140691354, this change introduces a minor performance & memory optimization by only executing the loop if any of the affected mempool maps have any contents. The second commit is cherry-picked from there since it's related to this change as well.\r\n",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-06-29T18:23:03Z",
      "updated_at": "2025-07-21T16:41:52Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/32827",
      "labels": [
        "Mempool"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32827.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [optout21](https://github.com/bitcoin/bitcoin/pull/32827#issuecomment-3093209323), [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/32827#pullrequestreview-3037622642), [glozow](https://github.com/bitcoin/bitcoin/pull/32827#issuecomment-3097123255) |\n| Stale ACK | [luke-jr](https://github.com/bitcoin/bitcoin/pull/32827#issuecomment-3050037676), [maflcko](https://github.com/bitcoin/bitcoin/pull/32827#issuecomment-3052786718), [mzumsande](https://github.com/bitcoin/bitcoin/pull/32827#pullrequestreview-3030644452) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28676](https://github.com/bitcoin/bitcoin/pull/28676) ([WIP] Cluster mempool implementation by sdaftuar)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-29T18:23:08Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks, updated - though I don't think that's \"Initial\", just regular Block Download.",
          "created_at": "2025-06-30T05:48:44Z"
        },
        {
          "user": "maflcko",
          "body": "> Similarly to [#32730 (comment)](https://github.com/bitcoin/bitcoin/pull/32730#discussion_r2140691354),\r\n\r\nCould make sense to include that change here as well?",
          "created_at": "2025-06-30T11:03:23Z"
        },
        {
          "user": "maflcko",
          "body": "Just to clarify this is just a refactor/cleanup and doesn't affect end-to-end IBD performance in a measurable way?",
          "created_at": "2025-07-07T09:19:58Z"
        },
        {
          "user": "l0rinc",
          "body": "That's my expectation, yes. Would you like me to measure it to sure?\r\n\r\nEdit: measured a full reindex, the effect is <1%, as expected",
          "created_at": "2025-07-07T13:51:07Z"
        },
        {
          "user": "luke-jr",
          "body": "crACK 54f9cb85c4be2c30be0eb89f29b76a4cbf6f1c50",
          "created_at": "2025-07-08T19:13:52Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 54f9cb85c4be2c30be0eb89f29b76a4cbf6f1c50 üåå\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: lgtm ACK 54f9cb85c4be2c30be0eb89f29b76a4cbf6f1c50 üåå\r\nWlk4PL+rrh0WOZRZ2h/TJZ1bw7tQq2rihW0c4tE3QXFO7MY7GBGSVVYcDT6sjjyMwDFbnFqFOFNUkrQTmSOICg==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-07-09T13:57:59Z"
        },
        {
          "user": "l0rinc",
          "body": "Had to rebase after https://github.com/bitcoin/bitcoin/commit/067365d2a8a421a074bb54394118beccb3f775c2#diff-e6100361fa0e9e25478f808ca084e5f681d4dddbbee7b3bea0f9d5bcd29db3aaR39-R563, `src/txorphanage.cpp` was moved to `src/node/txorphanage.cpp`, the change is exactly the same otherwise, would appreciate re-reviews.",
          "created_at": "2025-07-18T23:58:46Z"
        },
        {
          "user": "optout21",
          "body": "ACK 249889bee6b88eb9814eb969e6fb108f86a4bf98",
          "created_at": "2025-07-20T05:09:43Z"
        },
        {
          "user": "glozow",
          "body": "ACK 249889bee6b88eb9814eb969e6fb108f86a4bf98",
          "created_at": "2025-07-21T14:55:30Z"
        }
      ]
    },
    {
      "number": 32826,
      "title": "p2p: add more bad ports",
      "body": "Add a few more ports used by extremely well adopted services that require authentication and really ought not be used by bitcoin nodes for p2p traffic.",
      "state": "closed",
      "user": "jlopp",
      "created_at": "2025-06-29T17:16:36Z",
      "updated_at": "2025-08-09T22:21:19Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/32826",
      "labels": [
        "P2P"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32826.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/32826#issuecomment-3018661110), [l0rinc](https://github.com/bitcoin/bitcoin/pull/32826#pullrequestreview-2970827023), [glozow](https://github.com/bitcoin/bitcoin/pull/32826#pullrequestreview-2972078289) |\n| Stale ACK | [kevkevinpal](https://github.com/bitcoin/bitcoin/pull/32826#issuecomment-3017035899) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-06-29T17:16:40Z"
        },
        {
          "user": "kevkevinpal",
          "body": "ACK [8716fd2](https://github.com/bitcoin/bitcoin/pull/32826/commits/8716fd2f4a00b07426e54a1491af421d6345f708)\r\n\r\nIt makes sense to me to add these ports since they're popular and used. I double-checked the links @l0rinc provided and also did a quick search myself to make sure they were correct",
          "created_at": "2025-06-29T19:58:41Z"
        },
        {
          "user": "maflcko",
          "body": "Please squash your commits according to https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits",
          "created_at": "2025-06-30T06:25:54Z"
        },
        {
          "user": "Sjors",
          "body": "utACK 6967e8e8abbc35ac98e8e3745a8bbed56e77526f\r\n\r\nI checked that the ports make sense.",
          "created_at": "2025-06-30T10:41:03Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #32863.",
          "created_at": "2025-07-04T15:39:09Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32830,
      "title": "Redundant else statements in SRC/logging.cpp",
      "body": "static std::optional<BCLog::Level> GetLogLevel(std::string_view level_str)\n{\n    if (level_str == \"trace\") {\n        return BCLog::Level::Trace;\n    } else if (level_str == \"debug\") {\n        return BCLog::Level::Debug;\n    } else if (level_str == \"info\") {\n        return BCLog::Level::Info;\n    } else if (level_str == \"warning\") {\n        return BCLog::Level::Warning;\n    } else if (level_str == \"error\") {\n        return BCLog::Level::Error;\n    } else {\n        return std::nullopt;\n    }\n}",
      "state": "closed",
      "user": "Raimo33",
      "created_at": "2025-06-29T22:55:20Z",
      "updated_at": "2025-06-30T07:04:08Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/32830",
      "labels": [],
      "comment_list": [
        {
          "user": "l0rinc",
          "body": "Please stop spamming, this isn't useful ",
          "created_at": "2025-06-30T05:50:23Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 4,
    "issues": 1
  }
}