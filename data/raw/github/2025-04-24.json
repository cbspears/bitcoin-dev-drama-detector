{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:35:26.123332+00:00",
  "date": "2025-04-24",
  "pull_requests": [
    {
      "number": 32345,
      "title": "ipc: Handle unclean shutdowns better",
      "body": "This PR fixes various problems when IPC connections are broken or hang which were reported in https://github.com/bitcoin-core/libmultiprocess/issues/123, https://github.com/bitcoin-core/libmultiprocess/issues/176, and https://github.com/bitcoin-core/libmultiprocess/pull/182. The different fixes are described in commit messages.\r\n\r\n---\r\n\r\nThe first two commits of this PR update the libmultiprocess subtree including the following PRs:\r\n\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/181\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/179\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/160\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/184\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/187\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/186\r\n- https://github.com/bitcoin-core/libmultiprocess/pull/192\r\n\r\nThe subtree changes can be verified by running `test/lint/git-subtree-check.sh src/ipc/libmultiprocess` as described in [developer notes](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#subtrees) and [lint instructions](https://github.com/bitcoin/bitcoin/tree/master/test/lint#git-subtree-checksh).\r\n\r\nThe remaining commits are:\r\n\r\n- [`9a9fb19536fa` ipc: Use EventLoopRef instead of addClient/removeClient](https://github.com/bitcoin/bitcoin/pull/32345/commits/9a9fb19536fa2f89c3c96860c1882b79b68c9e64)\r\n- [`6eb09fd6141f` test: Add unit test coverage for Init and Shutdown code](https://github.com/bitcoin/bitcoin/pull/32345/commits/6eb09fd6141f4c96dae3e1fe1a1f1946c91d0131)\r\n- [`7f65aac78b95` ipc: Avoid waiting for clients to disconnect when shutting down](https://github.com/bitcoin/bitcoin/pull/32345/commits/7f65aac78b95357e00e1c0cd996f05e944ea9d2e)\r\n- [`0c28068ceb7b` doc: Improve IPC interface comments](https://github.com/bitcoin/bitcoin/pull/32345/commits/0c28068ceb7b95885a5abb2685a89bb7c03c1689)\r\n- [`216099591632` ipc: Add Ctrl-C handler for spawned subprocesses](https://github.com/bitcoin/bitcoin/pull/32345/commits/216099591632dc8a57cc1a3b1ad08e909f8c73cc)\r\n- [`2581258ec200` ipc: Handle bitcoin-wallet disconnections](https://github.com/bitcoin/bitcoin/pull/32345/commits/2581258ec200efb173ea6449ad09b2e7f1cc02e0)\r\n\r\nThe new commits depend on the subtree update, and because the subtree update includes an incompatible API change, the \"Use EventLoopRef\" commit needs to be part of the same PR to avoid breaking the build. The other commits also make sense to merge at the same time because the bitcoin & libmultiprocess changes were written and tested together.\r\n\r\n---\r\n\r\nThis PR is part of the [process separation project](https://github.com/bitcoin/bitcoin/issues/28722).",
      "state": "closed",
      "user": "ryanofsky",
      "created_at": "2025-04-24T20:58:23Z",
      "updated_at": "2025-09-15T13:56:58Z",
      "comments": 26,
      "url": "https://github.com/bitcoin/bitcoin/pull/32345",
      "labels": []
    },
    {
      "number": 32344,
      "title": "Wallet:  Fix Non-Ranged Descriptors with Range [0,0] Trigger Unexpected Wallet Errors in AddWalletDescriptor",
      "body": "Closes https://github.com/bitcoin/bitcoin/issues/31728\r\n\r\nThis PR updates the `DescriptorScriptPubKeyMan` to skip range checks for non-ranged descriptors, which previously caused errors when updating a non-ranged descriptor with the range [0,0]\r\n\r\n#### Testing\r\nA unit test was added to test the new behaviour",
      "state": "closed",
      "user": "Eunovo",
      "created_at": "2025-04-24T19:22:43Z",
      "updated_at": "2025-05-20T19:30:31Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/32344",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32344.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/32344#pullrequestreview-2824722022), [achow101](https://github.com/bitcoin/bitcoin/pull/32344#issuecomment-2895537874) |\n| Concept ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32344#pullrequestreview-2792671179), [shahsb](https://github.com/bitcoin/bitcoin/pull/32344#issuecomment-2831976141) |\n| Stale ACK | [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/32344#pullrequestreview-2812344598) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T19:22:46Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nðŸš§ At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/41113093377</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-04-24T19:32:47Z"
        },
        {
          "user": "Eunovo",
          "body": "> Functional tests might be necessary.\r\n\r\nThe `importdescriptors` RPC sets the range for all non-ranged descriptors to `[0,1]` in every request so this error cannot be triggered using the RPC.\r\n\r\nIn https://github.com/bitcoin/bitcoin/issues/31728 @JeremyRubin explains that this error may be unexpectedly triggered when \" experimenting with non-ranged descriptors in custom wallet workflows.\"",
          "created_at": "2025-04-25T04:56:00Z"
        },
        {
          "user": "shahsb",
          "body": "Concept ACK",
          "created_at": "2025-04-26T09:02:54Z"
        },
        {
          "user": "achow101",
          "body": "ACK fa0993462b3bc8db40c1a6ea2e7f5fd4a22353a6",
          "created_at": "2025-04-30T22:25:08Z"
        },
        {
          "user": "Eunovo",
          "body": "Rebased https://github.com/bitcoin/bitcoin/pull/32344/commits/fa0993462b3bc8db40c1a6ea2e7f5fd4a22353a6 to https://github.com/bitcoin/bitcoin/pull/32344/commits/97d383af6d54b463da64f45680a146d7e93eb146\r\n\r\nSimplified \"update non-range descriptor\" unit test and fixed this warning:\r\n\r\n> I notice while running the unit tests that it warns about a lack of assertions. Maybe it's expecting a boost check?\r\n> \r\n> ```shell\r\n> wallet/test/wallet_tests.cpp:76: Entering test case \"update_non_range_descriptor\"\r\n> Test case wallet_tests/update_non_range_descriptor did not check any assertions\r\n> wallet/test/wallet_tests.cpp:76: Leaving test case \"update_non_range_descriptor\"; testing time: 38813us\r\n> ```\r\n",
          "created_at": "2025-05-07T16:39:17Z"
        },
        {
          "user": "Eunovo",
          "body": "> Including a range in a non-ranged descriptor import should cause the process to fail before reaching the wallet descriptor update function.\r\n\r\nAFAICT this will cause `importdescriptor` to throw an error with the message \"Range should not be specified for an un-ranged descriptor\"",
          "created_at": "2025-05-09T06:01:20Z"
        },
        {
          "user": "furszy",
          "body": "> > Including a range in a non-ranged descriptor import should cause the process to fail before reaching the wallet descriptor update function.\r\n> \r\n> AFAICT this will cause `importdescriptor` to throw an error with the message \"Range should not be specified for an un-ranged descriptor\"\r\n\r\nThen how can the user trigger the error being solved here? If it can't be triggered by the user, we're talking about an extra guard rather than a fix â€” which is fine as well, but it would be better to label the PR differently, since it won't need to be backported.",
          "created_at": "2025-05-09T14:26:09Z"
        },
        {
          "user": "rkrux",
          "body": "> Then how can the user trigger the error being solved here? If it can't be triggered by the user, we're talking about an extra guard rather than a fix â€” which is fine as well, but it would be better to label the PR differently, since it won't need to be backported.\r\n\r\nAgree that the PR title can be labeled differently.\r\n\r\n> When attempting to add a non-ranged descriptor with a start/end range of [0,0] via AddWalletDescriptor, an error may appear\r\n\r\nThe issue #31728 description states that it is triggered via `AddWalletDescriptor`, which is an internal function & not exposed to the end user. I agree with the expectation set in the issue and this corresponding fix does seem to improve the internal functions and their understanding. \r\n\r\n> it can lead to confusion and error messages when using or experimenting with non-ranged descriptors in custom wallet workflows.\r\n\r\nI feel that the issue need not be labeled as a 'Bug' because the author mentions it is triggered while experimenting with custom flows.",
          "created_at": "2025-05-09T15:00:21Z"
        },
        {
          "user": "achow101",
          "body": "ACK 97d383af6d54b463da64f45680a146d7e93eb146",
          "created_at": "2025-05-20T19:15:57Z"
        }
      ]
    },
    {
      "number": 32343,
      "title": "common: Close non-std fds before exec in RunCommandJSON",
      "body": "Picks up stale #30756, while addressing my fallback comment (https://github.com/bitcoin/bitcoin/pull/30756#discussion_r2030844440).\r\n\r\n> Currently, RunCommandParseJSON runs its target with whatever fds happen to be open inherited on POSIX platforms. I don't think there's any practical scenario where this is a problem right now, but there's a lot of potential for weird problems (eg, if a process manages to outlive bitcoind - perhaps it's hanging - the listening port(s) won't get released and starting bitcoind again will fail). It's also a potential security issue if a child process is intended to be sandboxed at some point. Not to mention plain ugly :)\r\n>\r\n> cpp-subprocess has a feature to address this called close_fds. Not sure why it was removed in https://github.com/bitcoin/bitcoin/pull/29961 rather than fixing this during the migration, but this PR restores it, enables it for RunCommandParseJSON, and optimises it by iterating over /proc/self/fd/ like most other libraries do these days ([eg, glib]> (https://gitlab.gnome.org/GNOME/glib/blob/487b1fd20c5e494366a82ddc0fa6b53b8bd779ad/glib/gspawn.c#L1094)) since iterating all possible fd numbers [has been found to be problematic](https://bugzilla.redhat.com/show_bug.cgi?id=1537564).\r\n>\r\n> (Equivalent to https://github.com/bitcoin/bitcoin/pull/22417 was for boost::process)",
      "state": "closed",
      "user": "laanwj",
      "created_at": "2025-04-24T19:01:44Z",
      "updated_at": "2025-07-25T13:49:48Z",
      "comments": 26,
      "url": "https://github.com/bitcoin/bitcoin/pull/32343",
      "labels": [
        "Utils/log/libs"
      ]
    },
    {
      "number": 32342,
      "title": "Fix missing error check in `set_clo_on_exec` for FD_CLOEXEC handling",
      "body": "####  Changes:\r\n- Replaces unchecked `fcntl(fd, F_SETFD, flags);` with a version that checks the return value.\r\n- Throws `OSError` on failure with an appropriate error message.\r\n\r\n####  Motivation:\r\nProper error handling is critical in system-level code to avoid silent failures, especially when setting file descriptor flags like `FD_CLOEXEC`. This fix ensures robustness and helps catch configuration issues early during process setup.\r\n\r\n### Test coverage\r\nNo functional change beyond improved error propagation, but this section of code is indirectly exercised by any subprocess-related integration or functional tests. Consider adding a unit test for `set_clo_on_exec` in the future for completeness.\r\n",
      "state": "closed",
      "user": "tomasandroil",
      "created_at": "2025-04-24T18:00:30Z",
      "updated_at": "2025-04-28T17:32:40Z",
      "comments": 11,
      "url": "https://github.com/bitcoin/bitcoin/pull/32342",
      "labels": [
        "Utils/log/libs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32342.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [shahsb](https://github.com/bitcoin/bitcoin/pull/32342#issuecomment-2829437457) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T18:00:34Z"
        },
        {
          "user": "tomasandroil",
          "body": "@laanwj Thanks for the review! \r\nI've updated `set_clo_on_exec` to check the return value of `fcntl(fd, F_GETFD, 0)` and throw OSError on failure, similar to the existing check for `F_SETFD`",
          "created_at": "2025-04-24T18:45:10Z"
        },
        {
          "user": "laanwj",
          "body": "LGTM now, raising OSError appears to be how other errors are handled in subprocess as well, so it's at least consistent. Needs to be tested, though, i don't really know the effect of this up the callchain. It doesn't look like we actually catch OSError in `RunCommandParseJSON`.\r\n\r\nPlease squash your commits and use a more informative commit message than \"Update subprocess.h\" .",
          "created_at": "2025-04-24T19:22:31Z"
        },
        {
          "user": "tomasandroil",
          "body": "@laanwj I've squashed the commits and updated the message as requested\r\n",
          "created_at": "2025-04-24T19:48:20Z"
        },
        {
          "user": "shahsb",
          "body": "ACK https://github.com/bitcoin/bitcoin/pull/32342/commits/b0415ab50e6d58375063e4616a0aad7788a6128e",
          "created_at": "2025-04-25T05:51:05Z"
        },
        {
          "user": "fanquake",
          "body": "This should probably be going upstream (https://github.com/arun11299/cpp-subprocess). cc @hebasto.",
          "created_at": "2025-04-25T08:45:43Z"
        },
        {
          "user": "laanwj",
          "body": "> This should probably be going upstream (https://github.com/arun11299/cpp-subprocess). cc @hebasto.\r\n\r\nSame for the subprocess commit of #32343. Optimizing close-all-file-descriptors is out of scope here but it's apparently needed to even pass the CI.",
          "created_at": "2025-04-25T11:35:15Z"
        },
        {
          "user": "hebasto",
          "body": "Changes look good.\n\n> This should probably be going upstream (https://github.com/arun11299/cpp-subprocess). cc @hebasto.\n\n@tomasandroil \n\nYes, please consider upstreaming the changes.",
          "created_at": "2025-04-25T19:03:55Z"
        },
        {
          "user": "tomasandroil",
          "body": "@hebasto \r\nI have upstreamed the changes as requested: [arun11299/cpp-subprocess#117](https://github.com/arun11299/cpp-subprocess/pull/117).",
          "created_at": "2025-04-28T09:39:50Z"
        },
        {
          "user": "hebasto",
          "body": "@tomasandroil \r\n\r\n> I have upstreamed the changes as requested: [arun11299/cpp-subprocess#117](https://github.com/arun11299/cpp-subprocess/pull/117).\r\n\r\nThank you!\r\n\r\nI've backported the merged upstream PR in https://github.com/bitcoin/bitcoin/pull/32358.\r\n\r\nSo this one can be closed, I think.",
          "created_at": "2025-04-28T16:16:34Z"
        },
        {
          "user": "tomasandroil",
          "body": "Closing as requested â€” changes were upstreamed and backported in #32358. Thanks everyone",
          "created_at": "2025-04-28T17:32:39Z"
        }
      ]
    },
    {
      "number": 32339,
      "title": "ci: Merge fuzz task for macOS",
      "body": "Currently macOS eats 2 CI tasks. This is fine, but not needed and duplicates compilation time and space requirements.\r\n\r\nSlim down the tasks into one to reduce the ccache footprint, as well as total compilation time.\r\n\r\nTo give some numbers for the macOS task: It passed here in 29min (with an empty ccache), whereas on master, the times were 19min+14min=32min (https://github.com/bitcoin/bitcoin/actions/runs/14638899803/job/41076397151)",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-24T15:49:10Z",
      "updated_at": "2025-04-30T18:00:01Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/32339",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32339.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31802](https://github.com/bitcoin/bitcoin/pull/31802) (Add bitcoin-{node,gui} to release binaries for IPC by Sjors)\n* [#31349](https://github.com/bitcoin/bitcoin/pull/31349) (ci: detect outbound internet traffic generated while running tests by vasild)\n* [#30595](https://github.com/bitcoin/bitcoin/pull/30595) (kernel: Introduce initial C header API by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T15:49:13Z"
        },
        {
          "user": "dergoegge",
          "body": "* Don't these jobs run in parallel? i.e. how does this save time?\r\n* This requires changing the build type to `Debug`, do we really want that?",
          "created_at": "2025-04-24T15:55:48Z"
        },
        {
          "user": "maflcko",
          "body": "> Don't these jobs run in parallel? i.e. how does this save time?\r\n\r\nThe tasks don't run in parallel, when the GHA limit is reached. However this should be rare. The time and space savings come from re-using build artefacts that can be shared between the fuzz binary and other binaries.\r\n\r\nIt is true that the end-to-end duration of the combined task is now longer, albeit it being less than the sum of the times of the split tasks. I don't think this is a concern, but no strong opinion.\r\n\r\n> This requires changing the build type to `Debug`, do we really want that?\r\n\r\nI'd say yes, because the optimization flags are unchanged here. Enabling the extra debug checks seems reasonable for CI, as the risk would otherwise be that no one else is running them on the platforms.",
          "created_at": "2025-04-24T16:16:47Z"
        },
        {
          "user": "maflcko",
          "body": "(dropped the windows changes)",
          "created_at": "2025-04-24T18:57:39Z"
        },
        {
          "user": "maflcko",
          "body": "Closing for now, but happy to re-open if there is any interest.",
          "created_at": "2025-04-30T17:59:55Z"
        }
      ]
    },
    {
      "number": 32338,
      "title": "net: remove unnecessary check from AlreadyConnectedToAddress()",
      "body": "`CConnman::AlreadyConnectedToAddress()` searches the existent nodes by address or by address-and-port:\r\n\r\n```cpp   \r\nFindNode(static_cast<CNetAddr>(addr)) || FindNode(addr.ToStringAddrPort())\r\n```\r\n\r\nbut:\r\n\r\n* if there is a match by just the address, then the address-and-port search will not be evaluated and the whole condition will be `true`\r\n* if the there is no node with the same address, then the second search by address-and-port will not find a match either.\r\n\r\nThe search by address-and-port is comparing against `CNode::m_addr_name` which could be a hostname, e.g. `\"node.foobar.com:8333\"`, but `addr.ToStringAddrPort()` is always going to be numeric.\r\n\r\n---\r\n\r\nIn other words: let `A` be \"CNetAddr equals\" and `B` be \"addr:port string matches\", then:\r\n\r\n* If `A` (is `true`), then `B` is irrelevant, so the condition `A || B` is equivalent to `A` is `true`.\r\n* Observation in this PR: if `!A` (`A` is `false`), then `!B` for sure, thus the condition `A || B` is equivalent to `A` is `false`.\r\n\r\nSo, simplify `A || B` to `A`.\r\n\r\nhttps://en.wikipedia.org/wiki/Modus_tollens `!A => !B` is equivalent to `B => A`. So the added fuzz test asserts that if `B` is `true`, then `A` is `true`.",
      "state": "closed",
      "user": "vasild",
      "created_at": "2025-04-24T14:36:50Z",
      "updated_at": "2025-05-01T07:22:44Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/32338",
      "labels": [
        "P2P"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32338.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/32338#pullrequestreview-2799968661), [mzumsande](https://github.com/bitcoin/bitcoin/pull/32338#pullrequestreview-2804176049), [davidgumberg](https://github.com/bitcoin/bitcoin/pull/32338#issuecomment-2839948463), [achow101](https://github.com/bitcoin/bitcoin/pull/32338#issuecomment-2840281637) |\n| Concept ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/32338#pullrequestreview-2795181683) |\n| Approach ACK | [shahsb](https://github.com/bitcoin/bitcoin/pull/32338#issuecomment-2833412008) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32326](https://github.com/bitcoin/bitcoin/pull/32326) (net: improve the interface around FindNode() and avoid a recursive mutex lock by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T14:37:00Z"
        },
        {
          "user": "davidgumberg",
          "body": "Concept ACK\r\n\r\nIt would also be good (maybe sufficient) to add a unit test which enforces/documents the behavior that a peer with the same address as an existing peer and a different peer will be seen as already connected to. e.g.:\r\n\r\n```diff\r\ndiff --git a/src/test/net_peer_connection_tests.cpp b/src/test/net_peer_connection_tests.cpp\r\nindex e60ce8b99d..4441a8dde4 100644\r\n--- a/src/test/net_peer_connection_tests.cpp\r\n+++ b/src/test/net_peer_connection_tests.cpp\r\n@@ -155,6 +155,13 @@ BOOST_FIXTURE_TEST_CASE(test_addnode_getaddednodeinfo_and_connection_detection,\r\n         BOOST_CHECK(connman->AlreadyConnectedPublic(node->addr));\r\n     }\r\n\r\n+    BOOST_TEST_MESSAGE(\"\\nCheck that peers with the same addresses as connected peers and different peers are detected as connected.\");\r\n+    for (auto node : connman->TestNodes()) {\r\n+        uint16_t changed_port = node->addr.GetPort() + 1;\r\n+        CService address_with_changed_port{node->addr, changed_port};\r\n+        BOOST_CHECK(connman->AlreadyConnectedPublic(CAddress{address_with_changed_port, NODE_NONE}));\r\n+    }\r\n+\r\n     // Clean up\r\n     for (auto node : connman->TestNodes()) {\r\n         peerman->FinalizeNode(*node);\r\n```\r\n\r\n(https://github.com/davidgumberg/bitcoin/commit/8dc032cf711885df1277bb03f753ae887b45943e)",
          "created_at": "2025-04-24T23:34:22Z"
        },
        {
          "user": "vasild",
          "body": "`0eac006a00...f1b142856a`: address suggestions - add fuzz test and an unit test.",
          "created_at": "2025-04-25T13:22:03Z"
        },
        {
          "user": "theuni",
          "body": "Looking over the old code, I believe it used to be true that `-connect`, `-addnode`, etc. used `m_addr_name` (and a dummy for `addr`) because they may have required a dns lookup. Which would have meant that checking both was required. There was also the case where we were connecting to an address (which may or may not need to be resolved) through a proxy.\r\n\r\nThese days I believe we're smarter and detect addresses which don't need to be resolved.\r\n\r\nI'm pretty sure that `addr` should match `m_addr_name` now in the ip:port case, and we'd want to know if that didn't hold for some reason.\r\n\r\nSo, concept ACK unless anyone can come up with a reason why these might differ in the case of an ip/port.",
          "created_at": "2025-04-25T20:06:17Z"
        },
        {
          "user": "shahsb",
          "body": "Approach ACK",
          "created_at": "2025-04-27T11:35:59Z"
        },
        {
          "user": "davidgumberg",
          "body": "crACK f1b142856a4ecd0a0d90bc3d\r\n\r\nTo rephrase the justification in 94e85a82a753a0aa's commit message and the PR description, because the first check (`FindNode(CNetAddr(addr))`), is indifferent to `addr`'s port (`CNetAddr` [has no](https://github.com/bitcoin/bitcoin/blob/f1b142856a4ecd0a0d90bc3d73ef5137997b14ff/src/netaddress.h#L108-L130) `port` member.), if the first, less specific check for just the address fails, the second more specific check for the address and port will always fail.\r\n\r\nI ran the fuzz harness modified here for a few minutes and didn't observe any issues.\r\n",
          "created_at": "2025-04-29T19:13:28Z"
        },
        {
          "user": "achow101",
          "body": "ACK f1b142856a4ecd0a0d90bc3d73ef5137997b14ff",
          "created_at": "2025-04-29T21:22:29Z"
        },
        {
          "user": "jonatack",
          "body": "Post-merge ACK",
          "created_at": "2025-04-29T22:38:02Z"
        }
      ]
    },
    {
      "number": 32336,
      "title": "test: Suppress upstream `-Wduplicate-decl-specifier` in bpfcc",
      "body": "On some Linux kernel versions, the bpf compiler invoked in the functional tests will issue a `-Wduplicate-decl-specifier` warning.\r\n\r\nThis seems harmless and should be fixed upstream in the Linux kernel.\r\n\r\nHere, simply suppress it for now. Fixes https://github.com/bitcoin/bitcoin/issues/32322",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-24T08:27:05Z",
      "updated_at": "2025-04-24T16:03:52Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32336",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32336.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [laanwj](https://github.com/bitcoin/bitcoin/pull/32336#pullrequestreview-2790382441), [hebasto](https://github.com/bitcoin/bitcoin/pull/32336#pullrequestreview-2790397659) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T08:27:08Z"
        },
        {
          "user": "0xB10C",
          "body": "Post merge ACK",
          "created_at": "2025-04-24T10:12:39Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 29.x in #32292.",
          "created_at": "2025-04-24T14:12:56Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 28.x in #32299.",
          "created_at": "2025-04-24T16:03:51Z"
        }
      ]
    },
    {
      "number": 32335,
      "title": "ci: Temporarily disable failing bpf checks",
      "body": "The ` interface_usdt_coinselection.py` seems to consistently fail under Linux kernel 6.11.\r\n\r\nI don't have a VM with that kernel right now to test, and https://github.com/bitcoin/bitcoin/issues/32322 is open since two days, so I don't think anyone else has either.\r\n\r\nSo temporarily disable the failing tests, to allow for more time while unbreaking the CI.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-24T07:57:07Z",
      "updated_at": "2025-04-24T10:02:25Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/pull/32335",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32335.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T07:57:10Z"
        },
        {
          "user": "sedited",
          "body": "Isn't the problem just a compiler warning that can be suppressed with `-Wno-duplicate-decl-specifier` alongside the existing suppression?",
          "created_at": "2025-04-24T08:06:41Z"
        },
        {
          "user": "maflcko",
          "body": "Yes, I suspect so too, but I can't try locally right now. I can push to a new pull request and test via CI, if people don't mind.",
          "created_at": "2025-04-24T08:12:21Z"
        },
        {
          "user": "hebasto",
          "body": "It seems this PR can be closed in favour of https://github.com/bitcoin/bitcoin/pull/32336.",
          "created_at": "2025-04-24T09:26:22Z"
        }
      ]
    },
    {
      "number": 32333,
      "title": "doc: Add missing top-level description to pruneblockchain RPC",
      "body": "Previously, the `pruneblockchain` RPC help output included only the method signature and arguments, with no top-level description explaining its purpose or constraints.\r\n\r\nThis PR adds a top-level description, improving documentation consistency and alerting users to the potential impacts of using the command.",
      "state": "closed",
      "user": "nervana21",
      "created_at": "2025-04-24T04:18:55Z",
      "updated_at": "2025-05-21T02:24:08Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32333",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32333.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32333#issuecomment-2883881160), [janb84](https://github.com/bitcoin/bitcoin/pull/32333#pullrequestreview-2844543008), [yancyribbens](https://github.com/bitcoin/bitcoin/pull/32333#issuecomment-2888498892), [achow101](https://github.com/bitcoin/bitcoin/pull/32333#issuecomment-2895483233) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-24T04:18:58Z"
        },
        {
          "user": "laanwj",
          "body": "LGTM\r\n```\r\npruneblockchain height\r\n\r\nDeletes block and undo data up to a specified height or timestamp.\r\nRequires `-prune` to be enabled at startup; this action is irreversible.\r\n\r\nArguments:\r\n1. height    (numeric, required) The block height to prune up to. May be set to a discrete height, or to a UNIX epoch time\r\n             to prune blocks whose block time is at least 2 hours older than the provided timestamp.\r\n\r\nResult:\r\nn    (numeric) Height of the last block pruned\r\n\r\nExamples:\r\n> bitcoin-cli pruneblockchain 1000\r\n```",
          "created_at": "2025-04-24T13:56:39Z"
        },
        {
          "user": "nervana21",
          "body": "Thanks for the feedback :)\r\n\r\nIâ€™ve updated the description to clarify that pruning is conditional (not guaranteed), and that pruned data may be re-fetched in some cases (e.g., via getblockfrompeer). As such, the action is not strictly irreversible. Let me know if you'd like to see any further changes.",
          "created_at": "2025-05-15T13:17:36Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 135a0f0aa711b95c50aa4cbe0c38d82d647f1c8b",
          "created_at": "2025-05-15T13:47:15Z"
        },
        {
          "user": "yancyribbens",
          "body": "cr ACK https://github.com/bitcoin/bitcoin/pull/32333/commits/135a0f0aa711b95c50aa4cbe0c38d82d647f1c8b\r\n\r\nNice, didn't know this rpc existed.",
          "created_at": "2025-05-17T17:14:48Z"
        },
        {
          "user": "achow101",
          "body": "ACK 135a0f0aa711b95c50aa4cbe0c38d82d647f1c8b",
          "created_at": "2025-05-20T18:51:07Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32341,
      "title": "ctest -C Debug fails on vs2022 (miniscript_tests (SEGFAULT))",
      "body": "cmd: `ctest --output-on-failure --stop-on-failure -j $NUMBER_OF_PROCESSORS -C Debug`\n\nThe full log and config is in  the comment below: https://github.com/bitcoin/bitcoin/issues/32341#issuecomment-2828857830. Which was motivated by  https://github.com/bitcoin/bitcoin/pull/32339 attempting to use a windows debug build.",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-24T17:25:06Z",
      "updated_at": "2025-05-02T19:04:10Z",
      "comments": 13,
      "url": "https://github.com/bitcoin/bitcoin/issues/32341",
      "labels": [
        "Windows",
        "Tests"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "FWIW, [here](https://github.com/hebasto/bitcoin/commits/250424-msvc-debug-DEMO/) is the demo branch where the native Windows CI job has been switched to the \"Debug\" configuration.\n\nCI logs: https://github.com/hebasto/bitcoin/actions/runs/14650416249.",
          "created_at": "2025-04-24T21:05:34Z"
        },
        {
          "user": "maflcko",
          "body": "Thx. Though, now it says:\n\n```\nThe following tests FAILED:\n\t 60 - miniscript_tests (SEGFAULT)\nErrors while running CTest\n```\n\nThis raises two questions:\n\n* I'd say for the CI we want to reset `/Ob0 /Od` back to `/O2 /Ob1` to avoid slowness.\n* I guess this is not really a segfault/bug in the code, but rather a stack overflow, due to the debug config eating more memory? ",
          "created_at": "2025-04-25T05:54:44Z"
        },
        {
          "user": "hebasto",
          "body": "> Thx. Though, now it says:\n> \n> ```\n> The following tests FAILED:\n> \t 60 - miniscript_tests (SEGFAULT)\n> Errors while running CTest\n> ```\n> \n>    * I guess this is not really a segfault/bug in the code, but rather a stack overflow, due to the debug config eating more memory?\n\nI'm not sure.  I can reproduce the issue locally and it refers to an exception:\n```\n    Start 58: miniscript_tests\n1/1 Test #58: miniscript_tests .................***Exception: SegFault 51.83 sec\n```\n\nWill try to narrow it down.",
          "created_at": "2025-04-25T06:40:33Z"
        },
        {
          "user": "maflcko",
          "body": "A third question would be, why the fuzz output is https://github.com/hebasto/bitcoin/actions/runs/14650416249/job/41114604643#step:14:60: `subprocess timed out: Currently only libFuzzer is supported`. A timeout should not happen for this process call, and the expected outcome should be an immediate stderr of `test/fuzz/fuzz.cpp:269 main: Assertion 'read_file(input_path, buffer)' failed. Error processing input \"-help=1\"` and an ignored exit code.",
          "created_at": "2025-04-25T07:51:10Z"
        },
        {
          "user": "fanquake",
          "body": "Re-opening, given it looks like there are at least two cmake/windows bugs here?",
          "created_at": "2025-04-25T08:46:32Z"
        },
        {
          "user": "hebasto",
          "body": "> Thx. Though, now it says:\n> \n> ```\n> The following tests FAILED:\n> \t 60 - miniscript_tests (SEGFAULT)\n> Errors while running CTest\n> ```\n> \n>    * I guess this is not really a segfault/bug in the code, but rather a stack overflow, due to the debug config eating more memory?\n\nFixed in https://github.com/bitcoin/bitcoin/pull/32349.",
          "created_at": "2025-04-25T12:43:43Z"
        },
        {
          "user": "hodlinator",
          "body": "Was curious how this issue was introduced. Seems like it's existed for some time but was found by #32339 momentarily switching some Windows CI to use Debug configs. Would it be worth adding to the description instead of just \"ref: #32339\"?",
          "created_at": "2025-04-26T22:05:56Z"
        },
        {
          "user": "fanquake",
          "body": "> but was found by https://github.com/bitcoin/bitcoin/pull/32339 momentarily\n\nIt was actually first pointed out here, https://github.com/bitcoin/bitcoin/pull/31367#issuecomment-2500175006, by @dergoegge.",
          "created_at": "2025-04-28T09:26:07Z"
        },
        {
          "user": "maflcko",
          "body": "> I'd say for the CI we want to reset `/Ob0 /Od` back to `/O2 /Ob1` to avoid slowness.\n\n@hebasto If you don't mind, could you update your CI branch with this. If not, that's fine also and I'll try it myself.",
          "created_at": "2025-04-28T09:35:45Z"
        },
        {
          "user": "hebasto",
          "body": "> > I'd say for the CI we want to reset `/Ob0 /Od` back to `/O2 /Ob1` to avoid slowness.\n> \n> [@hebasto](https://github.com/hebasto) If you don't mind, could you update your CI branch with this. If not, that's fine also and I'll try it myself.\n\nWill do.",
          "created_at": "2025-04-28T09:45:13Z"
        },
        {
          "user": "hebasto",
          "body": "> > I'd say for the CI we want to reset `/Ob0 /Od` back to `/O2 /Ob1` to avoid slowness.\n> \n> [@hebasto](https://github.com/hebasto) If you don't mind, could you update your CI branch with this. If not, that's fine also and I'll try it myself.\n\n~https://github.com/hebasto/bitcoin-core-nightly/actions/runs/14705754388/job/41265724818~\nhttps://github.com/hebasto/bitcoin-core-nightly/actions/runs/14707592382/job/41271542519",
          "created_at": "2025-04-28T10:41:21Z"
        },
        {
          "user": "maflcko",
          "body": "> A third question would be, why the fuzz output is https://github.com/hebasto/bitcoin/actions/runs/14650416249/job/41114604643#step:14:60: `subprocess timed out: Currently only libFuzzer is supported`. A timeout should not happen for this process call, and the expected outcome should be an immediate stderr of `test/fuzz/fuzz.cpp:269 main: Assertion 'read_file(input_path, buffer)' failed. Error processing input \"-help=1\"` and an ignored exit code.\n\nLooks like the assertions fails, but the program never prints anything, or aborts:\n\nhttps://github.com/maflcko/bitcoin-core-with-ci/actions/runs/14759346479/job/41435857332#step:13:58\n\n```\n\nRun \"$BITCOINFUZZ\" -help=1\nWed, 30 Apr 2025 16:36:03 GMT D:\\a\\bitcoin-core-with-ci\\bitcoin-core-with-ci\\src\\test\\fuzz\\fuzz.cpp:269 main: Assertion `read_file(input_path, buffer)' failed.\nWed, 30 Apr 2025 17:02:52 GMT Error: The operation was canceled.\n```\n\nI guess this means the `std::signal(SIGABRT, signal_handler)` does something different.\n\nPossibly a debugger is automatically attached?",
          "created_at": "2025-04-30T17:17:16Z"
        },
        {
          "user": "hebasto",
          "body": "> > A third question would be, why the fuzz output is https://github.com/hebasto/bitcoin/actions/runs/14650416249/job/41114604643#step:14:60: `subprocess timed out: Currently only libFuzzer is supported`. A timeout should not happen for this process call, and the expected outcome should be an immediate stderr of `test/fuzz/fuzz.cpp:269 main: Assertion 'read_file(input_path, buffer)' failed. Error processing input \"-help=1\"` and an ignored exit code.\n> \n> Looks like the assertions fails, but the program never prints anything, or aborts:\n> \n> https://github.com/maflcko/bitcoin-core-with-ci/actions/runs/14759346479/job/41435857332#step:13:58\n> \n> ```\n> \n> Run \"$BITCOINFUZZ\" -help=1\n> Wed, 30 Apr 2025 16:36:03 GMT D:\\a\\bitcoin-core-with-ci\\bitcoin-core-with-ci\\src\\test\\fuzz\\fuzz.cpp:269 main: Assertion `read_file(input_path, buffer)' failed.\n> Wed, 30 Apr 2025 17:02:52 GMT Error: The operation was canceled.\n> ```\n> \n> I guess this means the `std::signal(SIGABRT, signal_handler)` does something different.\n> \n> Possibly a debugger is automatically attached?\n\nIt is actually a message box:\n\n![Image](https://github.com/user-attachments/assets/ffe7e07a-71c5-4665-a44c-43039d413b8a)\n\nThe following patch helps:\n```diff\n--- a/src/test/fuzz/fuzz.cpp\n+++ b/src/test/fuzz/fuzz.cpp\n@@ -245,6 +245,7 @@ int main(int argc, char** argv)\n         test_one_input(buffer);\n         return 0;\n     }\n+    _set_abort_behavior(0, _WRITE_ABORT_MSG);\n     std::signal(SIGABRT, signal_handler);\n     const auto start_time{Now<SteadySeconds>()};\n     int tested = 0;\n```\n\nFor more details, see Microsoft docs:\n- https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/abort\n- https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/set-abort-behavior",
          "created_at": "2025-05-02T18:43:41Z"
        }
      ]
    },
    {
      "number": 32340,
      "title": "Moving this repo to bitcoin-core",
      "body": "Organizationally, it doesn't make sense for Bitcoin Core to be under the bitcoin GitHub organization. All of our other repos (gui, qa-assets, dev wiki, etc.) are under bitcoin-core, so having just this one repo in a different organization doesn't totally make sense. It's only in bitcoin/ for historical reasons. The bitcoin-core organization was created several years ago for the express purpose of moving this repo there, but we still haven't done it.\n\nConceptually, it makes sense to complete the move as it gives further strength to the fact that Bitcoin Core is not Bitcoin. This move also provides us with some organizational benefits, primarily in the form of not having to keep two organization member and team lists in sync.\n\nAdditionally, because bitcoin and bips are under the same bitcoin github org, there are some questions about moderation and banning of people from either repo. A ban from one repo is necessarily a ban from both as bans are issued by the organization, not the repo. However, since Bitcoin Core and BIPs are separate projects, this type of behavior does not make any sense, and both projects should be able to make their own moderation decisions without impacting the other. By moving one or both repos out of the bitcoin github org, this conflict can be resolved.\n\nWhen a repository is transferred, github will automatically create redirects for all of the URLs, including git remotes. This move would not affect anyone's workflows, nor would it break any existing links to bitcoin/bitcoin. The only requirement is that a bitcoin/bitcoin repository is not created after the move. This necessitates that the current owners of the bitcoin github organization will remain the owners of it in order to prevent any takeovers of the redirects.\n\nA related but tangential topic is whether bips should move to its own organization as well, and the bitcoin github org can remain under current ownership to preserve redirects for both repos.\n\n***\n\nThis was discussed during today's IRC meeting: https://achow101.com/ircmeetings/2025/bitcoin-core-dev.2025-04-24_16_00.log.html\n\nThe general sentiment seems to be in favor of this move, although it seems like there are still some reservations about doing so. I'm opening this issue for additional long form discussion. This will also be a topic in next week's IRC meeting.",
      "state": "open",
      "user": "achow101",
      "created_at": "2025-04-24T17:11:26Z",
      "updated_at": "2025-06-19T22:01:02Z",
      "comments": 13,
      "url": "https://github.com/bitcoin/bitcoin/issues/32340",
      "labels": [
        "Brainstorming"
      ],
      "comment_list": [
        {
          "user": "achow101",
          "body": "One concern that was brought up during the IRC meeting is whether github might recycle the bitcoin org if it were to have no activity. This would be problematic as if it were recycled this opens up the possibility of scammers to create a new bitcoin/bitcoin that points to something malicious. However, several contributors have tried to get github to release inactive usernames and organizations with extreme difficulty, and generally unable to actually get them to do that, so I think this risk is relatively low. It seems that github actually is quite reluctant to release usernames or organization names, although it supposedly has happened before. I believe that it can be further mitigated by adding a readme to the organization profile that states the purpose of the organization being inactive so that redirects are preserved.\n\nThere was also the concern that github may decide to break redirects in the future, for whatever reason. While we can't know what github will do in the future, their past behavior with transferred repositories is that the redirects are permanent as long as there is no repo of the same name created in the original org. Several contributors have transferred repositories before (even out of the bitcoin org too) and all of those redirects still remain.",
          "created_at": "2025-04-24T17:17:36Z"
        },
        {
          "user": "kanzure",
          "body": "I would like to see a write-up of the different GitHub arrangements so that we can compare the plans by name.",
          "created_at": "2025-04-24T17:54:04Z"
        },
        {
          "user": "sr-gi",
          "body": "I expressed my concerns about moving bitcoin out of the bitcoin org / leaving the bitcoin org empty during the meeting, but I think it is worth elaborating on them.\n\nWhile I can see the logistical benefits of splitting the orgs and how it may make admin/moderator lives easier, I don't think that's enough motivation to overcome the potential risks of redirections being broken, github giving up the org due to inactivity, or a takeover of the bitcoin/bitcoin repo.  I do agree that these threads are really unlikely, but the implications are massive when compared to the benefits of splitting the orgs. \n\nIf the main motivation is making moderation easier, moving out the bips repository and leaving bitcoin under the bitcoin org seems a less risky option.",
          "created_at": "2025-04-24T18:14:58Z"
        },
        {
          "user": "achow101",
          "body": "> I would like to see a write-up of the different GitHub arrangements so that we can compare the plans by name.\n\nI've written it in this gist: https://gist.github.com/achow101/e20dcc0818e2b346e699438b70ee8b8c\n\nI think discussion of bips is a bit off topic for this repo as the actions taken by either repo are largely unrelated.\n\n> If the main motivation is making moderation easier, moving out the bips repository and leaving bitcoin under the bitcoin org seems a less risky option.\n\nI don't think that's the main motivation - perhaps it's the main practical concern currently.\n\nThe main motivation is really a philosophical one. Bitcoin Core is not Bitcoin, but having it under the bitcoin org and having the repo named bitcoin suggests that it is Bitcoin. By moving to bitcoin-core, and even renaming it, we further establish the separation between Bitcoin Core and Bitcoin.",
          "created_at": "2025-04-24T18:33:21Z"
        },
        {
          "user": "jonatack",
          "body": "ACK after reading the above, the IRC meeting discussion, and @achow101's gist.\n\n> The main motivation is really a philosophical one.\n\nAgree.",
          "created_at": "2025-04-25T19:52:28Z"
        },
        {
          "user": "achow101",
          "body": "One thing to mention is that several contributors are not comfortable with transferring the ownership of the bitcoin github org to anyone else, so regardless of any moves, the current bitcoin org owners will remain unchanged and no new owners added.",
          "created_at": "2025-05-01T16:32:21Z"
        },
        {
          "user": "achow101",
          "body": "A few people (@darosior, @glozow) mentioned at last week's IRC meeting that they'd like to have more time to think on this and we'd punt another week. If you have any thoughts on this topic that you'd like to share, that'd be appreciated. I'd rather not punt for another week again.",
          "created_at": "2025-05-06T23:23:49Z"
        },
        {
          "user": "maflcko",
          "body": "I understand the main motivation is philosophical, but there are other practical benefits not yet mentioned. In the context of CI subscriptions ( https://github.com/bitcoin/bitcoin/issues/31965 ), which are usually done on a per-org Github App install, the practical benefit would be to not have to configure/sync everything twice as well (similar to the already mentioned user/team/moderation overhead).",
          "created_at": "2025-06-10T09:14:00Z"
        },
        {
          "user": "maflcko",
          "body": "Just to reply to the concerns raised so far:\n\n* GitHub could break the automated redirect: This concern seems theoretical, because it is not known to have ever happened in the past for any repo. Even if it were to happen, it would be trivial to ask GitHub staff to re-instantiate the redirect.\n* GitHub could delete/reassign the org: This also seems theoretical, because it is not known to have ever happened to a meaningful/relevant org. Also, the proposal of having an org-readme to clearly and briefly document the redirect and the expectation that the redirect will persist, along with keeping the admin/owner team in the org, should be sufficient additional safeguards.\n\n",
          "created_at": "2025-06-17T16:56:14Z"
        },
        {
          "user": "janb84",
          "body": "> Conceptually, it makes sense to complete the move as it gives further strength to the fact that Bitcoin Core is not Bitcoin. \n\nAgree and;\n\nKeeping BIPs under the bitcoin github org enhances the distinction between Bitcoin (the protocol and ecosystem) and Bitcoin Core \"one of several implementations\" (it's THE implementation but anyway). BIPs are protocol-level standards, independent of any specific implementation (imho). Relocating BIPs to the bitcoin core organization would blur this separation, contradicting the principle that Bitcoin Core is not Bitcoin. \n\nKeeping the BIPS will also make the move of the bitcoin repo to bitcoin core organization an easy to explain action. Makes bitcoin org github independent  and support the fact that \"that Bitcoin Core is not Bitcoin\". \n\nAlso keeping the BIP's on bitcoin github org , will keep the bitcoin repo active.\n\nEDIT: bitcoin.org github -> bitcoin github org",
          "created_at": "2025-06-19T17:34:25Z"
        },
        {
          "user": "sipa",
          "body": "> Keeping BIPs under the bitcoin.org\n\nbitcoin.org is an independent website, whose source code is on https://github.com/bitcoin-dot-org/Bitcoin.org. It is operated by different people, and unrelated to the bitcoin org on github, or the bitcoin-core org on github, or to Bitcoin Core, or to BIPs.\n\n> Relocating BIPs to the bitcoin core organization\n\nI don't think anyone has ever suggested this.",
          "created_at": "2025-06-19T19:06:27Z"
        },
        {
          "user": "janb84",
          "body": "> > Keeping BIPs under the bitcoin.org\n> \n> bitcoin.org is an independent website, whose source code is on https://github.com/bitcoin-dot-org/Bitcoin.org. It is unrelated to the bitcoin org on github, or the bitcoin-core org on github, or to Bitcoin Core, or to BIPs.\n\nSorry, To clarify, what I ment to say is keeping the bips at https://github.com/bitcoin/bips.  wil correct the comment to prevent any further confusion, thank you for pointing out my unfortunate mistake. \n\n> > Relocating BIPs to the bitcoin core organization\n> \n> I don't think anyone has ever suggested this.\n\nThan I misinterpreted what was meant by \"By moving one or both repos out of the bitcoin github org, this conflict can be resolved.\"  Glad that we are intending to keep the BIP's on the bitcoin github repo. \n\nWe could even keep (a copy) the \"functional tests\" on the bitcoin github org repo as an \"act of good faith\" so that all the implementations have a unified testset to validate compliance against a standard testset.  (although a bit unrealistic to maintain 2 sets of functional tests)   ",
          "created_at": "2025-06-19T19:30:15Z"
        },
        {
          "user": "sipa",
          "body": "> Than I misinterpreted what was meant by \"By moving one or both repos out of the bitcoin github org, this conflict can be resolved.\" Glad that we are intending to keep the BIP's on the bitcoin github repo.\n\nThe BIPs repo would (if they want to) move to their own new org, like `bitcoin-bips` or so, owned by the BIP editors. If that happens, the `bitcoin` org would remain vestigial, to avoid name-squatting, and just containing redirects to the right orgs for repositories formerly hosted there.\n\n> We could even keep (a copy) the \"functional tests\" on the bitcoin github org repo as an \"act of good faith\" so that all the implementations have a unified testset to validate compliance against a standard testset.\n\nEven ignoring feasibility, I don't think that makes sense. The functional tests are specific to Bitcoin Core, using its RPCs, commands, calling conventions, etc. It's also just wrong I think: there doesn't exist a well-defined set of tests for Bitcoin implementations, and it's certainly not up to the bitcoin org owners to decide what those are.",
          "created_at": "2025-06-19T22:00:21Z"
        }
      ]
    },
    {
      "number": 32337,
      "title": "test: bip324_tests & net_tests failure with `-O3 -flto`",
      "body": "```bash\nx86_64 / aarch64\nAlpine 3.21.3\nmaster @ 458720e5e98c6e9103aea1fdfcd39bafc26c27bb \nGCC gcc (Alpine 14.2.0) 14.2.0\nld GNU ld (GNU Binutils) 2.43.1\n```\n\n```bash\ncmake -B build -DAPPEND_CFLAGS=\"-O3 -flto -fvisibility=hidden\" -DAPPEND_CXXFLAGS=\"-O3 -flto -fvisibility=hidden\" -DAPPEND_LDFLAGS=\"-flto\"\ncmake --build build\n```\n\n```bash\nctest --test-dir build --output-on-failure\nInternal ctest changing into directory: /bitcoin/build\nTest project /bitcoin/build\n    Start 19: bip324_tests\n1/2 Test #19: bip324_tests .....................***Failed    0.89 sec\nRunning 1 test case...\nEntering test module \"Bitcoin Core Test Suite\"\n<snip>\n./test/bip324_tests.cpp(164): Entering test suite \"bip324_tests\"\n./test/bip324_tests.cpp(166): Entering test case \"packet_test_vectors\"\n2025-04-23T16:47:03.212847Z [unknown] [test/util/random.cpp:48] [SeedRandomStateForTest] Setting random seed for current tests to RANDOM_CTX_SEED=6925052e24b57b8e9c45374ef26b7cbed1f2f83e9a7408544bbc2affd5647517\n2025-04-23T16:47:03.213500Z [test] [init/common.cpp:151] [LogPackageVersion] Bitcoin Core version v29.99.0-9a4c92eb9ac2 (release build)\n2025-04-23T16:47:03.213692Z [test] [kernel/context.cpp:20] [operator()] Using the 'x86_shani(1way,2way)' SHA256 implementation\n2025-04-23T16:47:03.213698Z [test] [random.cpp:111] [ReportHardwareRand] Using RdSeed as an additional entropy source\n2025-04-23T16:47:03.213703Z [test] [random.cpp:114] [ReportHardwareRand] Using RdRand as an additional entropy source\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(91): error: in \"bip324_tests/packet_test_vectors\": check out_ciphertext == ciphertext has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(91): error: in \"bip324_tests/packet_test_vectors\": check out_ciphertext == ciphertext has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(91): error: in \"bip324_tests/packet_test_vectors\": check out_ciphertext == ciphertext has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(94): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_ciphertext_endswith, std::span{ciphertext}.last(out_ciphertext_endswith.size())) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(94): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_ciphertext_endswith, std::span{ciphertext}.last(out_ciphertext_endswith.size())) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(94): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_ciphertext_endswith, std::span{ciphertext}.last(out_ciphertext_endswith.size())) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(67): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, cipher.GetSessionID()) has failed\n./test/bip324_tests.cpp(68): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, cipher.GetSendGarbageTerminator()) has failed\n./test/bip324_tests.cpp(69): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, cipher.GetReceiveGarbageTerminator()) has failed\n./test/bip324_tests.cpp(94): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_ciphertext_endswith, std::span{ciphertext}.last(out_ciphertext_endswith.size())) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(114): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(out_session_id, dec_cipher.GetSessionID()) == (error != 1) has failed\n./test/bip324_tests.cpp(115): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_send_garbage, dec_cipher.GetSendGarbageTerminator()) == (error != 1) has failed\n./test/bip324_tests.cpp(116): error: in \"bip324_tests/packet_test_vectors\": check std::ranges::equal(mid_recv_garbage, dec_cipher.GetReceiveGarbageTerminator()) == (error != 1) has failed\n<snip>\nLeaving test module \"Bitcoin Core Test Suite\"; testing time: 774534us\n\n*** 280 failures are detected in the test module \"Bitcoin Core Test Suite\"\n\n\n    Start 63: net_tests\n2/2 Test #63: net_tests ........................***Failed    0.48 sec\nRunning 16 test cases...\nEntering test module \"Bitcoin Core Test Suite\"\n<snip>\n./test/net_tests.cpp(1330): Entering test case \"v2transport_test\"\n2025-04-23T16:47:04.455180Z [test] [test/util/random.cpp:48] [SeedRandomStateForTest] Setting random seed for current tests to RANDOM_CTX_SEED=1761a3212cb2721ed47f15815ee4d73540d308a01a9d38280b33bdca60cff716\n2025-04-23T16:47:04.455616Z [test] [init/common.cpp:151] [LogPackageVersion] Bitcoin Core version v29.99.0-9a4c92eb9ac2 (release build)\n2025-04-23T16:47:04.455872Z [scheduler] [util/thread.cpp:20] [TraceThread] scheduler thread start\n2025-04-23T16:47:04.455951Z [test] [checkqueue.h:147] [CCheckQueue] Script verification uses 2 additional threads\n2025-04-23T16:47:04.456104Z [test] [node/blockstorage.cpp:1154] [InitBlocksdirXorKey] Using obfuscation key for blocksdir *.dat files (/tmp/test_common bitcoin/net_tests/v2transport_test/62d474901f7d5a503c65/regtest/blocks): '1104ad2ab95fe6ca'\n2025-04-23T16:47:04.456179Z [test] [dbwrapper.cpp:243] [CDBWrapper] Opened LevelDB successfully\n2025-04-23T16:47:04.456186Z [test] [dbwrapper.cpp:268] [CDBWrapper] Using obfuscation key for /tmp/test_common bitcoin/net_tests/v2transport_test/62d474901f7d5a503c65/regtest/blocks/index: 0000000000000000\n2025-04-23T16:47:04.464146Z [test] [script/sigcache.cpp:35] [SignatureCache] Using 16 MiB out of 16 MiB requested for signature cache, able to store 524288 elements\n2025-04-23T16:47:04.472485Z [test] [validation.cpp:2140] [ValidationCache] Using 16 MiB out of 16 MiB requested for script execution cache, able to store 524288 elements\n2025-04-23T16:47:04.472529Z [test] [node/chainstate.cpp:150] [LoadChainstate] Validating signatures for all blocks.\n2025-04-23T16:47:04.472535Z [test] [node/chainstate.cpp:152] [LoadChainstate] Setting nMinimumChainWork=0000000000000000000000000000000000000000000000000000000000000000\n2025-04-23T16:47:04.472567Z [test] [node/blockstorage.cpp:508] [LoadBlockIndexDB] LoadBlockIndexDB: last block file = 0\n2025-04-23T16:47:04.472575Z [test] [node/blockstorage.cpp:512] [LoadBlockIndexDB] LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=0, size=0, heights=0...0, time=1970-01-01...1970-01-01)\n2025-04-23T16:47:04.472580Z [test] [node/blockstorage.cpp:523] [LoadBlockIndexDB] Checking all blk files are present...\n2025-04-23T16:47:04.472664Z [test] [flatfile.cpp:69] [Allocate] [validation] Pre-allocating up to position 0x1000000 in blk00000.dat\n2025-04-23T16:47:04.472791Z [test] [node/chainstate.cpp:87] [CompleteChainstateInitialization] Initializing chainstate Chainstate [ibd] @ height -1 (null)\n2025-04-23T16:47:04.472876Z [test] [dbwrapper.cpp:243] [CDBWrapper] Opened LevelDB successfully\n2025-04-23T16:47:04.472920Z [test] [dbwrapper.cpp:265] [CDBWrapper] Wrote new obfuscate key for /tmp/test_common bitcoin/net_tests/v2transport_test/62d474901f7d5a503c65/regtest/chainstate: acea31a87309a887\n2025-04-23T16:47:04.472949Z [test] [dbwrapper.cpp:268] [CDBWrapper] Using obfuscation key for /tmp/test_common bitcoin/net_tests/v2transport_test/62d474901f7d5a503c65/regtest/chainstate: acea31a87309a887\n2025-04-23T16:47:04.473049Z [test] [validation.cpp:3196] [ConnectTip] [bench]   - Load block from disk: 0.04ms\n2025-04-23T16:47:04.473093Z [test] [validationinterface.cpp:249] [BlockChecked] [validation] BlockChecked: block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 state=Valid\n2025-04-23T16:47:04.473132Z [test] [validation.cpp:3213] [ConnectTip] [bench]   - Connect total: 0.08ms [0.00s (0.08ms/blk)]\n2025-04-23T16:47:04.473179Z [test] [validation.cpp:3222] [ConnectTip] [bench]   - Flush: 0.05ms [0.00s (0.05ms/blk)]\n2025-04-23T16:47:04.473210Z [test] [validation.cpp:3232] [ConnectTip] [bench]   - Writing chainstate: 0.03ms [0.00s (0.03ms/blk)]\n2025-04-23T16:47:04.473241Z [test] [validationinterface.cpp:225] [MempoolTransactionsRemovedForBlock] [validation] Enqueuing MempoolTransactionsRemovedForBlock: block height=0 txs removed=0\n2025-04-23T16:47:04.473289Z [test] [validation.cpp:2998] [UpdateTipLog] UpdateTip: new best=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 height=0 version=0x00000001 log2_work=1.000000 tx=1 date='2011-02-02T23:16:42Z' progress=1.000000 cache=0.3MiB(0txo)\n2025-04-23T16:47:04.473412Z [test] [validation.cpp:3248] [ConnectTip] [bench]   - Connect postprocess: 0.11ms [0.00s (0.11ms/blk)]\n2025-04-23T16:47:04.473497Z [test] [validation.cpp:3252] [ConnectTip] [bench] - Connect block: 0.32ms [0.00s (0.32ms/blk)]\n2025-04-23T16:47:04.473544Z [test] [txmempool.cpp:700] [check] [mempool] Checking mempool with 0 transactions and 0 inputs\n2025-04-23T16:47:04.473615Z [scheduler] [validationinterface.cpp:225] [operator()] [validation] MempoolTransactionsRemovedForBlock: block height=0 txs removed=0\n2025-04-23T16:47:04.473698Z [test] [validationinterface.cpp:215] [BlockConnected] [validation] Enqueuing BlockConnected: block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 block height=0\n2025-04-23T16:47:04.473736Z [test] [validationinterface.cpp:179] [UpdatedBlockTip] [validation] Enqueuing UpdatedBlockTip: new block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 fork block hash=null (in IBD=true)\n2025-04-23T16:47:04.473796Z [test] [validationinterface.cpp:187] [ActiveTipChange] [validation] ActiveTipChange: new block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 block height=0\n2025-04-23T16:47:04.473886Z [scheduler] [validationinterface.cpp:215] [operator()] [validation] BlockConnected: block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 block height=0\n2025-04-23T16:47:04.473997Z [scheduler] [validationinterface.cpp:179] [operator()] [validation] UpdatedBlockTip: new block hash=0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206 fork block hash=null (in IBD=true)\n2025-04-23T16:47:04.474505Z [test] [banman.cpp:42] [LoadBanlist] Recreating the banlist database\n2025-04-23T16:47:04.474627Z [test] [banman.cpp:68] [DumpBanlist] [net] Flushed 0 banned node addresses/subnets to disk  0ms\n2025-04-23T16:47:04.474657Z [test] [net.cpp:2426] [SetTryNewOutboundPeer] [net] setting try another outbound peer=false\n2025-04-23T16:47:04.474663Z [test] [net.cpp:3199] [SetNetworkActive] SetNetworkActive: true\n2025-04-23T16:47:04.474770Z [test] [net.cpp:1539] [MarkBytesSent] [net] start sending v2 handshake to peer=0\n./test/net_tests.cpp(1242): fatal error: in \"net_tests/v2transport_test\": critical check m_received.size() >= garblen + BIP324Cipher::GARBAGE_TERMINATOR_LEN has failed\n<snip>\nLeaving test module \"Bitcoin Core Test Suite\"; testing time: 372224us\n\n*** 1 failure is detected in the test module \"Bitcoin Core Test Suite\"\n\n0% tests passed, 2 tests failed out of 2\n\nTotal Test time (real) =   1.42 sec\n\nThe following tests FAILED:\n\t 19 - bip324_tests (Failed)\n\t 63 - net_tests (Failed)\nErrors while running CTest\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-04-24T12:28:26Z",
      "updated_at": "2025-07-15T16:58:13Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/32337",
      "labels": [
        "Upstream"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "It would be good to reduce the test case and report it upstream. Though, similar to https://github.com/bitcoin/bitcoin/issues/32276, it seems tedious to reduce.\n\n",
          "created_at": "2025-04-24T12:47:39Z"
        },
        {
          "user": "mzumsande",
          "body": "I tried this with:\n```\nx86_64\ngcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0\nGNU ld (GNU Binutils for Ubuntu) 2.42\n```\n\nI don't get any of the failures reported above, but `util_test_runner` fails for me:\n```\nbitcoin-util: ./kernel/chainparams.cpp:143: CMainParams::CMainParams(): Assertion `consensus.hashGenesisBlock == uint256{\"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f\"}' failed.\n``` \n(`tool_signet_miner.py --descriptors` and` tool_wallet.py --descriptors` fail with the same error).",
          "created_at": "2025-04-24T20:42:11Z"
        },
        {
          "user": "maflcko",
          "body": "> gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0\n\nYou can use g++-14 from Ubuntu, which seems to work. Not sure if it was or will be fixed in gcc 13.4 as well (and if Ubuntu/Debian take that point release at all), but for now g++14 is probably your best bet. \n\nI've also checked g++-15 nightly, and it seems to work as well: https://github.com/maflcko/b-c-nightly/actions/runs/14658126783/job/41136699706\n\nI suspect that the issue initially reported here in this thread is musl related?",
          "created_at": "2025-04-25T07:14:51Z"
        },
        {
          "user": "fanquake",
          "body": "Closing for now, as I can no-longer recreate this, with Alpine 3.22.1, GCC 14.2.0, ld 2.44.",
          "created_at": "2025-07-15T16:58:13Z"
        }
      ]
    },
    {
      "number": 32334,
      "title": "intermittent issue in feature_bip68_sequence.py: sequence_value = utxos[j][\"confirmations\"]                                                          IndexError: list index out of range",
      "body": "https://cirrus-ci.com/task/5337593233014784?logs=ci#L3671\n\n```\n test  2025-04-23T20:13:04.883000Z TestFramework (ERROR): Unexpected exception caught during testing \n                                   Traceback (most recent call last):\n                                     File \"/ci_container_base/test/functional/test_framework/test_framework.py\", line 182, in main\n                                       self.run_test()\n                                     File \"/ci_container_base/ci/scratch/build-i686-pc-linux-gnu/test/functional/feature_bip68_sequence.py\", line 70, in run_test\n                                       self.test_sequence_lock_confirmed_inputs()\n                                     File \"/ci_container_base/ci/scratch/build-i686-pc-linux-gnu/test/functional/feature_bip68_sequence.py\", line 173, in test_sequence_lock_confirmed_inputs\n                                       sequence_value = utxos[j][\"confirmations\"]\n                                                        ~~~~~^^^\n                                   IndexError: list index out of range",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-04-24T07:48:41Z",
      "updated_at": "2025-06-19T14:04:08Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/issues/32334",
      "labels": [
        "Tests",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "theStack",
          "body": "I can reproduce this issue locally by passing the randomseed as shown in the CI logs, i.e.\n```\n$ ./build/test/functional/feature_bip68_sequence.py --randomseed 6169832640268785903\n```\nSeems that the number of UTXOs generated in the `test_sequence_lock_confirmed_inputs` sub-test (currently 200) is not enough in some cases. A simple minimal-diff fix might be to simply increase that number in this line:\n\nhttps://github.com/bitcoin/bitcoin/blob/458720e5e98c6e9103aea1fdfcd39bafc26c27bb/test/functional/feature_bip68_sequence.py#L137\n\n\nIIUC, in the absolute worst-case 4000 UTXOs are consumed (400 txs with 10 inputs each).",
          "created_at": "2025-04-24T14:59:20Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 9,
    "issues": 4
  }
}