{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:31:36.481288+00:00",
  "date": "2025-11-14",
  "pull_requests": [
    {
      "number": 33875,
      "title": "qa: Account for unset errno in ConnectionResetError",
      "body": "The lack of errno can cause unclear and long log output.\r\n\r\nIssue can be triggered by:\r\n\r\n```diff\r\n--- a/src/httpserver.cpp\r\n+++ b/src/httpserver.cpp\r\n@@ -263,6 +263,7 @@ std::string RequestMethodString(HTTPRequest::RequestMethod m)\r\n /** HTTP request callback */\r\n static void http_request_cb(struct evhttp_request* req, void* arg)\r\n {\r\n+    throw std::runtime_error{\"Hello\"};\r\n     evhttp_connection* conn{evhttp_request_get_connection(req)};\r\n     // Track active requests\r\n     {\r\n```\r\nand running a functional test such as *test/functional/feature_abortnode.py*.\r\n\r\n`http.client.RemoteDisconnected` not specifying `errno` to `ConnectionResetError`-ctor: https://github.com/python/cpython/blob/ce4b0ede16aea62ee7b1e02df7e1538102a356da/Lib/http/client.py#L1556C9-L1556C29\r\n\r\n<details><summary>Before/after log examples</summary>\r\n\r\n\r\n#### Log before\r\n```\r\n2025-11-14T20:53:05.272804Z TestFramework (ERROR): Unexpected exception\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 138, in main\r\n    self.setup()\r\n    ~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 268, in setup\r\n    self.setup_network()\r\n    ~~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/./build/test/functional/feature_abortnode.py\", line 21, in setup_network\r\n    self.setup_nodes()\r\n    ~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 381, in setup_nodes\r\n    self.start_nodes()\r\n    ~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 527, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_node.py\", line 326, in wait_for_rpc_connection\r\n    rpc.getblockcount()\r\n    ~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/coverage.py\", line 50, in __call__\r\n    return_val = self.auth_service_proxy_instance.__call__(*args, **kwargs)\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/authproxy.py\", line 137, in __call__\r\n    response, status = self._request('POST', self.__url.path, postdata.encode('utf-8'))\r\n                       ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/authproxy.py\", line 111, in _request\r\n    return self._get_response()\r\n           ~~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/authproxy.py\", line 174, in _get_response\r\n    http_response = self.__conn.getresponse()\r\n  File \"/nix/store/62fdlzq1x1ak2lsxp4ij7ip5k9nia3hc-python3-3.13.7/lib/python3.13/http/client.py\", line 1430, in getresponse\r\n    response.begin()\r\n    ~~~~~~~~~~~~~~^^\r\n  File \"/nix/store/62fdlzq1x1ak2lsxp4ij7ip5k9nia3hc-python3-3.13.7/lib/python3.13/http/client.py\", line 331, in begin\r\n    version, status, reason = self._read_status()\r\n                              ~~~~~~~~~~~~~~~~~^^\r\n  File \"/nix/store/62fdlzq1x1ak2lsxp4ij7ip5k9nia3hc-python3-3.13.7/lib/python3.13/http/client.py\", line 300, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\n                             \" response\")\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n```\r\n\r\n#### Log after\r\n\r\n```\r\n2025-11-14T20:48:10.552126Z TestFramework (ERROR): Unexpected exception\r\nTraceback (most recent call last):\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 138, in main\r\n    self.setup()\r\n    ~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 268, in setup\r\n    self.setup_network()\r\n    ~~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/./build/test/functional/feature_abortnode.py\", line 21, in setup_network\r\n    self.setup_nodes()\r\n    ~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 381, in setup_nodes\r\n    self.start_nodes()\r\n    ~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_framework.py\", line 527, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\r\n  File \"/home/hodlinator/bc/3/test/functional/test_framework/test_node.py\", line 316, in wait_for_rpc_connection\r\n    raise FailedToStartError(self._node_msg(\r\n        f'bitcoind exited with status {self.process.returncode} during initialization. {str_error}'))\r\ntest_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status -6 during initialization. terminate called after throwing an instance of 'std::runtime_error'\r\n  what():  Hello\r\n************************\r\n```\r\nNote how even the C++ exception message is now included.\r\n\r\n</details>",
      "state": "closed",
      "user": "hodlinator",
      "created_at": "2025-11-14T21:10:09Z",
      "updated_at": "2025-12-18T11:46:20Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33875",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33875.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [furszy](https://github.com/bitcoin/bitcoin/pull/33875#pullrequestreview-3468346292), [l0rinc](https://github.com/bitcoin/bitcoin/pull/33875#pullrequestreview-3484132142), [maflcko](https://github.com/bitcoin/bitcoin/pull/33875#issuecomment-3668757736) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\nPossible typos and grammar issues:\n\n- Work around issue where socket timeouts don't have errno set. -> Work around an issue where socket timeouts don't have errno set. [missing article \"an\" makes the sentence slightly ungrammatical]\n\n<sup>drahtbot_id_5_m</sup>\n",
          "created_at": "2025-11-14T21:10:19Z"
        },
        {
          "user": "maflcko",
          "body": "review ACK 76e0e6087d0310ec31f43d751de60adf0c0a2faa ðŸŒ¬\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK 76e0e6087d0310ec31f43d751de60adf0c0a2faa ðŸŒ¬\r\nspTSe0wbIGXTZ5gaWnx4bU4l3dlpjvpFHeUM/p2LYydK5Clcn/ZJqOeiwWb882xohyQcbYU9N0ex93ET33+PBA==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-12-18T07:23:13Z"
        },
        {
          "user": "maflcko",
          "body": "tested via:\r\n\r\n```diff\r\ndiff --git a/src/httpserver.cpp b/src/httpserver.cpp\r\nindex 6cf47eba73..a43436ef9c 100644\r\n--- a/src/httpserver.cpp\r\n+++ b/src/httpserver.cpp\r\n@@ -263,6 +263,7 @@ std::string RequestMethodString(HTTPRequest::RequestMethod m)\r\n /** HTTP request callback */\r\n static void http_request_cb(struct evhttp_request* req, void* arg)\r\n {\r\n+    assert(false);\r\n     evhttp_connection* conn{evhttp_request_get_connection(req)};\r\n     // Track active requests\r\n     {\r\n",
          "created_at": "2025-12-18T07:23:31Z"
        }
      ]
    },
    {
      "number": 33874,
      "title": "wallet: refactor ProcessDescriptorImport",
      "body": "\r\n\r\nFixes: https://github.com/bitcoin/bitcoin/issues/33655\r\n\r\nCurrently, we validate and import descriptors in the same loop. If any descriptor fails validation, an error is added to the response array, but the complete response (including that error) is only returned to  after a rescan completesâ€”potentially wasting significant time when validation error could have been caught immediately.\r\n\r\nThis PR separates validation from processing: validate all descriptors first, and process in the second loop\r\n\r\n",
      "state": "open",
      "user": "naiyoma",
      "created_at": "2025-11-14T18:15:03Z",
      "updated_at": "2026-01-05T16:55:47Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33874",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33874.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32861](https://github.com/bitcoin/bitcoin/pull/32861) (Have createwalletdescriptor auto-detect an unused(KEY) by Sjors)\n* [#32784](https://github.com/bitcoin/bitcoin/pull/32784) (wallet: derivehdkey RPC to get xpub at arbitrary path by Sjors)\n* [#31668](https://github.com/bitcoin/bitcoin/pull/31668) (Added rescan option for import descriptors by saikiran57)\n* [#29136](https://github.com/bitcoin/bitcoin/pull/29136) (wallet: `addhdkey` RPC to add just keys to wallets via new `unused(KEY)` descriptor by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-14T18:15:13Z"
        },
        {
          "user": "achow101",
          "body": "Concept meh\r\n\r\n`importdescriptors` was modeled after the old `importmulti`, which IIRC part of the point was that even if some things couldn't be imported that everything else that can be imported was.\r\n\r\nBut I do see how exiting early and doing nothing if something can't be imported could be useful, but this is pretty big semantic change and we need to be careful about return values to avoid any possible confusion.",
          "created_at": "2025-11-19T22:10:56Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33873,
      "title": "guix build fails on RISC-V due to python-py-cpuinfo test failure",
      "body": "i'm trying to do a guix build (of the master branch) on RISC-V hardware. The device is a [Scaleway EM-RV1-C4M16S128-A](https://labs.scaleway.com/en/em-rv1/) server from Scaleway. It has a four core T-HEAD C910 CPU:\n\n```\nArchitecture:          riscv64\n  Byte Order:          Little Endian\nCPU(s):                4\n  On-line CPU(s) list: 0-3\n```\n\n```\nprocessor       : 0\nhart            : 0\nisa             : rv64imafdcsu\nmmu             : sv39\ncpu-freq        : 1.848Ghz\ncpu-icache      : 64KB\ncpu-dcache      : 64KB\ncpu-l2cache     : 1MB\ncpu-tlb         : 1024 4-ways\ncpu-cacheline   : 64Bytes\nâ‹® (4 times)\n```\n\nHowever, it fails in the tests of `python-py-cpuinfo` (a dependency of LIEF).\n```\nbuilding /gnu/store/gs9j7j3c0z9wph9y2ag7j60xfq0jhhnr-python-py-cpuinfo-8.0.0-1.4d6987e.drv...\n/ 'check' phasenote: keeping build directory `/tmp/guix-build-python-py-cpuinfo-8.0.0-1.4d6987e.drv-3'\nbuilder for `/gnu/store/gs9j7j3c0z9wph9y2ag7j60xfq0jhhnr-python-py-cpuinfo-8.0.0-1.4d6987e.drv' failed with exit code 1\nbuild of /gnu/store/gs9j7j3c0z9wph9y2ag7j60xfq0jhhnr-python-py-cpuinfo-8.0.0-1.4d6987e.drv failed\nView build log at '/var/log/guix/drvs/gs/9j7j3c0z9wph9y2ag7j60xfq0jhhnr-python-py-cpuinfo-8.0.0-1.4d6987e.drv.gz'.\ncannot build derivation `/gnu/store/wmcihcrlgln588v5xbk89zh05rvr2hdi-python-fastjsonschema-2.15.1.drv': 1 dependencies couldn't be built\nbuilding /gnu/store/gqr2b58a66m4gwblgprqbmp3yfnfq41c-python-pycparser-2.21.drv...\ncannot build derivation `/gnu/store/vllqd95n44lpzfpj08v5wgp61gg23dr2-python-pydantic-2.5.3.drv': 1 dependencies couldn't be built\nnote: keeping build directory `/tmp/guix-build-python-pycparser-2.21.drv-3'\ncannot build derivation `/gnu/store/a0a1wwiwdgk9mxlspkl6p5mddfsdhrkh-python-lief-0.16.6.drv': 1 dependencies couldn't be built\n```\n\nDetailed failure:\n```\n======================================================================\nFAIL: test_all (test_actual.TestActual)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/tmp/guix-build-python-py-cpuinfo-8.0.0-1.4d6987e.drv-0/source/tests/test_actual.py\", line 74, in test_all\n    self.assertTrue(len(cpuinfo._get_cpu_info_from_proc_cpuinfo()) > 0)\nAssertionError: False is not true\n\n----------------------------------------------------------------------\nRan 152 tests in 17.371s\n\nFAILED (failures=1, skipped=1)\nTest failed: <unittest.runner.TextTestResult run=152 errors=0 failures=1>\nerror: Test failed: <unittest.runner.TextTestResult run=152 errors=0 failures=1>\nerror: in phase 'check': uncaught exception:\n%exception #<&invoke-error program: \"python\" arguments: (\"-c\" \"import setuptools, tokenize;__file__='setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\\\r\\\\n', '\\\\n');f.close();exec(compile(code, __file__, 'exec'))\" \"test\") exit-status: 1 term-signal: #f stop-signal: #f> \nphase `check' failed after 19.5 seconds\ncommand \"python\" \"-c\" \"import setuptools, tokenize;__file__='setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\\\r\\\\n', '\\\\n');f.close();exec(compile(code, __file__, 'exec'))\" \"test\" failed with status 1\nbuild process 6 exited with status 256\n```",
      "state": "closed",
      "user": "laanwj",
      "created_at": "2025-11-14T16:16:56Z",
      "updated_at": "2025-11-25T08:18:56Z",
      "comments": 17,
      "url": "https://github.com/bitcoin/bitcoin/issues/33873",
      "labels": [
        "Build system",
        "Upstream"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "Which OS?\n\nIâ€™ve found Debian to be more suitable for RISC-V.\n\n(somewhat related: https://codeberg.org/guix/guix/issues/3852)",
          "created_at": "2025-11-14T16:27:48Z"
        },
        {
          "user": "laanwj",
          "body": "It's debian (Debian GNU/Linux forky/sid). Intentially chose that because i assumed it would be least hassle ðŸ˜„ \n\nLooks like the package is defined in\n```\n/home/guix-build/.cache/guix/checkouts/lmgz3ewobtxzz4rsyp72z7woeuxeghzyukvmmnxlwpobu76yyi5a/gnu/packages/python-xyz.scm\n```\nWould it be possible to patch it to disable the tests, like with openssl?",
          "created_at": "2025-11-14T17:07:52Z"
        },
        {
          "user": "laanwj",
          "body": "i patched all versions of `python-xyz.scm` on the system (not sure how to determine which exactly i need to) with this:\n```patch\ndiff --git a/gnu/packages/python-xyz.scm b/gnu/packages/python-xyz.scm\nindex cba99cce62..7d91059365 100644\n--- a/gnu/packages/python-xyz.scm\n+++ b/gnu/packages/python-xyz.scm\n@@ -31650,6 +31650,7 @@ (define-public python-py-cpuinfo\n           (base32\n            \"0h5wi1bfcqqr1x3j1pa7dmkx7siprsyksbsy80fl2sdrrgpji0b0\"))))\n       (build-system python-build-system)\n+      (arguments (list #:tests? #false))\n       (home-page \"https://github.com/workhorsy/py-cpuinfo\")\n       (synopsis \"Get CPU info with Python\")\n       (description\n```\nThis seems to have worked to get past it.",
          "created_at": "2025-11-14T17:51:27Z"
        },
        {
          "user": "maflcko",
          "body": "I presume the same fails upstream, without guix: https://github.com/workhorsy/py-cpuinfo/blame/f3f0fec58335b9699b9b294267c15f516045b1fe/tests/test_actual.py#L74\n\nThough, upsteam is unmaintained, so i am not sure what can be done here.",
          "created_at": "2025-11-17T13:41:50Z"
        },
        {
          "user": "laanwj",
          "body": "Right! i could take a look at fixing this upstream.\n\nFrom a high level perspective, i don't quite understand why a cpuinfo module would be needed for deterministic cross-compiling in the first place. Nor why it'd run tests that depend on local CPU configuration. But i guess it's some deeper nested dependency that gets pulled in unconditionally (through LIEF in this case?). GUIX sadly has more of those, basically same complaint as in #30042.",
          "created_at": "2025-11-17T14:34:55Z"
        },
        {
          "user": "maflcko",
          "body": "Yeah, if it is pulled in through LIEF, it could make sense to strip the unmaintained dependency from LIEF upstream.",
          "created_at": "2025-11-17T14:43:18Z"
        },
        {
          "user": "hebasto",
          "body": "> Yeah, if it is pulled in through LIEF, it could make sense to strip the unmaintained dependency from LIEF upstream.\n\nFWIW:\n```\n# guix graph --path python-lief python-py-cpuinfo\npython-lief@0.17.1\npython-pydantic@2.10.4\npython-pytest-benchmark@5.1.0\npython-py-cpuinfo@9.0.0\n```\n\n (guix checked out at a different commit though)",
          "created_at": "2025-11-17T16:58:18Z"
        },
        {
          "user": "hebasto",
          "body": "> i'm trying to do a guix build (of the master branch) on RISC-V hardware. The device is a [Scaleway EM-RV1-C4M16S128-A](https://labs.scaleway.com/en/em-rv1/) server from Scaleway.\n\nIt builds fine for me on an instance from the same provider:\n```\n# guix describe\nGeneration 3\tNov 17 2025 17:45:37\t(current)\n  guix 5cb84f2\n    repository URL: https://git.guix.gnu.org/guix.git\n    commit: 5cb84f2013c5b1e48a7d0e617032266f1e6059e2\n# guix build python-py-cpuinfo\n/gnu/store/v09j8kcdxci3nbrjrqz7gik0sf5rm3dx-python-py-cpuinfo-8.0.0-1.4d6987e\n```",
          "created_at": "2025-11-17T17:51:18Z"
        },
        {
          "user": "laanwj",
          "body": "> It builds fine for me on an instance from the same provider:\n\nOkay, now i'm confused. What operating system? Also debian forky/sid?\n\nIt could be that they got me a faulty server? i can't imagine having done anything wrong here, just followed basic GUIX build steps.",
          "created_at": "2025-11-18T09:09:25Z"
        },
        {
          "user": "laanwj",
          "body": "Looks like it stopped an error in the `-rust-1.65.0.drv.gz` build this night. The \"faulty server\" hypothesis definitely *not* disproven ðŸ˜„  Why do i always have this little luck with RISC-V devices lol.\n```\n...\npatch-cargo-checksums: generate-checksums for vendor/winapi\npatch-cargo-checksums: generate-checksums for vendor/windows-sys-0.28.0\npatch-cargo-checksums: generate-checksums for vendor/windows-sys\npatch-cargo-checksums: generate-checksums for vendor/windows_aarch64_msvc-0.28.0\nFatal glibc error: pthread_mutex_lock.c:94 (___pthread_mutex_lock): assertion failed: mutex->__data.__owner == 0\nbuild process 6 exited with status 6\n```",
          "created_at": "2025-11-18T09:11:42Z"
        },
        {
          "user": "hebasto",
          "body": "> > It builds fine for me on an instance from the same provider:\n> \n> Okay, now i'm confused. What operating system? Also debian forky/sid?\n\nYes, debian forky/sid.",
          "created_at": "2025-11-18T09:43:43Z"
        },
        {
          "user": "laanwj",
          "body": "Could also be a kernel bug:\n```\n[155604.743750] BUG: using smp_processor_id() in preemptible [00000000] code: guile/662593\n[155604.751799] caller is debug_smp_processor_id+0x20/0x2a\n[155604.757101] CPU: 3 PID: 662593 Comm: guile Not tainted 5.10.113-scw1 #1\n[155604.763806] Call Trace:\n[155604.766349] [<ffffffe0002040f0>] walk_stackframe+0x0/0x112\n[155604.771928] [<ffffffe000fcd022>] show_stack+0x46/0x62\n[155604.777075] [<ffffffe000fd6be2>] dump_stack_lvl+0x7a/0x9a\n[155604.782567] [<ffffffe000fd6c1a>] dump_stack+0x18/0x20\n[155604.787716] [<ffffffe000fe3aba>] check_preemption_disabled+0xb4/0xb6\n[155604.794163] [<ffffffe000fe3adc>] debug_smp_processor_id+0x20/0x2a\n[155604.800352] [<ffffffe000feb818>] kprobe_breakpoint_handler+0x36/0x202\n[155604.806887] [<ffffffe000204080>] do_trap_break+0x3a/0x8e\n[155604.812293] [<ffffffe000201e4c>] ret_from_exception+0x0/0xc\n[155604.817956] CPU: 3 PID: 662593 Comm: guile Not tainted 5.10.113-scw1 #1\n[155604.824659] epc: 0000003ff7b26262 ra : 0000003ff7b26256 sp : 0000003fca5b89e0\n[155604.831884]  gp : 0000000000014800 tp : 0000003fca5ba8e0 t0 : 0000000000001000\n[155604.839194]  t1 : 0000000000000030 t2 : 00000000000003ff s0 : 0000003ff7c1bbf8\n[155604.846505]  s1 : 0000003ff7c1bbf8 a0 : 0000000000000000 a1 : 000000000000000a\n[155604.853816]  a2 : 0000000000000006 a3 : 0000000000000000 a4 : 0000000000000004\n[155604.861125]  a5 : 0000000000000005 a6 : 0000000000000000 a7 : 0000000000000083\n[155604.868436]  s2 : 0000003fca5ba180 s3 : 0000003ff7fda000 s4 : 0000000000000000\n[155604.875745]  s5 : 0000003fca5b8b40 s6 : 0000003fca5b8b40 s7 : 0000000000000008\n[155604.883057]  s8 : 0000000000000071 s9 : 0000003ff7fd6000 s10: 0000000000000004\n[155604.890368]  s11: 0000000000000004 t3 : 0000003ff7b66b5e t4 : 0000003ff7fda060\n[155604.897678]  t5 : 0000003ff7ae0000 t6 : 0000000000000004\n[155604.903079] status: 0000000200004020 badaddr: 0000000000000000 cause: 0000000000000003\n[155604.911085] End Trace.\n[155604.913611] BUG: using __this_cpu_read() in preemptible [00000000] code: guile/662593\n[155604.921578] caller is __this_cpu_preempt_check+0x1a/0x22\n```\n\nWhich kernel are you running? `5.10.113-scw1` here.\n(Apparently released `Wed, 27 Apr 2022`. That's ancient especially in RISC-V land! Going to report this to Scaleway.)\n",
          "created_at": "2025-11-18T10:19:05Z"
        },
        {
          "user": "hebasto",
          "body": "> Which kernel are you running? `5.10.113-scw1` here. (Apparently released `Wed, 27 Apr 2022`. That's ancient especially in RISC-V land!)\n\n```\n# uname -srv\nLinux 5.10.113-scw1 #1 SMP PREEMPT Fri Jul 12 15:31:22 UTC 2024\n```",
          "created_at": "2025-11-18T10:35:50Z"
        },
        {
          "user": "hebasto",
          "body": "> > Which kernel are you running? `5.10.113-scw1` here. (Apparently released `Wed, 27 Apr 2022`. That's ancient especially in RISC-V land!)\n> \n> ```\n> # uname -srv\n> Linux 5.10.113-scw1 #1 SMP PREEMPT Fri Jul 12 15:31:22 UTC 2024\n> ```\n\nI've just checked out Fedora 40:\n```\n# uname -srv\nLinux 5.10.113-scw1 #1 SMP PREEMPT Mon Jul 15 10:10:04 UTC 2024\n```",
          "created_at": "2025-11-18T11:33:08Z"
        },
        {
          "user": "laanwj",
          "body": "> Linux 5.10.113-scw1 #1 SMP PREEMPT Mon Jul 15 10:10:04 UTC 2024\n\nIt looks like the kernel is fixed and provided externally. It doesn't actually use one from the distro.\n(Might be a SoC with no upstream kernel support in the first place, so they're stuck at this version. That's on the course for embedded systems, sadly)\n\nAnyhow if you never came across this problem on any of the other servers with the same SoC, it's probably a problem with this specific server.\n\n(i restarted the build and it's now building again, but i suspect it's a matter of time before it happens again)",
          "created_at": "2025-11-18T13:19:27Z"
        },
        {
          "user": "laanwj",
          "body": "Another faliure, this time in `rust-1.75.0.drv.gz`:\n```\nmalloc(): unaligned fastbin chunk detected\nbuild process 6 exited with status 6\n```\n\nin `-rust-1.82.0.drv.gz`\n```\ncorrupted double-linked list\nrustc exited with signal: 6 (SIGABRT)\nerror: could not compile `cargo` (lib)\n```\n\n(memory corruption?)",
          "created_at": "2025-11-20T06:25:42Z"
        },
        {
          "user": "laanwj",
          "body": "Clearly a hardware issue, closing.",
          "created_at": "2025-11-25T08:18:56Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 2,
    "issues": 1
  }
}