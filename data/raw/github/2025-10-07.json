{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:21:02.164691+00:00",
  "date": "2025-10-07",
  "pull_requests": [
    {
      "number": 33568,
      "title": "doc: how to update a subtree",
      "body": "We have instructions on how to verify a subtree update, but not on how to perform one.",
      "state": "closed",
      "user": "Sjors",
      "created_at": "2025-10-07T15:18:30Z",
      "updated_at": "2025-10-09T18:00:22Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33568",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33568.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [yuvicc](https://github.com/bitcoin/bitcoin/pull/33568#issuecomment-3380164166), [janb84](https://github.com/bitcoin/bitcoin/pull/33568#pullrequestreview-3313922400), [furszy](https://github.com/bitcoin/bitcoin/pull/33568#pullrequestreview-3314862355), [achow101](https://github.com/bitcoin/bitcoin/pull/33568#issuecomment-3386959793) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T15:18:36Z"
        },
        {
          "user": "fjahr",
          "body": "Looks good to me, this matches what I run to get experimental secp branches. I think @furszy 's comment should be addressed then this should be good to go.",
          "created_at": "2025-10-07T17:45:49Z"
        },
        {
          "user": "yuvicc",
          "body": "ACK a1226bc760c70a22ef4a197d5690aca4d83cb74c\n\nThis will be useful for new devs while verifying the subtree.",
          "created_at": "2025-10-08T07:45:32Z"
        },
        {
          "user": "fjahr",
          "body": "ACk a1226bc760c70a22ef4a197d5690aca4d83cb74c",
          "created_at": "2025-10-09T15:15:40Z"
        },
        {
          "user": "achow101",
          "body": "ACK a1226bc760c70a22ef4a197d5690aca4d83cb74c",
          "created_at": "2025-10-09T17:59:11Z"
        }
      ]
    },
    {
      "number": 33567,
      "title": "node: change a tx-relay on/off flag to enum",
      "body": "Previously the `bool relay` argument to `BroadcastTransaction()` designated:\r\n\r\n```\r\nrelay=true: add to the mempool and broadcast to all peers\r\nrelay=false: add to the mempool\r\n```\r\n\r\nChange this to an `enum`, so it is more readable and easier to extend with a 3rd option. Consider these example call sites:\r\n\r\n```cpp\r\nPaint(true);\r\n// Or\r\nPaint(/*is_red=*/true);\r\n```\r\n\r\nvs\r\n\r\n```cpp\r\nPaint(RED);\r\n```\r\n\r\nThe idea for putting `TxBroadcastMethod` into `node/types.h` by Ryan.\r\n\r\n---\r\n\r\nThis is part of [#29415 Broadcast own transactions only via short-lived Tor or I2P connections](https://github.com/bitcoin/bitcoin/pull/29415). Putting it in its own PR to reduce the size of #29415 and because it does not logically depend on the other commits from there.\r\n",
      "state": "closed",
      "user": "vasild",
      "created_at": "2025-10-07T15:11:42Z",
      "updated_at": "2025-11-03T12:56:51Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33567",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33567.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [optout21](https://github.com/bitcoin/bitcoin/pull/33567#issuecomment-3406004322), [kevkevinpal](https://github.com/bitcoin/bitcoin/pull/33567#issuecomment-3407870385), [laanwj](https://github.com/bitcoin/bitcoin/pull/33567#issuecomment-3424937092), [glozow](https://github.com/bitcoin/bitcoin/pull/33567#pullrequestreview-3405305256) |\n| Concept NACK | [Raimo33](https://github.com/bitcoin/bitcoin/pull/33567#issuecomment-3400743635) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30343](https://github.com/bitcoin/bitcoin/pull/30343) (wallet, logging: Replace WalletLogPrintf() with LogInfo() by ryanofsky)\n* [#29700](https://github.com/bitcoin/bitcoin/pull/29700) (kernel, refactor: return error status on all fatal errors by ryanofsky)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n* [#29278](https://github.com/bitcoin/bitcoin/pull/29278) (Wallet:  Add `maxfeerate` wallet startup option by ismaelsadeeq)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- \"wait until callbacks have been processed to avoid stale result due to a sequentially RPC.\" -> \"wait until callbacks have been processed to avoid stale result due to a sequential RPC.\" [‚Äúsequentially‚Äù is an adverb and misused here; \"sequential\" (adjective) correctly modifies \"RPC\" and restores grammatical sense.]\n\n<sup>drahtbot_id_5_m</sup>\n",
          "created_at": "2025-10-07T15:11:47Z"
        },
        {
          "user": "Raimo33",
          "body": "Concept NACK.\n\nwhat would be a third option? it's either relay or not.",
          "created_at": "2025-10-14T08:40:57Z"
        },
        {
          "user": "vasild",
          "body": "`1197919eab...07a926474b`: address some suggestions\r\n\r\n@Raimo33 \r\n> what would be a third option? it's either relay or not.\r\n\r\nI think that this change makes sense even without a third option, see the \"paint red\" example in the OP. A third option is added in https://github.com/bitcoin/bitcoin/pull/29415, in commit `node: extend node::TxBroadcastMethod with a 3rd option`.",
          "created_at": "2025-10-15T06:57:57Z"
        },
        {
          "user": "optout21",
          "body": "ACK 07a926474b5a6fa1d3d4656362a0117611f6da2f",
          "created_at": "2025-10-15T11:44:47Z"
        },
        {
          "user": "kevkevinpal",
          "body": "ACK [07a9264](https://github.com/bitcoin/bitcoin/pull/33567/commits/07a926474b5a6fa1d3d4656362a0117611f6da2f)",
          "created_at": "2025-10-15T19:09:04Z"
        },
        {
          "user": "laanwj",
          "body": "Concept and code review ACK 07a926474b5a6fa1d3d4656362a0117611f6da2f. Agree with the general reasoning and the change in #29415 is a valid motivation to change this interface.\r\n ",
          "created_at": "2025-10-21T06:39:49Z"
        },
        {
          "user": "ajtowns",
          "body": "-1 on splitting this out for me; I don't think this makes #29415 much easier to review, and if you ignore that PR then I'm not sure this is an improvement on `/*relay=*/true`. Largely agree with that PR though, so no big objection to merging this early, just don't think it's super helpful.",
          "created_at": "2025-10-23T14:49:57Z"
        }
      ]
    },
    {
      "number": 33566,
      "title": "miner: fix empty mempool case for waitNext()",
      "body": "Block template fees are calculated by looping over `new_tmpl->vTxFees` and return (early) once the `fee_threshold` is exceeded.\r\n\r\nThis left an edge case when the mempool is empty, which this commit fixes and adds a test for.\r\n\r\nAlso update `test/functional/interface_ipc.py` to reflect the new behavior,\r\n\r\nFixes https://github.com/Sjors/sv2-tp/issues/9",
      "state": "closed",
      "user": "Sjors",
      "created_at": "2025-10-07T14:56:54Z",
      "updated_at": "2025-10-23T13:51:14Z",
      "comments": 14,
      "url": "https://github.com/bitcoin/bitcoin/pull/33566",
      "labels": [
        "Mining"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33566.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [sipa](https://github.com/bitcoin/bitcoin/pull/33566#pullrequestreview-3333348405), [optout21](https://github.com/bitcoin/bitcoin/pull/33566#issuecomment-3402417850), [cedwies](https://github.com/bitcoin/bitcoin/pull/33566#issuecomment-3410987155) |\n| Concept ACK | [zaidmstrr](https://github.com/bitcoin/bitcoin/pull/33566#pullrequestreview-3336048702) |\n| Stale ACK | [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/33566#pullrequestreview-3328593103) |\n| User requested bot ignore | [Raimo33](https://github.com/bitcoin/bitcoin/pull/33566#issuecomment-3398044812) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33421](https://github.com/bitcoin/bitcoin/pull/33421) (node: add `BlockTemplateCache` by ismaelsadeeq)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T14:56:59Z"
        },
        {
          "user": "Sjors",
          "body": "This is not worth the effort to backport imo.",
          "created_at": "2025-10-07T14:57:18Z"
        },
        {
          "user": "Sjors",
          "body": "@sipa I ended up updating `test/functional/interface_ipc.py` to reflect the new behavior, but I'm not sure what the original test tried to do in #33201.",
          "created_at": "2025-10-07T15:25:58Z"
        },
        {
          "user": "Raimo33",
          "body": "Concept ACK. this is a subtle bug which would result in an infinite loop.\r\nApproach NACK. the proposed solution adds branching complexity for a case which is extremely unlikely.\r\n\r\nallow me to propose a more elegant and modern solution: c23a65414f239c0d867d13f1be02a232096c1f9d",
          "created_at": "2025-10-13T15:41:03Z"
        },
        {
          "user": "Sjors",
          "body": "Great idea, I integrated @Raimo33's approach.",
          "created_at": "2025-10-13T16:41:05Z"
        },
        {
          "user": "Raimo33",
          "body": "> Great idea, I integrated @Raimo33's approach.\n\nplease add me as co-author or cherry-pick my commit\n",
          "created_at": "2025-10-13T16:42:24Z"
        },
        {
          "user": "Sjors",
          "body": "@Raimo33 I did, see `Co-authored-by` in commit message.",
          "created_at": "2025-10-13T16:45:04Z"
        },
        {
          "user": "optout21",
          "body": "Concept ACK\r\n\r\nMaybe add the new test in a first commit (showing how it fails), and then the fix in a new commit?\r\nFor test change without fix, and fix in see commits 3a7e58ec81fb2caeef1cf369d47b0a247d923180 and 3220ce81b1df090895daa32dfb5a1af003d6d88b",
          "created_at": "2025-10-14T11:52:24Z"
        },
        {
          "user": "Sjors",
          "body": "@optout21 the test-each-commit job enforces that each commit has a passing test.",
          "created_at": "2025-10-14T11:59:02Z"
        },
        {
          "user": "optout21",
          "body": "> @optout21 the test-each-commit job enforces that each commit has a passing test.\r\n\r\nI'm not sure I understand this correctly, but if you mean that all tests should pass with each commit -- yes, first commit has test checks matching the non-fixed code (i.e. `BOOST_REQUIRE(should_be_nullptr == nullptr);`), and fix commit also adapts this one check. It's more clear looking at the fix commit what is the change in behavior, if adding the test and fix are separated.\r\nLeaving in one commit is also fine in this PR IMHO.",
          "created_at": "2025-10-14T12:11:24Z"
        },
        {
          "user": "optout21",
          "body": "ACK 8f7673257a1a86717c1d83770dc857fc254df107",
          "created_at": "2025-10-14T15:25:39Z"
        },
        {
          "user": "cedwies",
          "body": "tACK 8f76732\r\n\r\nReviewed and tested. The empty mempool case (`fee_threshold==0`) now behaves as expected and is covered by tests.",
          "created_at": "2025-10-16T13:49:40Z"
        },
        {
          "user": "Sjors",
          "body": "@glozow thanks, can you add a backport label for 30.x?",
          "created_at": "2025-10-23T12:24:29Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to `30.x` in #33609.",
          "created_at": "2025-10-23T13:51:14Z"
        }
      ]
    },
    {
      "number": 33565,
      "title": "net_processing: rename RelayTransaction to better describe what it does",
      "body": "Rename `PeerManager::RelayTransaction()` to\r\n`PeerManager::InitiateTxBroadcastToAll()`. The transaction is not relayed when the method returns. It is only scheduled for broadcasting at a later time. Also, there will be another method which only schedules for broadcast to Tor or I2P peers.\r\n\r\n---\r\n\r\nThis is part of [#29415 Broadcast own transactions only via short-lived Tor or I2P connections](https://github.com/bitcoin/bitcoin/pull/29415). Putting it in its own PR to reduce the size of #29415 and because it does not depend on the other commits from there.\r\n",
      "state": "closed",
      "user": "vasild",
      "created_at": "2025-10-07T14:30:21Z",
      "updated_at": "2025-12-06T13:51:39Z",
      "comments": 17,
      "url": "https://github.com/bitcoin/bitcoin/pull/33565",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33565.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/33565#pullrequestreview-3459390175), [w0xlt](https://github.com/bitcoin/bitcoin/pull/33565#pullrequestreview-3461208281), [optout21](https://github.com/bitcoin/bitcoin/pull/33565#issuecomment-3531799884) |\n| Concept NACK | [ajtowns](https://github.com/bitcoin/bitcoin/pull/33565#issuecomment-3525328951) |\n| Stale ACK | [stratospher](https://github.com/bitcoin/bitcoin/pull/33565#pullrequestreview-3317916661), [glozow](https://github.com/bitcoin/bitcoin/pull/33565#issuecomment-3406604420), [andrewtoth](https://github.com/bitcoin/bitcoin/pull/33565#pullrequestreview-3342719761), [cedwies](https://github.com/bitcoin/bitcoin/pull/33565#pullrequestreview-3346428420), [naiyoma](https://github.com/bitcoin/bitcoin/pull/33565#pullrequestreview-3356353069) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#30116](https://github.com/bitcoin/bitcoin/pull/30116) (p2p: Fill reconciliation sets (Erlay) attempt 2 by sr-gi)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T14:30:26Z"
        },
        {
          "user": "optout21",
          "body": "ACK 44a726133a880f818228c01b55236b3cb3eb1a67\r\n\r\nStraightforward renaming of one method, plus doc comment change.\r\nThe change is rather small for a PR, but since it's part of a larger change (#29415), it's ok.",
          "created_at": "2025-10-08T11:01:30Z"
        },
        {
          "user": "andrewtoth",
          "body": "ACK 44a726133a880f818228c01b55236b3cb3eb1a67",
          "created_at": "2025-10-09T13:56:37Z"
        },
        {
          "user": "vasild",
          "body": "`44a726133a...84b2ad0334`: address suggestions",
          "created_at": "2025-10-15T13:40:49Z"
        },
        {
          "user": "glozow",
          "body": "utACK 84b2ad0334",
          "created_at": "2025-10-15T14:02:36Z"
        },
        {
          "user": "optout21",
          "body": "reACK 84b2ad03349bf6af3d6057f3dbcdf84c17f11bcb",
          "created_at": "2025-10-16T05:54:40Z"
        },
        {
          "user": "ajtowns",
          "body": "I don't think it makes much sense to split this out; it doesn't reduce the size of the parent PR meaningfully, and renaming a function doesn't really seem like it justifies a PR on its own.",
          "created_at": "2025-10-21T12:38:01Z"
        },
        {
          "user": "instagibbs",
          "body": "Have to concur with @ajtowns . I could see it if it were especially misleading that could cause issues as is, but I don't think it is? \r\n\r\ne.g., eb7cc9fd2140df77acc6eb42004cf45b260bc629 as a motivating example where I still think it can be worthwhile ",
          "created_at": "2025-10-24T08:33:30Z"
        },
        {
          "user": "vasild",
          "body": "`84b2ad0334...9989853447`: rebase due to conflicts\r\n\r\n> I don't think it makes much sense to split this out; it doesn't reduce the size of the parent PR meaningfully,\r\n\r\nI agree it does not help much. It helps _a little_. And that is the point - to get some smaller changes out of the main PR.\r\n\r\n> and renaming a function doesn't really seem like it justifies a PR on its own.\r\n\r\nHaving this in its own PR helped have a [fresh discussion](https://github.com/bitcoin/bitcoin/pull/33565#discussion_r2413466183) that resulted in picking up a better name. This did not happen in the main PR for ~1.5 years. That is a positive outcome from having a PR on its own.\r\n\r\n> I could see it if it were especially misleading that could cause issues as is, but I don't think it is?\r\n\r\nFor me `Relay...()` is confusing because it does not relay anything. It gets further confusing in https://github.com/bitcoin/bitcoin/pull/29415 where another similar function is added. So I decided to clarify and change to a better name. I initially thought about `Schedule...()` but (only here in this PR) it was suggested that it could be associated with the scheduler, so we ended up with `Initiate...()`. I like that.",
          "created_at": "2025-11-10T10:00:55Z"
        },
        {
          "user": "l0rinc",
          "body": "I also prefer extracting these smaller changes from big PR to smaller, dedicated ones to have *some* progress and to have focused discussions",
          "created_at": "2025-11-10T10:20:19Z"
        },
        {
          "user": "ajtowns",
          "body": "> <vasild> #33565 has no NACKs\r\n\r\nTo be explicit: NACK. Reviewing bitcoin PRs well is hard, we should not be increasing that burden for, at best, marginal benefits to the author of the PR. For this particular PR, bikeshedding about the names of functions is not a good use of anyone's time here. Further, small PRs that seem to just be a mild refactoring with no (expected) functional effect have repeatedly resulted in meaningful changes; ones that come to mind currently include:\r\n\r\n * removing the \"redundant\" Wtxid accompanying CTransactionRef for compact block reconstruction (see #33253)\r\n * changing parsing of abnormal pubkeys for CHECKMULTISIG (see #33253)\r\n * changing logging RPC behaviour with a PR claiming \"This is purely a refactor with no behavior changes.\" (see https://github.com/bitcoin/bitcoin/pull/27231#issuecomment-1718621969)\r\n * and of course the classic performance improvement / inflation bug (#9049)\r\n \r\nTo me, the lesson from examples like that is that all our PRs, even the ones that seem like they should be trivial, should receive serious, in-depth review. But we're already constrained on review, and should therefore be prioritising what review resources we have to the most valuable PRs we have, not the easiest ones. This PR in particular, and the strategy of \"let's split off easy commits into separate PRs\" more generally, does the opposite. Worse, if we do make a habit of merging PRs that (a) seem trivial, and (b) have cursory review from a couple of possibly newer contributors because there's not enough benefit to justify deeper review, and no apparent need for it; then that opens up a relatively straightforward way to introduce severe bugs (or one that's at least as straightforward as our approach to fixing severe bugs). Far better to focus on PRs that make non-trivial improvements, and apply correspondingly non-trivial levels of review before merging.",
          "created_at": "2025-11-13T04:42:33Z"
        },
        {
          "user": "vasild",
          "body": "`9989853447...78595ae0e7`: take suggestions",
          "created_at": "2025-11-13T09:47:57Z"
        },
        {
          "user": "optout21",
          "body": "> we're already constrained on review, and should therefore be prioritising what review resources we have to the most valuable PRs we have, not the easiest ones. This PR in particular, and the strategy of \"let's split off easy commits into separate PRs\" more generally, does the opposite\r\n\r\nI get your points, however, to nuance it a bit:\r\nSplitting of smaller parts into breakout PRs:\r\nCons:\r\n- higher total overhead\r\n- may draw review resources from more important PRs\r\n- risk of shallow review as it's \"a simple change\"\r\n- risk of focus on minor change, bikeshedding\r\n\r\nPros:\r\n+ Can give momentum to otherwise stalling large review\r\n+ Reduce the cost of branch rebasing\r\n+ Increase the clarity of the heart of the larger change\r\n+ Smaller PRs may attract less experiences reviewers, who can learn about the larger change graudually\r\n\r\nA minor change like this in itself is a no-go. As part of a larger (exisitng) PR is possible.\r\nBreaking up a larger change into smaller -- self-sufficient and marginally useful -- smaller parts is helpful.\r\nBut there is a tradeoff due to larger total overhead, where the limit lies can be subjective.\r\n\r\nIn this particular case I lean towards go, though not strongly.\r\n",
          "created_at": "2025-11-14T09:29:39Z"
        },
        {
          "user": "optout21",
          "body": "reACK 78595ae0e71b833ebe7640d5120eea5da14f55ab",
          "created_at": "2025-11-14T09:31:18Z"
        },
        {
          "user": "achow101",
          "body": "I agree with @ajtowns and don't entirely see the benefit of having split this commit into its own PR.\r\n\r\nAs someone who frequently writes gigantic PRs that need to be split up, this commit for me would not have met the bar to be split into its own PR. It isn't a complicated refactor that needs focused review on its own; it isn't something that is useful across multiple PRs; and it isn't itself a feature that is useful on its own.\r\n\r\nI get that having smaller PRs can make it feel like things are moving faster for a project, but it also means that there is an intermediate state where we will have merged a bunch of prep work but not the feature itself. In that past this has led to both unnecessary code churn (a refactor was done for a feature, but then it gets refactored again before the feature is completed, so yet another refactor needs to be done), technical debt, and unfinished features.\r\n\r\n> Changing a method's name to better reflect its usage fits very well into that picture, in my opinion.\r\n\r\nWe rarely do PRs that are just renaming things. IIRC renaming PRs are generally limited to things that are particularly misleading and actively causing confusion.\r\n\r\n> How is this different from extracting changes into commits to separate noise from signal and to allow proportional review time to the risk implied? How is this different from, e.g., https://github.com/bitcoin/bitcoin/pull/33862, which also extracts a small change from the big one to unburden it and make some progress?\r\n\r\nThat change is made independent of the main PR, and in fact, the main PR does not even include the commit at all. The small change could simply never be merged and it would have no effect on the big change.\r\n\r\nIn contrast, the commit in this PR is included in #29415 and is a currently a prerequisite for that PR to be merged.",
          "created_at": "2025-11-21T22:06:46Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks for the explanation @achow101!\r\n\r\n> renaming PRs are generally limited to things that are particularly misleading and actively causing confusion.\r\n\r\nI assumed that was the case here - if not, maybe the parent PR could also just avoid the rename in the first place.\r\n\r\n> I get that having smaller PRs can make it feel like things are moving faster for a project, but it also means that there is an intermediate state where we will have merged a bunch of prep work but not the feature itself.\r\n\r\nValid points, I also don't like that the same code is now [reviewed in a lot of places](https://github.com/bitcoin/bitcoin/pull/29415#discussion_r2545798247).\r\nGiven that some of the parts were successfully split out, is my understanding correct that the problem is not that some features are split off, but that those splits may not make sense on their own (and GitHub doesn't yet have cluster-PRs to model these relationships :p)?\r\n<img width=\"559\" height=\"179\" alt=\"image\" src=\"https://github.com/user-attachments/assets/670c51ae-341d-41fa-83f8-d3c97aa9fdd9\" />\r\n\r\nThe PR is in review for 2.5 years, what is the best way forward, how can we make progress there?\r\nAn alternative I mentioned in https://github.com/bitcoin/bitcoin/pull/29415#pullrequestreview-3487360414 was to try a smaller coherent feature, something like:\r\n> I wonder how much we could simplify if we added a fire-and-forget type transaction in the first version of the PR, without any additional functionality? Just send and don't care what happens, we assume it will just arrive - and implement the waiting in a follow-up.",
          "created_at": "2025-11-22T13:25:17Z"
        },
        {
          "user": "fanquake",
          "body": "This is going to get merged via #29415, which at this point, is getting ACKs.",
          "created_at": "2025-12-06T13:51:39Z"
        }
      ]
    },
    {
      "number": 33564,
      "title": "[27.x] Fix Qt download URLs",
      "body": "Backports:\r\n* #33561\r\n* #33563",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-10-07T14:06:24Z",
      "updated_at": "2025-10-08T08:38:01Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33564",
      "labels": [
        "Backport",
        "CI failed"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33564.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/33564#pullrequestreview-3310847305), [hebasto](https://github.com/bitcoin/bitcoin/pull/33564#pullrequestreview-3311244901) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T14:06:29Z"
        }
      ]
    },
    {
      "number": 33563,
      "title": "[29.x] build: fix depends Qt download link",
      "body": "Fix Qt download path, so we wont always hit the fallback.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-10-07T12:36:49Z",
      "updated_at": "2025-10-08T08:41:24Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33563",
      "labels": [
        "Backport"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33563.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33563#pullrequestreview-3309931772) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T12:36:53Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 28.x in #33557.",
          "created_at": "2025-10-07T13:09:46Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 27.x in #33564.",
          "created_at": "2025-10-08T08:41:24Z"
        }
      ]
    },
    {
      "number": 33562,
      "title": "DRAFT: add a freebsd job using systemlibs",
      "body": "Re #33438\r\n\r\nTest a basic freebsd job in this repo using cirrus runners to get some info on how long a run will take on Cirrus Runners.\r\n\r\nA run on GHA (free) runners is clocking in at around 50 - 60 minutes: https://github.com/willcl-ark/bitcoin/actions/runs/18309856374/job/52135663056 \r\n\r\nThis will need permitting of the `vmactions/freebsd-vm@v1` action in this repo. This action seems well-maintained/used, including by [`rustup`](https://github.com/rust-lang/rustup/blob/061cf7830a61eaefaddddb8454232186d26fd2d1/ci/actions-templates/freebsd-builds-template.yaml#L19), python [`psutil`](https://github.com/giampaolo/psutil/blob/0217662c7e3381612e1a15181b02fe3d06894272/.github/workflows/bsd.yml#L19) and a few other notable repos.\r\n\r\nThis job could alternatively be run as a nightly job (but in this repo, rather than elsewhere), but that does not seem to address:\r\n\r\n> BSDs are being tested in nightly repos, but merging code here, just to have it reported as broken after the fact, which then requires more changes to fix, isn't ideal. Issues should be caught in this repo, before merging.\r\n\r\nInspiration taken from https://github.com/hebasto/bitcoin-core-nightly/blob/main/.github/workflows/freebsd.yml",
      "state": "closed",
      "user": "willcl-ark",
      "created_at": "2025-10-07T11:35:43Z",
      "updated_at": "2025-12-31T11:28:47Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33562",
      "labels": [
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33562.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/896](https://github.com/bitcoin-core/gui/pull/896) (rpcconsole: display signet challenge by RandyMcMillan)\n* [#33620](https://github.com/bitcoin/bitcoin/pull/33620) (ci: Build ci_native_base image layer by maflcko)\n* [#33549](https://github.com/bitcoin/bitcoin/pull/33549) (ci: Add macOS cross task for arm64-apple-darwin by maflcko)\n* [#33514](https://github.com/bitcoin/bitcoin/pull/33514) (Clear out space on GHA jobs by willcl-ark)\n* [#33480](https://github.com/bitcoin/bitcoin/pull/33480) (ci: Turn CentOS config into Alpine musl config by maflcko)\n* [#33461](https://github.com/bitcoin/bitcoin/pull/33461) (ci: add Valgrind fuzz by fanquake)\n* [#33411](https://github.com/bitcoin/bitcoin/pull/33411) (ci: re-add Valgrind job to the CI by fanquake)\n* [#33142](https://github.com/bitcoin/bitcoin/pull/33142) (test: Run bench sanity checks in parallel with functional tests by maflcko)\n* [#31507](https://github.com/bitcoin/bitcoin/pull/31507) (build: Use clang-cl to build on Windows natively by hebasto)\n* [#31425](https://github.com/bitcoin/bitcoin/pull/31425) (RFC: Riscv bare metal CI job by TheCharlatan)\n* [#31410](https://github.com/bitcoin/bitcoin/pull/31410) (qa: Fix `wallet_multiwallet.py` by hebasto)\n* [#30595](https://github.com/bitcoin/bitcoin/pull/30595) (kernel: Introduce C header API by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T11:35:48Z"
        },
        {
          "user": "hebasto",
          "body": "> This will need permitting of the `vmactions/freebsd-vm@v1` action in this repo.\r\n\r\nA few comments for historical context:\r\n- https://github.com/bitcoin/bitcoin/pull/30164#issuecomment-2128649877:\r\n> Not sure. What was the conclusion when GHA was added to the repo about enabling third party actions? IIRC it was unclear whether malicious or backdoored actions could compromise the repo, so the conclusion was to refrain from enabling them?\r\n>\r\n> No objection to merging this, but I'd say unless it is clear that the repo can not be compromised, the action should not be enabled in this repo.\r\n\r\n- https://github.com/bitcoin/bitcoin/pull/30164#issuecomment-2175196978:\r\n> * Albeit this seems fine (https://github.com/bitcoin/bitcoin/pull/30164#issuecomment-2130109577), I think adding third-party actions should be limited as well.\r\n> * The third-party action has limited usage and exposure, so it may break from down under us, marking all CI runs red.\r\n\r\nAnd just recently, bitcoin/bitcoin#32513 has resolved #32508.",
          "created_at": "2025-10-10T12:46:47Z"
        },
        {
          "user": "maflcko",
          "body": "Yeah, this would be adding FreeBSD to add coverage for a single short-term compile time issue encountered there. Though, we'd still be missing OpenBSD/NetBSD coverage for stuff that is different on those platforms: https://github.com/bitcoin/bitcoin/issues/33128 (which seems like a long-standing issue that has existed since ever and no one bothered to report?)\r\n\r\n\r\n",
          "created_at": "2025-10-10T13:57:07Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-10-15T11:53:50Z"
        },
        {
          "user": "hebasto",
          "body": "All `vmactions/*-vm` actions are now unconditionally cached using the repository's GHA quota.",
          "created_at": "2025-12-30T14:21:20Z"
        },
        {
          "user": "maflcko",
          "body": "Are you still working on this? If not, it can probably be closed",
          "created_at": "2025-12-30T14:51:20Z"
        },
        {
          "user": "willcl-ark",
          "body": "Yeah, from the above it seems like we are happy to just continue running the various *BSDs on nightly jobs. Will close for now.",
          "created_at": "2025-12-31T11:28:46Z"
        }
      ]
    },
    {
      "number": 33561,
      "title": "[28.x] ci: Fix Qt 5.15 URL",
      "body": "",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-10-07T11:13:17Z",
      "updated_at": "2025-10-08T08:41:12Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33561",
      "labels": [
        "Backport"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33561.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [fanquake](https://github.com/bitcoin/bitcoin/pull/33561#issuecomment-3376996728) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T11:13:22Z"
        },
        {
          "user": "fanquake",
          "body": "ACK 2cd432dc6dad1b9f97d1c791ff1c1b0dd25a8db6",
          "created_at": "2025-10-07T13:52:18Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to 27.x in #33564.",
          "created_at": "2025-10-08T08:41:12Z"
        }
      ]
    },
    {
      "number": 33559,
      "title": "[30.x] Finalise v30.0",
      "body": "Finalise `v30.0`.\r\nImports the release notes from https://github.com/bitcoin-core/bitcoin-devwiki/wiki/v30.0-Release-Notes-Draft.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-10-07T10:38:06Z",
      "updated_at": "2025-11-03T00:28:56Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/33559",
      "labels": [
        "Backport"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33559.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/33559#issuecomment-3386708420), [achow101](https://github.com/bitcoin/bitcoin/pull/33559#issuecomment-3386945202), [janb84](https://github.com/bitcoin/bitcoin/pull/33559#pullrequestreview-3320106531), [darosior](https://github.com/bitcoin/bitcoin/pull/33559#pullrequestreview-3320283291) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T10:38:13Z"
        },
        {
          "user": "pythonruss",
          "body": "I would strongly suggest we back out of the PRs widening the op_return size. 20% of the network has switched to an alternative implementation just to avoid likely consequences here of having an vulnerable surface area where malicious actors can put files with illegal contents. ",
          "created_at": "2025-10-07T20:36:06Z"
        },
        {
          "user": "ghost",
          "body": "If the government's laws could destroy Bitcoin, it would already be dead.",
          "created_at": "2025-10-08T09:48:01Z"
        },
        {
          "user": "thewrlck",
          "body": "`-datacarriersize` is increased to 100,000 by default, which effectively uncaps üî•üî•üî•",
          "created_at": "2025-10-08T10:05:05Z"
        },
        {
          "user": "instagibbs",
          "body": "ACK d615eb6998eeccb9106854dffa95f36b319177e1\r\n\r\nreviewed the release notes",
          "created_at": "2025-10-09T16:54:16Z"
        },
        {
          "user": "achow101",
          "body": "ACK d615eb6998eeccb9106854dffa95f36b319177e1",
          "created_at": "2025-10-09T17:55:00Z"
        },
        {
          "user": "l0rinc",
          "body": "I ran a full `-reindex` with v30.0 (d5e0077bef4cc4484242bb9a88a4840bc803c091) until  current tip (`height=918366`) with default `dbcache` (=450 MB) and fully enabled script validation (`-assumevalid=0`): it finished successfully in **11 hours, 22 minutes**.\r\n\r\nPost-merge ACK",
          "created_at": "2025-10-10T00:23:10Z"
        },
        {
          "user": "Dorex45",
          "body": "ACK Reviewed the release notes.\r\n\r\n> Finalise `v30.0`. Imports the release notes from https://github.com/bitcoin-core/bitcoin-devwiki/wiki/v30.0-Release-Notes-Draft.\r\n\r\n",
          "created_at": "2025-10-10T06:25:12Z"
        },
        {
          "user": "GaloisField2718",
          "body": "https://github.com/bitcoin/bitcoin/blob/v30.0/doc/release-notes.md",
          "created_at": "2025-10-11T03:40:52Z"
        }
      ]
    },
    {
      "number": 33558,
      "title": "ci: Use native platform for win-cross task",
      "body": "Forcing the architecture to amd64 is no longer required. Dropping it should have some benefits:\r\n\r\n* Faster CI speed on other arches (riscv64, arm, ...)\r\n* Unlock the CI task to run on riscv64 at all",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-10-07T10:32:25Z",
      "updated_at": "2025-10-13T15:10:45Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33558",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33558.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33558#pullrequestreview-3329020667) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T10:32:31Z"
        },
        {
          "user": "maflcko",
          "body": "> Error: invalid platform syntax for \"linux\" (use OS/ARCH[/VARIANT][,...])\r\n\r\nthanks for testing. However, this looks like an unrelated issue with your podman version. I presume you can't run any native task at all. My recommendation would be to upgrade your os (or podman) to the latest stable version.",
          "created_at": "2025-10-07T11:56:13Z"
        },
        {
          "user": "maflcko",
          "body": "> > * Unlock the CI task to run on riscv64 at all\r\n> \r\n> Isn't this relevant to other tasks as well, for example, `ci/test/00_setup_env_arm.sh`?\r\n\r\nThat task requires the aarch64 architecture and is not a native task. Not sure if it matters much if qemu-aarch64 is running on x86 or riscv, but feel free to open a separate issue or pull request. The goal here is mainly to speed up the win-cross task for non-x86 arches. Being able to run it on riscv64 is a nice cherry on top.",
          "created_at": "2025-10-13T06:55:18Z"
        }
      ]
    },
    {
      "number": 33557,
      "title": "[28.x] 28.3rc2",
      "body": "Backports:\r\n* #33482\r\n* #33563\r\n\r\nPlus final changes for a `28.3rc2`.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-10-07T10:09:16Z",
      "updated_at": "2025-10-13T11:30:36Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33557",
      "labels": [
        "Backport"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33557.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/33557#pullrequestreview-3331102990), [marcofleon](https://github.com/bitcoin/bitcoin/pull/33557#issuecomment-3397098352) |\n| Stale ACK | [dergoegge](https://github.com/bitcoin/bitcoin/pull/33557#pullrequestreview-3330359960) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T10:09:22Z"
        },
        {
          "user": "marcofleon",
          "body": "Nice, re ACK 44d05b2fb25b0a5f14e7487c792ac25ad5f5c284",
          "created_at": "2025-10-13T11:22:20Z"
        }
      ]
    },
    {
      "number": 33555,
      "title": "build: Bump clang minimum supported version to 17",
      "body": "Most supported operating systems ship with clang-17 (or later), so bump the minimum to that and allow new code to drop workarounds for previous clang bugs.\r\n\r\n(Apart from dropping the small workaround, this bump allows the `ci_native_nowallet_libbitcoinkernel` CI to run on riscv64 without running into an ICE with clang-16.)\r\n\r\nThis patch will only be released in version 31.x, next year (2026).\r\n\r\nFor reference:\r\n\r\n* https://packages.debian.org/bookworm/clang-19\r\n* https://packages.ubuntu.com/noble/clang (clang-18)\r\n* CentOS-like 8/9/10 ship clang-17 (and later) via Stream\r\n* FreeBSD 12/13 ship clang-17 (and later) via packages\r\n* OpenSuse Tumbleweed ships with https://software.opensuse.org/package/clang (clang21); No idea about OpenSuse Leap\r\n\r\nOn operating systems where the clang version is not shipped by default, the user would have to use GCC, or install clang in a different way. For example:\r\n\r\n* https://packages.debian.org/bookworm/g++ (g++-12)\r\n* https://packages.ubuntu.com/jammy/g++ (g++-11)\r\n* https://apt.llvm.org/, or nix, or guix, or compile clang from source, ...\r\n\r\n*Ubuntu 22.04 LTS does not ship with clang-16 (the previous minimum required), nor with clang-17, so one of the above workarounds is needed there.*\r\n\r\nmacOS 14 is unaffected, and the previous minimum requirement of Xcode15.0 remains, see also https://github.com/bitcoin/bitcoin/blob/919e6d01e93a57d991ed456bc67c43605583ada8/depends/hosts/darwin.mk#L3-L4. (Modulo compiling the fuzz tests, which requires https://github.com/bitcoin/bitcoin/blob/919e6d01e93a57d991ed456bc67c43605583ada8/.github/workflows/ci.yml#L149)",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-10-07T08:10:24Z",
      "updated_at": "2025-10-30T09:30:59Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/33555",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33555.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/33555#pullrequestreview-3320830812), [hebasto](https://github.com/bitcoin/bitcoin/pull/33555#pullrequestreview-3391131782) |\n| Concept ACK | [janb84](https://github.com/bitcoin/bitcoin/pull/33555#issuecomment-3398591114) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-07T08:10:30Z"
        },
        {
          "user": "hebasto",
          "body": "> (Apart from dropping the small workaround, this bump allows the `ci_native_nowallet_libbitcoinkernel` CI to run on riscv64 without running into an ICE with clang-16.)\r\n\r\nIs there an open issue for this?",
          "created_at": "2025-10-07T10:21:04Z"
        },
        {
          "user": "maflcko",
          "body": "> Is there an open issue for this?\r\n\r\nI haven't checked, but clang-16 is long out of the support window, so it isn't going to be fixed. Also, I think the number of devs running the ci on risvc64 is limited.",
          "created_at": "2025-10-07T10:35:40Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit 919e6d01e93a57d991ed456bc67c43605583ada8<br>(master) | commit 9aa0140e936062c1d4ed49faea1ada3653580712<br>(pull/33555/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`8a3a70b6a2f350b8...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-aarch64-linux-gnu-debug.tar.gz) | [`c6ec580d3ba66858...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`17936aca93771c4c...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-aarch64-linux-gnu.tar.gz) | [`6ee69d4c89dc1750...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`e45e305cc30cdec1...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-arm-linux-gnueabihf-debug.tar.gz) | [`a372e46032a20857...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`d285be53f7e4fe1e...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-arm-linux-gnueabihf.tar.gz) | [`918575a13b76b1e7...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`fdfc826d830637d0...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-arm64-apple-darwin-codesigning.tar.gz) | [`4db644c479c25301...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`f2ae5acbc4d364c6...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-arm64-apple-darwin-unsigned.tar.gz) | [`c194207c5e9b014f...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`427e26d78db3b1ec...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-arm64-apple-darwin-unsigned.zip) | [`8748ed934e3f7a71...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`545c19878f7f9119...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-powerpc64-linux-gnu-debug.tar.gz) | [`3b8f4ea4d56f4bce...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`a59d3d5edf49d756...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-powerpc64-linux-gnu.tar.gz) | [`1bc16de51a35484b...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`821096e270b4d5c5...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-riscv64-linux-gnu-debug.tar.gz) | [`bd6f98a39a64686e...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`ee536994ed27e851...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-riscv64-linux-gnu.tar.gz) | [`392a78fa61b7c2d3...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`b225e3f958de65c8...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-x86_64-apple-darwin-codesigning.tar.gz) | [`df732771a14eba68...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`d7f9ae145640fb3a...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-x86_64-apple-darwin-unsigned.tar.gz) | [`c11f0c49e2d093ad...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`64520329bb3dd15b...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-x86_64-apple-darwin-unsigned.zip) | [`9fee5b3090b22d2d...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`63847a7abd0f21c3...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-x86_64-linux-gnu-debug.tar.gz) | [`1ad2e0d9b80c19d4...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`28f4d40543841eb9...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a-x86_64-linux-gnu.tar.gz) | [`48d2db47a4ad82d6...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`14b4187a76079d9a...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/bitcoin-919e6d01e93a.tar.gz) | [`db17d0833dd70b18...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/bitcoin-9aa0140e9360.tar.gz) |\n| SHA256SUMS.part | [`f843995ba8b4cda0...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/SHA256SUMS.part) | [`374dfb6ae9e37617...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/SHA256SUMS.part) |\n| guix_build.log | [`1a2865dc1450c422...`](https://drahtbot.space/guix/monotree/919e6d01e93a57d991ed456bc67c43605583ada8/guix_build.log) | [`19c64e98242c5537...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/guix_build.log) |\n| guix_build.log.diff |  | [`aaeaffb3a4d0a08d...`](https://drahtbot.space/guix/monotree/9aa0140e936062c1d4ed49faea1ada3653580712/guix_build.log.diff) |\n\n",
          "created_at": "2025-10-08T01:53:38Z"
        },
        {
          "user": "maflcko",
          "body": "> Do we still need the build specialization in\r\n\r\nSeems unrelated, because the check is to be disabled for clang-15 and less. Not sure why it is there in the first place, but if you want to remove it, it could be removed already today, unrelated to this pull.\r\n\r\n\r\n\r\n> Do we need a build release notes for this?\r\n\r\nProbably not, but I've added one. Thx.\r\n\r\n> Can we simplify these tests now\r\n\r\nNice. Reverted that commit.",
          "created_at": "2025-10-09T18:50:06Z"
        },
        {
          "user": "janb84",
          "body": "Concept ACK fa0fa0f70087d08fe5a54832b96799bd14293279\r\n\r\nPR Sets the clang minimum supported version to 17 and drop some work arounds for clang 16. Given that supported  OS-es have already a minimal clang version of 17, this should not be a problem.  \r\n\r\nWould like to see confirmation that the fuzz test works as expected, by a fuzz specialist. \r\n\r\n- code review ‚úÖ\r\n- GUIX builds ‚úÖ\r\n- normal build ‚úÖ\r\n- ran tests ‚úÖ\r\n\r\nPs. NixOS 25.05 has Clang version 19 as default.\r\n\r\n<details><summary> Guix Build Output</summary>\r\n\r\n**Host architecture:** `aarch64`\r\n**Commit:** `fa0fa0f70087`\r\n\r\n```shell\r\n 5fad57d70ee5d573ce9c150b9ca1a201028d72ca48d27993b8aee6a2fc5e0dd6  guix-build-fa0fa0f70087/output/aarch64-linux-gnu/SHA256SUMS.part\r\n 1ff0e693e3cd542f78590c7876ff662e07db433161e3bcbe6e4c103af0a57dea  guix-build-fa0fa0f70087/output/aarch64-linux-gnu/bitcoin-fa0fa0f70087-aarch64-linux-gnu-debug.tar.gz\r\n ef5e83eb30e1d91aae6c489455c123e5d916cc23e30d8cf32f9c04b9fe012ec8  guix-build-fa0fa0f70087/output/aarch64-linux-gnu/bitcoin-fa0fa0f70087-aarch64-linux-gnu.tar.gz\r\n 26f3dc6216890d211175f1013d6abe5af51bfcfd5f7d6a6b930e54b26e6ebd74  guix-build-fa0fa0f70087/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n eb3f3486f04b4db8f0299e7ee086c25ce96137303f22eb4abd24b794185190c6  guix-build-fa0fa0f70087/output/arm-linux-gnueabihf/bitcoin-fa0fa0f70087-arm-linux-gnueabihf-debug.tar.gz\r\n 1dcbd0052035ff0a1f3ad06d16fd96424f664f51f4edb7b4a857ba3956dbd9d1  guix-build-fa0fa0f70087/output/arm-linux-gnueabihf/bitcoin-fa0fa0f70087-arm-linux-gnueabihf.tar.gz\r\n 55070cc6dd24804727dd2edc6f0efc1f807e29a2cd3ad403d78695a26713f35d  guix-build-fa0fa0f70087/output/arm64-apple-darwin/SHA256SUMS.part\r\n a3cfce976570d5d3c80a397eea6d7a576af284c184a9c5bb0843a5f28321320f  guix-build-fa0fa0f70087/output/arm64-apple-darwin/bitcoin-fa0fa0f70087-arm64-apple-darwin-codesigning.tar.gz\r\n d052e78be9232e9abbc927ba33f751b6b3be5d4a5d32c81214df54ae96845259  guix-build-fa0fa0f70087/output/arm64-apple-darwin/bitcoin-fa0fa0f70087-arm64-apple-darwin-unsigned.tar.gz\r\n bbffe6fc39f5e6cc4b47dda7fb52c03a1033fbb22ad9f0d232d726b17f8aeb73  guix-build-fa0fa0f70087/output/arm64-apple-darwin/bitcoin-fa0fa0f70087-arm64-apple-darwin-unsigned.zip\r\n 602960482de11de5c83cbba201fcb0eb0ce887fadd7b8e75f268e22c17560143  guix-build-fa0fa0f70087/output/dist-archive/bitcoin-fa0fa0f70087.tar.gz\r\n 134cd1247418b895115b15ea5341d5a2ba2236ddd4b1db53c36d3726953aeb46  guix-build-fa0fa0f70087/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n 04c5a46733e25f8958f8c07dd9204c6525b8e845caaa7e56adbb851ed81f3936  guix-build-fa0fa0f70087/output/powerpc64-linux-gnu/bitcoin-fa0fa0f70087-powerpc64-linux-gnu-debug.tar.gz\r\n 0fdee909ed4c94fabbb946681779a8a8fd061196b3f142590eb4cec3dc4691fe  guix-build-fa0fa0f70087/output/powerpc64-linux-gnu/bitcoin-fa0fa0f70087-powerpc64-linux-gnu.tar.gz\r\n 60b8f8a76ea436098c94fe1ffe28713ac2faade131e191617862b35acb05fe8f  guix-build-fa0fa0f70087/output/riscv64-linux-gnu/SHA256SUMS.part\r\n 6d3973e8bd4327768c5ac5767fbd28f3ffbc3027435890bc77ee6ade54998712  guix-build-fa0fa0f70087/output/riscv64-linux-gnu/bitcoin-fa0fa0f70087-riscv64-linux-gnu-debug.tar.gz\r\n b80fa9a8764725b2e6d79221a4d424f276abea4787c609930a4ecbf9c13fb6d4  guix-build-fa0fa0f70087/output/riscv64-linux-gnu/bitcoin-fa0fa0f70087-riscv64-linux-gnu.tar.gz\r\n 05c2e25f7cc21d28644e8fdd593563cc6e68257cf72084bb94ba4c05aa9239b3  guix-build-fa0fa0f70087/output/x86_64-apple-darwin/SHA256SUMS.part\r\n 651c3b4313c9a54dd6ffa72eca7386231f70a0168e133e748172bed4fe92fec5  guix-build-fa0fa0f70087/output/x86_64-apple-darwin/bitcoin-fa0fa0f70087-x86_64-apple-darwin-codesigning.tar.gz\r\n cb2f57fdc545d6dd64e568cebe10909ff50912f5c5c4f88c1191910b03b9c830  guix-build-fa0fa0f70087/output/x86_64-apple-darwin/bitcoin-fa0fa0f70087-x86_64-apple-darwin-unsigned.tar.gz\r\n 631eedaa91aeb51b40c376f0995260384a53859fff7e2469b99e93ffa86e27e2  guix-build-fa0fa0f70087/output/x86_64-apple-darwin/bitcoin-fa0fa0f70087-x86_64-apple-darwin-unsigned.zip\r\n c3a180847172c1551d7c32bbaf0f38ec2b9c330f21fb336f08144cf3c5b87958  guix-build-fa0fa0f70087/output/x86_64-linux-gnu/SHA256SUMS.part\r\n df11920ab65363415c8b376557fea9d77bf488b8ea0f10e62f86f4189f1336bc  guix-build-fa0fa0f70087/output/x86_64-linux-gnu/bitcoin-fa0fa0f70087-x86_64-linux-gnu-debug.tar.gz\r\n 0d19fa3d60e10465f52acbe024ef2dec2d89b5741b4f25b6f1c01d81816317b1  guix-build-fa0fa0f70087/output/x86_64-linux-gnu/bitcoin-fa0fa0f70087-x86_64-linux-gnu.tar.gz\r\n 064ebdef37ca800583917fab262743ac1cd811621478d17f1cb1115088b83ec2  guix-build-fa0fa0f70087/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n baaa35b34780703a0702f220fb30ce4f95ed645120bfcf8fd2de85e97679536d  guix-build-fa0fa0f70087/output/x86_64-w64-mingw32/bitcoin-fa0fa0f70087-win64-codesigning.tar.gz\r\n 48106a01245f2941e16539983906fd256fc1cc2be20d51ad1280756d2685ed7e  guix-build-fa0fa0f70087/output/x86_64-w64-mingw32/bitcoin-fa0fa0f70087-win64-debug.zip\r\n 0120da4106d8a1be268923a1f2908f1cfaf7a0ce36009131c4f93758c354cbb9  guix-build-fa0fa0f70087/output/x86_64-w64-mingw32/bitcoin-fa0fa0f70087-win64-setup-unsigned.exe\r\n 638d7dff2f1bef290a5e722972d02b152f87bf3400b183ab0a73effd66ce025d  guix-build-fa0fa0f70087/output/x86_64-w64-mingw32/bitcoin-fa0fa0f70087-win64-unsigned.zip\r\n```\r\n</details>",
          "created_at": "2025-10-13T18:19:10Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit f54ffb4bc141ffcc6fffe574edbcbbb21f001476<br>(master) | commit 3a89e04a0776b2a54c4b841b2b8628594e760cbd<br>(pull/33555/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`a7b618da4ba7f199...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-aarch64-linux-gnu-debug.tar.gz) | [`e4d9e31967838348...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`fd5610811b85c65b...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-aarch64-linux-gnu.tar.gz) | [`cfb90c1835a66f47...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`e04d10c383e3ac06...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-arm-linux-gnueabihf-debug.tar.gz) | [`5badd829d2b1bd89...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`c164e375f83f9020...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-arm-linux-gnueabihf.tar.gz) | [`7ccd210bfdad17d0...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`a3d8fe6db088c359...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-arm64-apple-darwin-codesigning.tar.gz) | [`14e0ee4fa5e8b14a...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`8f95ef0f3741d09f...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-arm64-apple-darwin-unsigned.tar.gz) | [`b1ebd8f4ab7be7b0...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`9197e3a8b427140d...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-arm64-apple-darwin-unsigned.zip) | [`f0e9781c0d4e0d58...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`68d83debfc784c9c...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-powerpc64-linux-gnu-debug.tar.gz) | [`95a86bd2f21f77e6...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`404a4a362a6672bb...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-powerpc64-linux-gnu.tar.gz) | [`9ccabf2c1633530b...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`dbc7cb30ec3160b3...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-riscv64-linux-gnu-debug.tar.gz) | [`85d3b84c7e63fb06...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`539e3d2b2ec19dca...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-riscv64-linux-gnu.tar.gz) | [`fa17fc66c9075684...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`326be682a44c94ce...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-x86_64-apple-darwin-codesigning.tar.gz) | [`59c2e4acb0b2353c...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`400a03cfd99188c0...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-x86_64-apple-darwin-unsigned.tar.gz) | [`77a84c343fa5673a...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`96c27845c57ef843...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-x86_64-apple-darwin-unsigned.zip) | [`880dd21119747fc4...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`62cd1e6e25a48741...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-x86_64-linux-gnu-debug.tar.gz) | [`3ab9e03e01038f72...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`f99edaba4fffddeb...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141-x86_64-linux-gnu.tar.gz) | [`6ff4fff366765162...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`4b6e9d14acbb8ddc...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/bitcoin-f54ffb4bc141.tar.gz) | [`839e5e91bf3c6dde...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/bitcoin-3a89e04a0776.tar.gz) |\n| SHA256SUMS.part | [`fb6b57a20be5505d...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/SHA256SUMS.part) | [`76aeef3dc4b5913e...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/SHA256SUMS.part) |\n| guix_build.log | [`2cbf81db53d269a1...`](https://drahtbot.space/guix/monotree/f54ffb4bc141ffcc6fffe574edbcbbb21f001476/guix_build.log) | [`1178ab0af4cb18ae...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/guix_build.log) |\n| guix_build.log.diff |  | [`07947427c1b73f63...`](https://drahtbot.space/guix/monotree/3a89e04a0776b2a54c4b841b2b8628594e760cbd/guix_build.log.diff) |\n\n",
          "created_at": "2025-10-26T07:57:58Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33560,
      "title": "build: depends sqlite compile failure for FreeBSD Clang cross",
      "body": "Using master (919e6d01e93a57d991ed456bc67c43605583ada8) and doing something like:\n```bash\nmake -C depends/ HOST=aarch64-unknown-freebsd CC=clang CXX=clang++ CFLAGS=\"--sysroot=/path/to/sysroot/ \" CXXFLAGS=\"--sysroot=/path/to/sysroot/ -stdlib=libc++\" LDFLAGS=\"-fuse-ld=lld\" AR=llvm-ar STRIP=llvm-strip NM=llvm-nm RANLIB=llvm-ranlib NO_QT=1\n```\nResults in:\n```bash\nlibtool: compile:  clang -DPACKAGE_NAME=\\\"sqlite\\\" -DPACKAGE_TARNAME=\\\"sqlite\\\" -DPACKAGE_VERSION=\\\"3.46.1\\\" \"-DPACKAGE_STRING=\\\"sqlite 3.46.1\\\"\" -DPACKAGE_BUGREPORT=\\\"http://www.sqlite.org\\\" -DPACKAGE_URL=\\\"\\\" -DPACKAGE=\\\"sqlite\\\" -DVERSION=\\\"3.46.1\\\" -DHAVE_STDIO_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_STRINGS_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_UNISTD_H=1 -DSTDC_HEADERS=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\\\".libs/\\\" -DHAVE_FDATASYNC=1 -DHAVE_USLEEP=1 -DHAVE_LOCALTIME_R=1 -DHAVE_GMTIME_R=1 -DHAVE_DECL_STRERROR_R=1 -DHAVE_STRERROR_R=1 -DHAVE_POSIX_FALLOCATE=1 -DHAVE_ZLIB_H=1 -I. -I/bitcoin/depends/aarch64-unknown-freebsd/include -DSQLITE_DQS=0 -DSQLITE_DEFAULT_MEMSTATUS=0 -DSQLITE_OMIT_DEPRECATED -DSQLITE_OMIT_SHARED_CACHE -DSQLITE_OMIT_JSON -DSQLITE_LIKE_DOESNT_MATCH_BLOBS -DSQLITE_OMIT_DECLTYPE -DSQLITE_OMIT_PROGRESS_CALLBACK -DSQLITE_OMIT_AUTOINIT -D_REENTRANT=1 -DSQLITE_THREADSAFE=1 -DSQLITE_OMIT_LOAD_EXTENSION=1 -DSQLITE_ENABLE_MATH_FUNCTIONS -DSQLITE_HAVE_ZLIB --sysroot=/opt/cross-freebsd-14/ -pipe -std=c11 -MT sqlite3.lo -MD -MP -MF .deps/sqlite3.Tpo -c sqlite3.c  -fPIC -DPIC -o sqlite3.o\nsqlite3.c:38913:42: error: use of undeclared identifier 'mremap'\n 38913 |   { \"mremap\",       (sqlite3_syscall_ptr)mremap,          0 },\n       |                                          ^\nsqlite3.c:38988:22: error: invalid application of 'sizeof' to an incomplete type 'struct unix_syscall[]'\n 38988 |     for(i=0; i<sizeof(aSyscall)/sizeof(aSyscall[0]); i++){\n       |                      ^~~~~~~~~~\nsqlite3.c:38997:22: error: invalid application of 'sizeof' to an incomplete type 'struct unix_syscall[]'\n 38997 |     for(i=0; i<sizeof(aSyscall)/sizeof(aSyscall[0]); i++){\n       |                      ^~~~~~~~~~\nsqlite3.c:39024:20: error: invalid application of 'sizeof' to an incomplete type 'struct unix_syscall[]'\n 39024 |   for(i=0; i<sizeof(aSyscall)/sizeof(aSyscall[0]); i++){\n       |                    ^~~~~~~~~~\nsqlite3.c:39041:16: error: invalid application of 'sizeof' to an incomplete type 'struct unix_syscall[]'\n 39041 |     for(i=0; i<ArraySize(aSyscall)-1; i++){\n       |                ^~~~~~~~~~~~~~~~~~~\nsqlite3.c:15273:38: note: expanded from macro 'ArraySize'\n 15273 | #define ArraySize(X)    ((int)(sizeof(X)/sizeof(X[0])))\n       |                                      ^~~\nsqlite3.c:39045:14: error: invalid application of 'sizeof' to an incomplete type 'struct unix_syscall[]'\n 39045 |   for(i++; i<ArraySize(aSyscall); i++){\n       |              ^~~~~~~~~~~~~~~~~~~\nsqlite3.c:15273:38: note: expanded from macro 'ArraySize'\n 15273 | #define ArraySize(X)    ((int)(sizeof(X)/sizeof(X[0])))\n       |                                      ^~~\nsqlite3.c:43706:42: error: use of undeclared identifier 'MREMAP_MAYMOVE'\n 43706 |     pNew = osMremap(pOrig, nReuse, nNew, MREMAP_MAYMOVE);\n       |                                          ^\n7 errors generated.\nmake[1]: *** [Makefile:542: sqlite3.lo] Error 1\n```",
      "state": "open",
      "user": "fanquake",
      "created_at": "2025-10-07T11:11:16Z",
      "updated_at": "2025-10-12T12:33:04Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/33560",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "willcl-ark",
          "body": "Does adding \n\n```\n$(package)_cppflags_freebsd+=-DHAVE_MREMAP=0\n```\n\nto _depends/packages/sqlite.mk_ help?\n\nI can't test myself easily, so not sure if that will simply progress onto another error...",
          "created_at": "2025-10-07T11:47:36Z"
        },
        {
          "user": "hebasto",
          "body": "cc @vasild ",
          "created_at": "2025-10-07T11:49:54Z"
        },
        {
          "user": "vasild",
          "body": "When I run this on Ubuntu 24.04.3 I get:\n\n```sh\n$ make -C depends/ HOST=aarch64-unknown-freebsd CC=clang CXX=clang++ CFLAGS=\"--sysroot=/path/to/sysroot/ \" CXXFLAGS=\"--sysroot=/path/to/sysroot/ -stdlib=libc++\" LDFLAGS=\"-fuse-ld=lld\" AR=llvm-ar STRIP=llvm-strip NM=llvm-nm RANLIB=llvm-ranlib NO_QT=1\n...\nConfiguring boost...\n-- The CXX compiler identification is Clang 18.1.3\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - failed\n-- Check for working CXX compiler: /usr/bin/clang++\n-- Check for working CXX compiler: /usr/bin/clang++ - broken\n...\nclang++: error: invalid linker name in argument '-fuse-ld=lld'\n```\n\nThe OP is a bit scarce. Have this worked before? Is it a recent regression? In what environment to run the above command to reproduce the error?",
          "created_at": "2025-10-07T18:21:20Z"
        },
        {
          "user": "willcl-ark",
          "body": "Cross-compiling for freebsd from linux using clang is just currently untested/unused.\n\nThis branch includes a patch to fix sqlite use of `mremap` and a build script demonstrating a freebsd crosscompile from linux using clang and a freebsd sysroot:\n\nhttps://github.com/bitcoin/bitcoin/compare/master...willcl-ark:bitcoin:cross-compile-freebsd-depends\n\n(tested with clang18 and freebsd 14.2 and 14.3 only).\n\nIf we moved to using clang in the guix builds a similar process could perhaps be used to provide freebsd (and other) release binaries.",
          "created_at": "2025-10-08T08:49:35Z"
        }
      ]
    },
    {
      "number": 33556,
      "title": "build: `libcapnp*.so` \"warning: GCS is required by -z gcs, but this shared library lacks the necessary property note.\"",
      "body": "Building master (919e6d01e93a57d991ed456bc67c43605583ada8) in a Ubuntu 25.10 container (on aarch64), I see:\n```bash\n[  1%] Linking CXX executable mpgen\n/usr/lib/aarch64-linux-gnu/libcapnp-rpc-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libcapnpc-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libcapnp-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libkj-async-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libkj-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n[  1%] Built target mpgen\n...\n[  2%] Linking CXX executable mptest\n/usr/lib/aarch64-linux-gnu/libkj-test-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libcapnp-rpc-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libcapnp-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libkj-async-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n/usr/lib/aarch64-linux-gnu/libkj-1.1.0.so: warning: GCS is required by -z gcs, but this shared library lacks the necessary property note. The dynamic loader might not enable GCS or refuse to load the program unless all the shared library dependencies have the GCS marking.\n[  2%] Built target mptest\n[  2%] Built target mptests\n```\nGCS is Guarded Control Stack: https://www.kernel.org/doc/html/next/arch/arm64/gcs.html.",
      "state": "open",
      "user": "fanquake",
      "created_at": "2025-10-07T09:44:02Z",
      "updated_at": "2025-10-07T13:30:23Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/33556",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "fanquake",
          "body": "cc @Sjors @ryanofsky.",
          "created_at": "2025-10-07T09:46:47Z"
        },
        {
          "user": "ryanofsky",
          "body": "It seems like ideal solution would be to get debian to build capnproto package with GCS, maybe submitting a patch or issue requesting this. There should be no downside to enabling GCS, since it modifies return instructions but is otherwise ABI compatible, and the GCS feature can be turned on and off per thread at runtime. Only difficultly may be that capnproto dependencies (openssl and zlib) will also need to be built with GCS. There's a debian page at https://wiki.debian.org/ToolChain/GCS with some information but it's unclear which debian libraries are already using it. It should be possible to check .so files manually with instructions there:\n\n```\n$ readelf -n ./hello | grep AArch64\nProperties: AArch64 feature: BTI, PAC, GCS\n```\n\nThere may be changes we want to make to our build system too. The warnings in the description above happen when building `mptest` and `mpgen` binaires, and maybe GCS could be disabled for these binaries. Assuming the same warning happen when when building other binaries like  ~`bitcoind`~ `bitcoin-node` and `test_bitcoin` it's probably not worth it.\n\n",
          "created_at": "2025-10-07T13:06:14Z"
        },
        {
          "user": "fanquake",
          "body": "> Assuming the same warning happen when when building other binaries like bitcoind and test_bitcoin it's probably not worth it.\n\nThere are no other linker warnings for any other binaries.",
          "created_at": "2025-10-07T13:09:00Z"
        },
        {
          "user": "ryanofsky",
          "body": "> > Assuming the same warning happen when when building other binaries like bitcoind and test_bitcoin it's probably not worth it.\n> \n> There are no other linker warnings for any other binaries.\n\nSorry was mistaken: there should not be a warning for `bitcoind` because that is not linked against capnproto. But I would expect warnings to appear when linking `bitcoin-node` and `test_bitcoin`. It would be unexpected if make VERBOSE=1 output showed `bitcoin-node` being linked `libcapnp.so` but not producing these warning. I think the only possible explanation then would be that binaries like `bitcoin-node` were being built without GCS, but binaries like `mpgen` were being built with it? This would seem like something to debug and fix.\n",
          "created_at": "2025-10-07T13:30:23Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 12,
    "issues": 2
  }
}