{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:34:36.484989+00:00",
  "date": "2025-11-25",
  "pull_requests": [
    {
      "number": 33946,
      "title": "interfaces: remove redundant mempool lock in ChainImpl::isInMempool()",
      "body": "This PR removes an unnecessary `LOCK(mempool->cs)` in `ChainImpl::isInMempool()`. The method calls `CTxMemPool::exists()`, which already locks `mempool->cs` internally. Because the mempool mutex is a RecursiveMutex, double-locking was safe but redundant. Dropping the outer lock matches patterns used elsewhere in ChainImpl (e.g. `hasDescendantsInMempool()` and `GetTransactionAncestry()` callers) where mempool read APIs are invoked without an additional lock and rely on the callee‚Äôs internal locking. `isRBFOptIn()` remains unchanged since `IsRBFOptIn(tx, pool)` explicitly requires the caller to hold `pool.cs` as indicated by its thread-safety annotation.",
      "state": "closed",
      "user": "Fibonacci747",
      "created_at": "2025-11-25T19:24:08Z",
      "updated_at": "2025-11-26T14:55:44Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33946",
      "labels": [
        "interfaces"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33946.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/33946#pullrequestreview-3510522471), [maflcko](https://github.com/bitcoin/bitcoin/pull/33946#issuecomment-3580958940), [instagibbs](https://github.com/bitcoin/bitcoin/pull/33946#issuecomment-3581411365) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-25T19:24:19Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK 2909655fba91a7cc59c484fc74afafdf7ccc0cfa",
          "created_at": "2025-11-26T11:52:10Z"
        },
        {
          "user": "instagibbs",
          "body": "utACK 2909655fba91a7cc59c484fc74afafdf7ccc0cfa",
          "created_at": "2025-11-26T13:49:27Z"
        }
      ]
    },
    {
      "number": 33945,
      "title": "depends: latest config.guess & config.sub",
      "body": "It's been about a year since these were last updated. \r\nPull in the latest versions.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-11-25T16:40:33Z",
      "updated_at": "2025-11-26T13:08:01Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33945",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33945.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33945#pullrequestreview-3506773750) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-25T16:40:46Z"
        },
        {
          "user": "fanquake",
          "body": "Guix Build (aarch64):\r\n```bash\r\n50d2ead905b87b4064fd66a0c0a2dc88a7ada65e2224f1ff992bc7ec685e493d  guix-build-3e4355314b1a/output/aarch64-linux-gnu/SHA256SUMS.part\r\n923b405f4eb8cb7158f2b4aef0918e48e7e57ef097871d0702dbbd5286013d32  guix-build-3e4355314b1a/output/aarch64-linux-gnu/bitcoin-3e4355314b1a-aarch64-linux-gnu-debug.tar.gz\r\n10317ea4cbaf9b6911592d0d4636d5959bf31f8ad0210cfe8decc4a5ebaa99fb  guix-build-3e4355314b1a/output/aarch64-linux-gnu/bitcoin-3e4355314b1a-aarch64-linux-gnu.tar.gz\r\n70bceac6d1386124f72f4ba4b5f038c56d9a9aa2a3638a0dc6802c84aacd1ac8  guix-build-3e4355314b1a/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n663212ac7eb3b14e06fbba0105f69dda884db8f66003ec9aa11932163c7579af  guix-build-3e4355314b1a/output/arm-linux-gnueabihf/bitcoin-3e4355314b1a-arm-linux-gnueabihf-debug.tar.gz\r\n7b7eaa7d832bd8de9b9ca2cc70975af8690dcf5f1e7fbece52a7db759bca5d33  guix-build-3e4355314b1a/output/arm-linux-gnueabihf/bitcoin-3e4355314b1a-arm-linux-gnueabihf.tar.gz\r\ne4d9971e9535b78e66f9890198632480ac00e3ea903a068fdeacb5d296336aeb  guix-build-3e4355314b1a/output/arm64-apple-darwin/SHA256SUMS.part\r\n19cfcab73dce28ab61192eb30374abd0d3d2a4738301e926145f3c24ee9a2fdb  guix-build-3e4355314b1a/output/arm64-apple-darwin/bitcoin-3e4355314b1a-arm64-apple-darwin-codesigning.tar.gz\r\nfd3f2100dbf1d7bc954b6a682a51b7d0b60ed1b70366ade108d75738c13483b3  guix-build-3e4355314b1a/output/arm64-apple-darwin/bitcoin-3e4355314b1a-arm64-apple-darwin-unsigned.tar.gz\r\n091379f425fa06f104e67c037ae9cb408817dee5db689d69edfb422e882f2d60  guix-build-3e4355314b1a/output/arm64-apple-darwin/bitcoin-3e4355314b1a-arm64-apple-darwin-unsigned.zip\r\nf7364335e54c416579ecd5b77a349937285e76dc60c4a0a7fd72437261e50602  guix-build-3e4355314b1a/output/dist-archive/bitcoin-3e4355314b1a.tar.gz\r\n9b6bd789f6efaeda7df16c2b2be2ed8b930e0c8888a363c8e754c4004a1bacc5  guix-build-3e4355314b1a/output/powerpc64-linux-gnu/SHA256SUMS.part\r\na064d21ff7ca656d4c01d3b7343b0024fa3c363270c9fc9b5c520d45ea630571  guix-build-3e4355314b1a/output/powerpc64-linux-gnu/bitcoin-3e4355314b1a-powerpc64-linux-gnu-debug.tar.gz\r\ne038943776546bf0acc152c5420262dcfe2a3e2c666284fd16d120436e39f158  guix-build-3e4355314b1a/output/powerpc64-linux-gnu/bitcoin-3e4355314b1a-powerpc64-linux-gnu.tar.gz\r\n78caf0e573ecbe46eb863e946c2339e8935dc5ef9c3c9858bc942dd3276f9937  guix-build-3e4355314b1a/output/riscv64-linux-gnu/SHA256SUMS.part\r\n60ccaf1e09a242da4913c5ff73febcab2183d6a5b16a5e94211d0c2ad9e78fdc  guix-build-3e4355314b1a/output/riscv64-linux-gnu/bitcoin-3e4355314b1a-riscv64-linux-gnu-debug.tar.gz\r\n9c253289e46c6647fff0bc631f83e38291a1e9bd25d27e337c9725168d55468b  guix-build-3e4355314b1a/output/riscv64-linux-gnu/bitcoin-3e4355314b1a-riscv64-linux-gnu.tar.gz\r\n3ba79e99d8c22733a0ca818255fd1ef2cfd59a0b478aad0d3bd04a67f390b5b4  guix-build-3e4355314b1a/output/x86_64-apple-darwin/SHA256SUMS.part\r\n83cb1d3ceade47b2ecf6d7fb45d9d285d691da3fb21c66ee31dcc40ce78c6910  guix-build-3e4355314b1a/output/x86_64-apple-darwin/bitcoin-3e4355314b1a-x86_64-apple-darwin-codesigning.tar.gz\r\ne1a112b9c7d132ab724347490b58104d57ed7643b59d4fea354d7297b14fa0b0  guix-build-3e4355314b1a/output/x86_64-apple-darwin/bitcoin-3e4355314b1a-x86_64-apple-darwin-unsigned.tar.gz\r\n15d4ba4befb212dc5c70e7f2612831831f25af4faa66be7896df1ea5b5b46978  guix-build-3e4355314b1a/output/x86_64-apple-darwin/bitcoin-3e4355314b1a-x86_64-apple-darwin-unsigned.zip\r\n409b2974fee713d56a40863d01578a69beb3994aadd0b29e2410d50aa41e8aaa  guix-build-3e4355314b1a/output/x86_64-linux-gnu/SHA256SUMS.part\r\n17cbab15703e46285b7d4a775b702a509dfd5b81c02cae960c435175110a0898  guix-build-3e4355314b1a/output/x86_64-linux-gnu/bitcoin-3e4355314b1a-x86_64-linux-gnu-debug.tar.gz\r\n7c44e54a1193cad111a26c2e1f155c9bf18d6f2f0597169d1047c2bfa118541e  guix-build-3e4355314b1a/output/x86_64-linux-gnu/bitcoin-3e4355314b1a-x86_64-linux-gnu.tar.gz\r\n8dd47b919c4d8d63127b903a63eee73f58ee7400ed53026b03e7d4dbdb048cc4  guix-build-3e4355314b1a/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n7163d67add1cb3650d376b99de9939597a3400fb3fc37dad9b2336861752eb57  guix-build-3e4355314b1a/output/x86_64-w64-mingw32/bitcoin-3e4355314b1a-win64-codesigning.tar.gz\r\n36316f5f1dc540e38d7afb19eba6e39d8e643842fec04e648ed1bdffc5988ee9  guix-build-3e4355314b1a/output/x86_64-w64-mingw32/bitcoin-3e4355314b1a-win64-debug.zip\r\n4498a4d52602320abf5cf0e21033b01bfc0110e1fda4eeda789777913f884aef  guix-build-3e4355314b1a/output/x86_64-w64-mingw32/bitcoin-3e4355314b1a-win64-setup-unsigned.exe\r\nad3eead8d79a167a995288031f7d6e7a4bb2184ab48fe42e77babf7ba85c19a5  guix-build-3e4355314b1a/output/x86_64-w64-mingw32/bitcoin-3e4355314b1a-win64-unsigned.zip\r\n```",
          "created_at": "2025-11-26T11:24:42Z"
        }
      ]
    },
    {
      "number": 33944,
      "title": "Request: fix typos in \"release-notes-0.18.0.md\" and \"release-notes-0.15.0.1.md\"",
      "body": "Typos Identified:\r\n\r\n1. \"seperate\" ‚Üí should be \"separate\"\r\n- File: doc/release-notes/release-notes-0.18.0.md\r\n- Line: 909-947 region\r\n- Text: \"#15043 Build fuzz targets into seperate executables (MarcoFalke)\"\r\n- URL: https://github.com/bitcoin/bitcoin/blob/0690514d4f72aac251ee0b876cded9187d42c63e/doc/release-notes/release-notes-0.18.0.md#L909-L947\r\n\r\n2. \"occuring\" ‚Üí should be \"occurring\"\r\n- File: doc/release-notes/release-notes-0.15.0.1.md\r\n- Line: 1-87 region\r\n- Text: \"This is a minimal patch to avoid this issue from occuring.\"",
      "state": "closed",
      "user": "oxyzenQ",
      "created_at": "2025-11-25T16:09:18Z",
      "updated_at": "2025-11-25T16:09:40Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33944",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "üìÅ Archived release notes are archived and should not be modified.",
          "created_at": "2025-11-25T16:09:23Z"
        },
        {
          "user": "DrahtBot",
          "body": "\n‚ôªÔ∏è Automatically closing for now based on heuristics. Please leave a comment, if this was erroneous.\nGenerally, please focus on creating high-quality, original content that demonstrates a clear\nunderstanding of the project's requirements and goals.\n\nüìù Moderators: If this is spam, please replace the title with `.`, so that the thread does not appear in\nsearch results.\n",
          "created_at": "2025-11-25T16:09:24Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33944.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-11-25T16:09:29Z"
        }
      ]
    },
    {
      "number": 33943,
      "title": "kernel: don't use assert to handle invalid user input",
      "body": "Crashing with `assert` for invalid user input is problematic for a library, e.g. this is impossible for FFI users to recover from, forcing them to re-implement the error handling logic client-side. See e.g. the [go](https://github.com/stringintech/go-bitcoinkernel/blob/88105c69b32c48919a45bb07fc05ca2c79d2728b/kernel/script_pubkey.go#L91-L102) and [.net](https://github.com/janb84/BitcoinKernel.NET/blob/4ba1ff802fe9a3b7c0af0012e6fdc33e5bc4f961/src/BitcoinKernel.Core/ScriptVerification/ScriptVerifier.cs#L38-L56) bindings, or the discussion in https://github.com/stringintech/kernel-bindings-tests/issues/5.\r\n\r\nThis PR changes behaviour by:\r\n- updating `btck_script_pubkey_verify` to return `-1` for invalid/malformed requests, `0` for invalid scripts, and `1` for valid scripts. Previously, the program would crash for the `-1` cases.\r\n- updating 5 getters to return `nullptr` when the request index is out of bounds. Previously, the program would crash in these cases.\r\n\r\nThe wrapper is updated to throw `std::runtime_error` or `std::out_of_bounds` errors, and the tests are also updated.\r\n\r\nBy not crashing, we can properly test for these edge cases in [`kernel-bindings-tests`](https://github.com/stringintech/kernel-bindings-tests) to ensure that wrappers are handling them properly, as opposed to e.g. not differentiating between `0` and `-1`, which a naive (incorrect) implementation could do.\r\n\r\nNote: I'm not sure why `btck_ScriptVerifyStatus_ERROR_INVALID_FLAGS_COMBINATION` and `btck_ScriptVerifyStatus_ERROR_SPENT_OUTPUTS_REQUIRED` are currently handled as `INVALID_SCRIPT`, in my view they should probably be `INVALID_REQUEST` (which means `btck_ScriptVerifyStatus` becomes meaningless in its current form), but I've not implemented that yet as I'm not 100% sure. Happy to update that here, or can also be done in a separate pull later.",
      "state": "open",
      "user": "stickies-v",
      "created_at": "2025-11-25T15:24:13Z",
      "updated_at": "2025-12-27T17:42:54Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33943",
      "labels": [
        "Validation",
        "Needs rebase"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33943.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [stringintech](https://github.com/bitcoin/bitcoin/pull/33943#issuecomment-3580755258), [sedited](https://github.com/bitcoin/bitcoin/pull/33943#issuecomment-3581241991), [yuvicc](https://github.com/bitcoin/bitcoin/pull/33943#issuecomment-3584097189) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#33891](https://github.com/bitcoin/bitcoin/pull/33891) (kernel: Expose reusable `PrecomputedTransactionData` in script validation by joshdoman)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\n\n\nPossible places where named args may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- taproot_spent_script_pubkey.Verify(88480, taproot_tx, spent_outputs, 1, ScriptVerificationFlags::ALL, status) in src/test/kernel/test_kernel.cpp\n- taproot_spent_script_pubkey.Verify(88480, taproot_tx, wrong_size_spent_outputs, 0, ScriptVerificationFlags::ALL, status) in src/test/kernel/test_kernel.cpp\n\n\n\n<sup>2025-11-25</sup>\n",
          "created_at": "2025-11-25T15:24:22Z"
        },
        {
          "user": "stringintech",
          "body": "Concept ACK on being more strict with using `assert`.\r\n\r\nI think it makes more sense for a public API to sanitize user input and communicate issues with the input, allowing for recovery and leave usages of `assert` for internal logical inconsistencies (library programmer errors that must never happen).\r\n\r\nRegarding the approach: I like what is suggested in https://github.com/bitcoin/bitcoin/pull/33943#discussion_r2561205810 (exposing the enum and having it as the return value). I'm still thinking about whether to differentiate invalid requests with different error codes or just have one code for all as you did.\r\n\r\nAlso, I remember at some point we had error codes instead of assertions for all cases of invalid user input in `btck_script_pubkey_verify()`: for example see https://github.com/TheCharlatan/bitcoin/blob/kernelApi_44/src/kernel/bitcoinkernel.cpp#L473. It would be good to go over/remember the rationale behind replacing some of them with assertions.",
          "created_at": "2025-11-26T10:52:30Z"
        },
        {
          "user": "sedited",
          "body": "I'm Concept ACK on improving the behaviour around bad input, but not sure about adding more error handling surface to the API with the current approach. In my opinion the cases addressed are all programming errors, and should be treated as such. The argument that this duplicates the error handling code for the wrappers is not convincing to me and the PR itself as it currently stands provides the counter argument for it - an out of bounds case is still added and handled by the respective language wrapper. This seems sane to me, since every language will have its unique convention and way for handling these cases - from returning a variant to throwing an exception. Along these lines, I also don't understand why the change here should make cross-bindings tests easier. \r\n\r\nMight a better approach be adding a custom argument checker? The secp library has some that do both assertions and allow for a user-defined override. Personally, I think we'd be fine with just assertions, but a macro that can be defined to wrap a user-defined function through a function pointer seems useful for both debugging and providing a way to unify behaviour across tests. \r\n\r\nEDIT:\r\nThis is the secp behaviour I mean: https://github.com/bitcoin-core/secp256k1/blob/master/src/secp256k1.c#L47\r\n",
          "created_at": "2025-11-26T13:05:30Z"
        },
        {
          "user": "yuvicc",
          "body": "Concept ACK on fixing input validation. Agree with @sedited here, not sure if we want to add more error handling to the API. I found the secp256k1 approach using `ARG_CHECK` macros through callback to be more straightforward and appropriate.",
          "created_at": "2025-11-27T03:50:58Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
          "created_at": "2025-12-27T17:42:54Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33942,
      "title": "RFC: Replacing `tinyformat` with `{fmt}`",
      "body": "# Description\n\nBitcoin Core has used tinyformat (via its `strprintf` wrapper) for text formatting for many years, a choice that reflected the library‚Äôs simplicity and its ability to be dropped into a large C++ codebase with minimal friction. Over time, the C++ standard and the ecosystem around formatting have evolved: `{fmt}` has become the de facto modern formatting library and served as the basis for `std::format` in later C++ standards. At the same time, a security and maintenance review of Tinyformat in the Bitcoin context revealed limitations that required ad-hoc fixes. Replacing tinyformat with `{fmt}` is therefore not merely an API swap; it is an alignment with modern C++ conventions, with a maintained codebase and stronger compile-time guarantees that reduce future maintenance cost.\n\nThe primary motivations for replacing `tinyformat` with `{fmt}` can be expressed in concrete, measurable terms. Benchmarks maintained by the `{fmt}` project and reproduced by early adopters show that `{fmt}` formats common workloads at speeds close to `printf` and substantially faster than `Tinyformat` (which relies on iostreams). In one commonly cited microbenchmark suite, `{fmt}` completes a heavy formatting loop in roughly 1.3‚Äì1.4 seconds while tinyformat finishes the same workload in roughly 2.25‚Äì2.6 seconds, which implies an empirical throughput improvement on the order of 1.6x to 2x for formatting-heavy tight loops. These measurements come from the `{fmt}` benchmark collection and independent reproductions of the original tinyformat benchmark.\n\nBeyond per-call speed, the difference in generated code and compile-time behavior is also material. The `{fmt}` project‚Äôs benchmark table reports much smaller stripped binaries and faster compile times for equivalent test programs: for a medium test scenario, `{fmt}` produced a stripped binary in the tens of kilobytes while the tinyformat/io-based alternative produced a binary in the low hundreds of kilobytes, and `{fmt}`‚Äôs measured compile times were lower than the iostream/tinyformat combination in the sample runs. These results indicate that adopting `{fmt}` can reduce the code-size impact of formatting and improve build characteristics on large codebases where formatting is used frequently.\n\n| Metric                                                     | `{fmt}` |                                                                `tinyformat` | `printf` / `iostream` (for reference) |\n| ---------------------------------------------------------- | ------: | --------------------------------------------------------------------------: | ------------------------------------: |\n| Execution time for a heavy formatting loop (2M iterations) |  1.42 s |                                                                      2.25 s | `printf` ~1.30 s, `iostream` ~1.85 s. |\n| Measured throughput improvement (tinyformat -> `{fmt}`)    |       ‚Äî |                                      `{fmt}` ~= 1.6x faster than tinyformat |                                     ‚Äî |\n| Stripped binary size for a medium test project             |  34 KiB |                                                                     386 KiB |                                     ‚Äî |\n| Compile time for that medium test project                  |  46.8 s |                                                                      64.6 s |                                     ‚Äî |\n| Approximate binary-size reduction (tinyformat -> `{fmt}`)  |       ‚Äî | `{fmt}` produces binaries ~11√ó smaller in this scenario (386 KiB -> 34 KiB) |                                     ‚Äî |\n\n> reference for benchmarks results from `{fmt}` team:  \n> https://github.com/fmtlib/fmt?tab=readme-ov-file#benchmarks\n\nIn addition to all of that, I think that will be a good step toward migrating to C++20 in the future, and we will be able to depend on the standard format library itself.\n\nThere were a lot of discussions to replace tinyformat with `{fmt}`, and I think the time has come to do that.",
      "state": "closed",
      "user": "hulxv",
      "created_at": "2025-11-25T10:34:05Z",
      "updated_at": "2025-11-25T12:06:17Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/issues/33942",
      "labels": [
        "Questions and Help"
      ],
      "comment_list": [
        {
          "user": "maflcko",
          "body": "> In addition to all of that, I think that will be a good step toward migrating to C++20 in the future, and we will be able to depend on the standard format library itself.\n\nC++20 is already used, so I'll go ahead and close this for now.\n\n\nI don't think there is value in switching `tinyformat` to `{fmt}` and then again to `std::format`, with all the churn.\n\nIf the switch is done, it should be straight to `std::format`.\n\nSo I'll close this for now, but the discussion can continue.",
          "created_at": "2025-11-25T11:30:20Z"
        },
        {
          "user": "maflcko",
          "body": "For further context: The current minimum required GCC version is 12.1 (https://github.com/bitcoin/bitcoin/blob/master/doc/dependencies.md#compiler), however `std::format` only comes with GCC libstdc++ 13.1",
          "created_at": "2025-11-25T11:33:51Z"
        },
        {
          "user": "hulxv",
          "body": "> For further context: The current minimum required GCC version is 12.1 (https://github.com/bitcoin/bitcoin/blob/master/doc/dependencies.md#compiler), however `std::format` only comes with GCC libstdc++ 13.1\n\nFor that, I thought about switching first to `{fmt}` and after that, we can switch to `std::format` easily when we bump the minimum required GCC version",
          "created_at": "2025-11-25T11:38:34Z"
        },
        {
          "user": "maflcko",
          "body": "Yes, I understand, but there are no meaningful user-visible benefits:\n\n* Performance does not matter, because formatting isn't done in hot loops\n* A few KiB of binary size don't matter, because the binary is several MiB in size\n\n",
          "created_at": "2025-11-25T11:43:23Z"
        },
        {
          "user": "hulxv",
          "body": "But from the developers' view, I think having features like compile-time error-checking and easy API and [other features](https://github.com/fmtlib/fmt?tab=readme-ov-file#features) will be helpful to have. At least it will make it a little bit easier. Maybe this is a little thing, but nice to have",
          "created_at": "2025-11-25T11:58:17Z"
        },
        {
          "user": "maflcko",
          "body": "There is compile-time error-checking already implemented for tinyformat in this codebase, so there is also no developer benefit of using `std::format` or `{fmt}`.",
          "created_at": "2025-11-25T12:06:17Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 4,
    "issues": 1
  }
}