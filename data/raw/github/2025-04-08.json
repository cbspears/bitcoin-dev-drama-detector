{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:31:21.138734+00:00",
  "date": "2025-04-08",
  "pull_requests": [
    {
      "number": 32240,
      "title": "feefrac test: avoid integer overflow (bugfix)",
      "body": "The `feefrac_mul_div` fuzz test fails after #30535 with the following (base64) input: `Nb6Fc/97AACAAAD/ewAAgAAAAIAAAACAAAAAoA==` (see https://cirrus-ci.com/task/5240029192126464?logs=ci#L3353).\r\n\r\nThis is caused by an internal multiplication inside `CFeeRate` that *just* exceeds the limit of the `int64_t` type. Fix that by tightening the bounds slightly further.",
      "state": "closed",
      "user": "sipa",
      "created_at": "2025-04-08T19:20:59Z",
      "updated_at": "2025-04-10T14:04:33Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/32240",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32240.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/32240#pullrequestreview-2753857151), [sr-gi](https://github.com/bitcoin/bitcoin/pull/32240#issuecomment-2790097522), [glozow](https://github.com/bitcoin/bitcoin/pull/32240#pullrequestreview-2754360991) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n",
          "created_at": "2025-04-08T19:21:02Z"
        },
        {
          "user": "sipa",
          "body": "cc @sr-gi ",
          "created_at": "2025-04-08T19:21:21Z"
        },
        {
          "user": "sipa",
          "body": "Thanks, Copilot.",
          "created_at": "2025-04-08T20:02:37Z"
        },
        {
          "user": "sr-gi",
          "body": "utACK a2bc330da86b604069308f5237b77cfa77ed2b43\r\n\r\nTrying to reproduce on my local setup, which is proving challenging (macOS).\r\n\r\nI'll report later if I'm able to trigger it",
          "created_at": "2025-04-09T15:21:19Z"
        },
        {
          "user": "sr-gi",
          "body": "post-merge ACK, was able to reproduce locally and verify it doesn't crash anymore after the patch",
          "created_at": "2025-04-10T14:04:32Z"
        }
      ]
    },
    {
      "number": 32239,
      "title": "Fix typos in release notes and test code",
      "body": "This PR fixes several typos in release notes documentation and test code:\r\n- Fix \"unusued\" to \"unused\" in release-notes-0.15.0.md\r\n- Fix \"wtxOrdered\" to \"wtxOrdered\" in release-notes-0.16.2.md\r\n- Fix \"mistmatch\" to \"mismatch\" in release-notes-0.16.2.md\r\n- Fix \"reseting\" to \"resetting\" in release-notes-0.16.2.md\r\n- Fix \"trunction\" to \"truncation\" in release-notes-0.18.0.md\r\n- Fix \"seperate\" to \"separate\" in release-notes-0.18.0.md\r\n- Fix \"unitialized\" to \"uninitialized\" in release-notes-0.18.0.md\r\n- Fix \"unintialized\" to \"uninitialized\" in release-notes-0.19.1.md\r\n- Fix \"interference\" to \"interference\" in mining_basic.py\r\n\r\nThese fixes improve documentation and code quality.",
      "state": "closed",
      "user": "leopardracer",
      "created_at": "2025-04-08T18:02:08Z",
      "updated_at": "2025-04-09T02:45:06Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/32239",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32239.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
          "created_at": "2025-04-08T18:02:11Z"
        },
        {
          "user": "DrahtBot",
          "body": "üìÅ Archived release notes are archived and should not be modified.",
          "created_at": "2025-04-08T18:02:17Z"
        }
      ]
    },
    {
      "number": 32238,
      "title": "qt, wallet: Convert uint256 to Txid",
      "body": "This is part of https://github.com/bitcoin/bitcoin/pull/32189.\r\n\r\nConverts all instances of transactions from `uint256` to `Txid` in the wallet, GUI, and related interfaces.",
      "state": "closed",
      "user": "marcofleon",
      "created_at": "2025-04-08T15:17:40Z",
      "updated_at": "2025-05-22T13:07:00Z",
      "comments": 16,
      "url": "https://github.com/bitcoin/bitcoin/pull/32238",
      "labels": [
        "Wallet"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32238.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2863362683), [achow101](https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2868051681), [furszy](https://github.com/bitcoin/bitcoin/pull/32238#pullrequestreview-2844335248) |\n| Concept ACK | [laanwj](https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2789056678), [hebasto](https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2789140867), [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/32238#pullrequestreview-2760981961), [yancyribbens](https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2816692394) |\n| Approach ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2811380510) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32523](https://github.com/bitcoin/bitcoin/pull/32523) (wallet: Remove watchonly behavior and isminetypes by achow101)\n* [#32501](https://github.com/bitcoin/bitcoin/pull/32501) (RPC: removeprunedfunds should take an array of txids by BrandonOdiwuor)\n* [#28201](https://github.com/bitcoin/bitcoin/pull/28201) (Silent Payments: sending by josibake)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n* [#27286](https://github.com/bitcoin/bitcoin/pull/27286) (wallet: Keep track of the wallet's own transaction outputs in memory by achow101)\n* [#21283](https://github.com/bitcoin/bitcoin/pull/21283) (Implement BIP 370 PSBTv2 by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-04-08T15:17:44Z"
        },
        {
          "user": "laanwj",
          "body": "Concept ACK",
          "created_at": "2025-04-09T09:46:35Z"
        },
        {
          "user": "hebasto",
          "body": "Concept ACK.",
          "created_at": "2025-04-09T10:10:29Z"
        },
        {
          "user": "marcofleon",
          "body": "Rebased after https://github.com/bitcoin/bitcoin/pull/32237. Ready to go!",
          "created_at": "2025-04-10T17:02:18Z"
        },
        {
          "user": "w0xlt",
          "body": "Approach ACK",
          "created_at": "2025-04-17T01:05:45Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/40737509570</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n",
          "created_at": "2025-04-17T16:05:57Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK 65fcfbb2b38bef20a58daa6c828c51890180611d - no changes except addressing style nits and adding missing includes.\r\n\r\nnit: some of the new `util/transaction_identifier.h` includes, such as in `interfaces/wallet.h` could have been a forward declaration instead to minize compile time",
          "created_at": "2025-04-18T18:15:28Z"
        },
        {
          "user": "yancyribbens",
          "body": "Concept ACK",
          "created_at": "2025-04-19T12:40:08Z"
        },
        {
          "user": "achow101",
          "body": "ACK 65fcfbb2b38bef20a58daa6c828c51890180611d",
          "created_at": "2025-05-03T00:31:30Z"
        },
        {
          "user": "laanwj",
          "body": "> Would be good to register this new type into the Qt's meta-object system. Look at the RegisterMetaTypes() function on src/qt/bitcoin.cpp.\r\n\r\nGood point. It's used in at least the `TransactionView::bumpedFee` signal, which might be broken now. \r\n\r\nIt's likely that adding only `Q_DECLARE_METATYPE(Txid)` at the top is enough as this was enough for uint256. ",
          "created_at": "2025-05-05T21:13:11Z"
        },
        {
          "user": "marcofleon",
          "body": "> Would be good to register this new type into the Qt's meta-object system.\r\n\r\nGood catch, thank you. Added it in.\r\n\r\n\r\n\r\n> It's likely that adding only `Q_DECLARE_METATYPE(Txid)` at the top is enough\r\n\r\nThanks, makes sense. I checked the Qt docs too and found this: \r\n\"Note that if you intend to use the type in queued signal and slot connections or in [QObject](https://doc.qt.io/qt-5/qobject.html)'s property system, you also have to call [qRegisterMetaType](https://doc.qt.io/qt-5/qmetatype.html#qRegisterMetaType-1)() since the names are resolved at runtime.\"\r\n\r\nI didn't see anywhere where a Txid is used in `invokeMethod` or `QueuedConnection` (assuming that's where to look), so I think just declaring it should be fine.",
          "created_at": "2025-05-06T13:25:22Z"
        },
        {
          "user": "hebasto",
          "body": "> > Would be good to register this new type into the Qt's meta-object system. Look at the RegisterMetaTypes() function on src/qt/bitcoin.cpp.\r\n> \r\n> Good point. It's used in at least the `TransactionView::bumpedFee` signal, which might be broken now.\r\n> \r\n> It's likely that adding only `Q_DECLARE_METATYPE(Txid)` at the top is enough as this was enough for uint256.\r\n\r\nI don't think it is necessary in Qt 6.\r\n\r\nSee: https://www.qt.io/blog/whats-new-in-qmetatype-qvariant",
          "created_at": "2025-05-06T13:33:54Z"
        },
        {
          "user": "marcofleon",
          "body": "Reverted the added `Q_DECLARE_METATYPE` following https://github.com/bitcoin/bitcoin/pull/32238#issuecomment-2854604811. I'm assuming a lot of the metatype code will be dropped eventually now that we use Qt 6.",
          "created_at": "2025-05-06T15:44:48Z"
        },
        {
          "user": "marcofleon",
          "body": "Rebased after https://github.com/bitcoin/bitcoin/pull/28710",
          "created_at": "2025-05-07T15:24:10Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK 0671d66a8ee07584fab6f1ddaaa188c6a4ac25c1, no changes since 65fcfbb2b38bef20a58daa6c828c51890180611d except rebase.",
          "created_at": "2025-05-08T14:59:05Z"
        },
        {
          "user": "achow101",
          "body": "ACK 0671d66a8ee07584fab6f1ddaaa188c6a4ac25c1\r\n\r\n> Good point. It's used in at least the `TransactionView::bumpedFee` signal, which might be broken now.\r\n\r\nTested that manually and it seems to work as expected. There is no change in visual behavior between this PR and master when fee bumping from the gui.",
          "created_at": "2025-05-09T23:13:35Z"
        }
      ]
    },
    {
      "number": 32237,
      "title": "qt: Update SetHexDeprecated to FromHex",
      "body": "This is part of https://github.com/bitcoin/bitcoin/pull/32189. I'm separating this out because it's not immediately obvious that it's just a refactor. `SetHexDeprecated()` doesn't do any correctness checks on the input, while `FromHex()` does, so it's theoretically possible that there's a behavior change.\r\n\r\nReplaces `uint256::SetHexDeprecated()` calls with `Txid::FromHex()` in four locations:\r\n- `TransactionTableModel::updateTransaction`\r\n- `TransactionView::contextualMenu`\r\n- `TransactionView::abandonTx`\r\n- `TransactionView::bumpFee`\r\n\r\nThe input strings in these cases aren't user input, so they should only be valid hex strings from `GetHex()` (through `TransactionRecord::getTxHash()`). These conversions should be safe without additional checks.",
      "state": "closed",
      "user": "marcofleon",
      "created_at": "2025-04-08T15:10:41Z",
      "updated_at": "2025-05-22T13:06:50Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/32237",
      "labels": [
        "GUI"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32237.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [laanwj](https://github.com/bitcoin/bitcoin/pull/32237#pullrequestreview-2754244975), [w0xlt](https://github.com/bitcoin/bitcoin/pull/32237#pullrequestreview-2754301428), [BrandonOdiwuor](https://github.com/bitcoin/bitcoin/pull/32237#pullrequestreview-2754705194), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/32237#pullrequestreview-2755785810), [hebasto](https://github.com/bitcoin/bitcoin/pull/32237#pullrequestreview-2756338266) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32238](https://github.com/bitcoin/bitcoin/pull/32238) (qt, wallet: Convert uint256 to Txid by marcofleon)\n* [#32189](https://github.com/bitcoin/bitcoin/pull/32189) (refactor: Txid type safety (parent PR) by marcofleon)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
          "created_at": "2025-04-08T15:10:45Z"
        },
        {
          "user": "marcofleon",
          "body": "@hebasto @furszy If you could look this over and make sure I didn't miss anything here, I would appreciate it.",
          "created_at": "2025-04-08T15:11:40Z"
        },
        {
          "user": "instagibbs",
          "body": "suggestion to maybe nuke that last usage of `SetHexDeprecated` and then just nuke it entirely?",
          "created_at": "2025-04-08T16:16:41Z"
        },
        {
          "user": "laanwj",
          "body": "> suggestion to maybe nuke that last usage of SetHexDeprecated and then just nuke it entirely?\r\n\r\nnuke it",
          "created_at": "2025-04-09T07:45:02Z"
        },
        {
          "user": "hebasto",
          "body": "Concept ACK.",
          "created_at": "2025-04-09T08:00:30Z"
        },
        {
          "user": "marcofleon",
          "body": "Pushed changes addressing @instagibbs and @laanwj 's suggestions. Let me know if I missed something.",
          "created_at": "2025-04-09T15:15:25Z"
        }
      ]
    },
    {
      "number": 32236,
      "title": ".",
      "body": "### **Pull Request Title:**  \r\n**Improve P2P address loading log message**  \r\n\r\n---\r\n\r\n### **Pull Request Description:**  \r\n#### **Summary**  \r\nThis PR improves the clarity of a log message in `src/init.cpp` by making it more descriptive.  \r\n\r\n#### **Change Details**  \r\n- Updated the log message from:  \r\n  ```cpp\r\n  LogPrintf(\"Loading P2P addresses...\\n\");\r\n  ```  \r\n  To:  \r\n  ```cpp\r\n  LogPrintf(\"Initializing: Loading stored P2P addresses from peers.dat...\\n\");\r\n  ```\r\n- The change helps developers understand that Bitcoin Core is loading stored peer addresses from `peers.dat`, instead of a generic \"Loading P2P addresses\" message.  \r\n\r\n#### **Why This Change?**  \r\n- Improves **readability and debugging clarity**.  \r\n- Provides **more context** about where the data is coming from (`peers.dat`).  \r\n- Helps developers and node operators interpret logs more accurately.\r\n\r\n",
      "state": "closed",
      "user": "Exploit5lover",
      "created_at": "2025-04-08T13:03:48Z",
      "updated_at": "2025-04-16T15:22:24Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/32236",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32236.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
          "created_at": "2025-04-08T13:03:52Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 32235,
      "title": "Tor: TX circuit isolation",
      "body": "Create an option that would forcefully terminate any connection that just sent a locally originating transaction.\n\n-proxyrandomize ensures that each connection corresponds to a tor circuit, therefore terminating connection = terminating circuit\n\nthe same circuit will not send more than 1 transaction. achieving desirable privacy properties.\n\nthis is a preferable solution to the proposed overengineered mess of https://github.com/bitcoin/bitcoin/pull/29415\n",
      "state": "open",
      "user": "learnwayback",
      "created_at": "2025-04-08T02:08:42Z",
      "updated_at": "2026-01-15T16:51:00Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/issues/32235",
      "labels": [
        "Feature"
      ],
      "comment_list": [
        {
          "user": "mzumsande",
          "body": "That doesn't seem private at all to me: Disconnecting right after sending your own tx  means telling your peer that this is likely a local tx, which is only acceptable if there is no other information they can connect it with:\n\nHere, they can probe for various kinds of information about your node in advance, and when you finally disconnect them after sending an own tx they can use that.\n\nAlso, the status quo is to send outgoing txns to all peers, in the tor-only case you'd drop all your peers at the same time without any adjustments such as in #29415 - this is very undesirable.",
          "created_at": "2025-04-08T03:57:53Z"
        },
        {
          "user": "learnwayback",
          "body": "> That doesn't seem private at all to me: Disconnecting right after sending your own tx means telling your peer that this is likely a local tx, which is only acceptable if there is no other information they can connect it with:\n> Here, they can probe for various kinds of information about your node in advance, and when you finally disconnect them after sending an own tx they can use that.\n\nIf your node is public (probed) then it seems to be too late to hide. TX circuit isolation only makes sense if you are running a probably small & pruned node behind tor for a private wallet and it's unreachable (-listen=0).\nI suppose public nodes may moonlight as private wallets but that strikes me as a bad idea (and maybe not addressable, as any deviation in behavior will leak information).\n\n> Also, the status quo is to send outgoing txns to all peers, in the tor-only case you'd drop all your peers at the same time without any adjustments such as in [#29415](https://github.com/bitcoin/bitcoin/pull/29415) - this is very undesirable.\n\nThis may indeed be a problem, sending behavior may need to be adjusted, send to one peer a time observing the status of the mempool in response (this may already be the default, wouldn't it resend if it doesn't go through?). In most cases a single send will be sufficient.\n",
          "created_at": "2025-04-08T05:44:32Z"
        },
        {
          "user": "vasild",
          "body": "> If your node is public (probed) then it seems to be too late to hide.\n\nWait. It is not that simple. I guess here you assume that if a node is \"public\" you mean \"is accepting inbound connections\". So, if a node is accepting inbound connections on a clearnet IPv4 address and on a an `.onion` address, then it could have been that a spy has correlated and linked the IPv4 address and the `.onion` address as belonging to the same node. That is true, it is too late to \"hide\" as in un-correlate those.\n\nBut. Tor connections do not have a source address, so the connections made by a node are not linked to its listening `.onion` address. Those outbound connections made by the node, even if without a source address could still be linked to the node (i.e. its IPv4 and `.onion` listening addresses) if the node leaks some information at the application level. Most blatant example is if the node is using a custom user agent string, e.g. \"Jonny's node\" and sends that as the greeting over the IPv4, inbound and outbound Tor connections.\n\nSo, outbound Tor connections are pretty anonymous at the network level (no source address) and if we are careful not to leak information at the application level then it is good for sending our own transactions. Best way to avoid application level leakage is to exchange the bare minimum of messages for sending the transaction - don't send anything extra and ignore incoming messages not related to the transaction send.\n\nIn addition it may happen that the transaction is sent to an adversary. They can hold it and start probing nodes' mempools to see which one has the transaction. So the current behavior of putting the transaction in the mempool upfront has to be changed.\n\nSo, have dedicated broadcast connections that do not leak info at the application level and don't put the transaction in the mempool upfront. This is exactly what https://github.com/bitcoin/bitcoin/pull/29415 does.\n\n> overengineered mess\n\nThank you for looking into https://github.com/bitcoin/bitcoin/pull/29415! Concrete ideas into how to simplify things are very much welcome!",
          "created_at": "2025-04-08T08:32:09Z"
        },
        {
          "user": "learnwayback",
          "body": "In that case wouldn't it be better to just treat local transactions as standalone events:\n\nWhenever the local bitcoin node is RPC'ed to send a transaction then pick a public node at random from a list, connect to it using a fresh circuit, send the transaction and close the circuit. If transaction doesn't show up in the mempool, repeat.",
          "created_at": "2025-04-08T18:41:46Z"
        },
        {
          "user": "mzumsande",
          "body": "> In that case wouldn't it be better to just treat local transactions as standalone events:\n> \n> Whenever the local bitcoin node is RPC'ed to send a transaction then pick a public node at random from a list, connect to it using a fresh circuit, send the transaction and close the circuit. If transaction doesn't show up in the mempool, repeat.\n\nThat's what #29415 does, what are you suggesting to do in a different way than proposed there?",
          "created_at": "2025-04-08T18:55:41Z"
        },
        {
          "user": "vasild",
          "body": "@learnwayback, yes, that is what https://github.com/bitcoin/bitcoin/pull/29415 tries to do, roughly. Now, some details could be different from what you describe, but they are up for discussion and improvement. For example what you describe is to send the transaction to 1 peer whereas https://github.com/bitcoin/bitcoin/pull/29415 sends to 3 peers \"at once\", right away, without waiting for an outcome. Then it waits to see if the transaction will enter the mempool from the outside and if not, then it retries after 10-15 minutes. These numbers \"3 peers\" and \"10-15 minutes\" are more or less arbitrary, it works with them, will probably work with others as well.\n\nIn my experiments (on mainnet) the transaction comes back in 2-3 seconds, sometimes before the node has completed sending it to all 3 initial peers. In that case, the e.g. 3rd connection is closed by the node before sending the transaction over it because it is not needed anymore. For these \"happy\" scenarios maybe it would be more optimal to send to 1 (or 2?) peer(s), wait a short period of time, e.g. 30 seconds and if not received back then retry to more peers, e.g. 5. That is, start small, optimistic and if it does not work, then increase the number of peers to send to during the retries. This would cause a delay in an \"unhappy\" scenario where the single recipient drops the transaction and does not resend it to the network for whatever reason (they are broken, or malicious or something else).",
          "created_at": "2025-04-09T08:34:37Z"
        },
        {
          "user": "learnwayback",
          "body": "My bad I must have misunderstood what the PR was doing (and saw the dozens of modifications it was doing).\n\n> transaction comes back in 2-3 seconds, sometimes before the node has completed sending it to all 3 initial peers. In that case, the e.g. 3rd connection is closed by the node before sending the transaction over it because it is not needed anymore\n\nThat is called a side channel information leakage, while it may seem improbable that it could get exploited better not to do it.\n\nDo not alter privacy sensitive behavior based on immediate feedback. Sending twice instead of three times may get correlated with a particular node getting a particular transaction for example.\n\nI would recommend sending to 1 random peer at a time and waiting a random number of seconds before sending it again if it did not come back (while other transactions did).\n\n",
          "created_at": "2025-04-09T17:19:40Z"
        },
        {
          "user": "andrewtoth",
          "body": "I suppose sending it to all 3 peers and not stopping early is the more reliable way.",
          "created_at": "2025-04-09T17:28:53Z"
        },
        {
          "user": "vasild",
          "body": "Implemented in https://github.com/bitcoin/bitcoin/pull/29415.",
          "created_at": "2026-01-15T16:51:00Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 5,
    "issues": 1
  }
}