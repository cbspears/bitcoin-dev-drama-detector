{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:39:00.564324+00:00",
  "date": "2025-12-11",
  "pull_requests": [
    {
      "number": 34051,
      "title": "log: Remove brittle and confusing LogPrintLevel",
      "body": "`LogPrintLevel` has many issues:\r\n\r\n* It encourages to log several levels in one source location. This is problematic, because all levels (even warnings and errors) will be rate limited equally for the same location.\r\n* Its warning and error logs are specially formatted compared to all other warning and error logs in the codebase, making them harder to spot (both in the debug log and in the code).\r\n* It is verbose to type and read.\r\n* It is confusing, because the majority of code uses the `Log$LEVEL(...)` macros. Having less ways to achieve the same makes the code more consistent and easier to review.\r\n\r\nFix all issues by removing it",
      "state": "closed",
      "user": "maflcko",
      "created_at": "2025-12-11T19:08:46Z",
      "updated_at": "2025-12-16T08:20:57Z",
      "comments": 7,
      "url": "https://github.com/bitcoin/bitcoin/pull/34051",
      "labels": [
        "Utils/log/libs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34051.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/34051#issuecomment-3649442978), [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/34051#pullrequestreview-3574394123), [ajtowns](https://github.com/bitcoin/bitcoin/pull/34051#issuecomment-3649770132) |\n| Stale ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/34051#pullrequestreview-3569919476), [rkrux](https://github.com/bitcoin/bitcoin/pull/34051#pullrequestreview-3571354142) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\r\n### Conflicts\r\nReviewers, this pull request conflicts with the following ones:\r\n\r\n* [#34038](https://github.com/bitcoin/bitcoin/pull/34038) (logging: API improvements by ajtowns)<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\n\n\nPossible places where named args for integral literals may be used (e.g. `func(x, /*named_arg=*/0)` in C++, and `func(x, named_arg=0)` in Python):\n\n- [LogTrace(BCLog::HTTP, \"trace_%s. This log level is lower than the global one.\", 2)] in src/test/logging_tests.cpp\n- [LogDebug(BCLog::HTTP, \"debug_%s\", 3)] in src/test/logging_tests.cpp\n- [LogDebug(BCLog::NET, \"debug_%s. This log level is the same as the global one but lower than the category-specific one, which takes precedence.\", 6)] in src/test/logging_tests.cpp\n\n\n\n<sup>2025-12-13</sup>\n",
          "created_at": "2025-12-11T19:08:55Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `Windows-cross to x86_64, msvcrt`: https://github.com/bitcoin/bitcoin/actions/runs/20144403035/job/57820697416</sub>\n<sub>LLM reason (‚ú® experimental): C++ syntax error in wallet/coinselection.cpp due to mismatched braces (missing/extra brace) causing end-of-input and cascading ‚Äúqualified-id ‚Ä¶ before '('‚Äù errors.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-12-11T19:15:22Z"
        },
        {
          "user": "Ataraxia009",
          "body": "This is good LogPrintLevel just leads to more confusion, standardise the macros!",
          "created_at": "2025-12-12T05:34:04Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK fa33a9f5be1beabfee6c217d133cc51dea3b9a63\r\n\r\nNo changes except improved self-documentation of test, ty!",
          "created_at": "2025-12-12T10:55:39Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `ASan + LSan + UBSan + integer`: https://github.com/bitcoin/bitcoin/actions/runs/20191670716/job/57969925072</sub>\n<sub>LLM reason (‚ú® experimental): i2p_tests failed due to an aborted subprocess caused by a SAM session error (Session was closed) during test execution.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-12-13T12:12:30Z"
        },
        {
          "user": "stickies-v",
          "body": "re-ACK fa8a5d215c5a81a7282fd5dd1098f9d3fa40e5db",
          "created_at": "2025-12-13T13:39:29Z"
        },
        {
          "user": "ajtowns",
          "body": "ACK fa8a5d215c5a81a7282fd5dd1098f9d3fa40e5db",
          "created_at": "2025-12-13T20:14:19Z"
        }
      ]
    },
    {
      "number": 34050,
      "title": "fuzz: exercise `ComputeMerkleRoot` without `mutated` parameter",
      "body": "The `mutated` parameter in `ComputeMerkleRoot` unlocks a different path that was always exercised in the fuzz test.\r\nAdjusted to be fuzzer to pass `nullptr` as well to make sure that path is also tested: https://github.com/bitcoin/bitcoin/blob/24ed820d4f0d8f7fa2f69e1909c2d98f809d2f94/src/consensus/merkle.cpp#L49-L53\r\n\r\nFollow-up to https://github.com/bitcoin/bitcoin/pull/33805#discussion_r2589073735",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-12-11T11:50:32Z",
      "updated_at": "2025-12-16T16:49:46Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/34050",
      "labels": [
        "Tests",
        "Fuzzing"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34050.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/34050#pullrequestreview-3567578900), [frankomosh](https://github.com/bitcoin/bitcoin/pull/34050#issuecomment-3642638996), [sedited](https://github.com/bitcoin/bitcoin/pull/34050#pullrequestreview-3582849446) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-12-11T11:50:43Z"
        },
        {
          "user": "frankomosh",
          "body": "ACK [7e9de20](https://github.com/bitcoin/bitcoin/pull/34050/commits/7e9de20c0c144f5ccea5efe6d90601dd72bc7461)\r\n\r\n",
          "created_at": "2025-12-11T16:06:00Z"
        }
      ]
    },
    {
      "number": 34049,
      "title": "rpc: Disallow captures in RPCMethodImpl",
      "body": "When defining `RPCHelpMan` objects, we usually return a lambda, and mostly we define those via `[&](...) { ... }` which explicitly captures any parameters or local variables by reference. If we were to actually use any of those captures (we don't), we would invoke undefined behaviour. So instead, convert all the `[&]` to `[]` to avoid capturing, and as part of `RPCHelpMan` check that the function we provide is convertible to a bare function pointer, so that any attempts to capture anything (even if it's by-copy, which is safe) results in an error.\r\n\r\nWhile we're at it, rename `RPCHelpMan` to `RPCMethod`, reflecting it's greater responsibility since #19386.",
      "state": "open",
      "user": "ajtowns",
      "created_at": "2025-12-11T03:25:25Z",
      "updated_at": "2026-01-03T05:59:34Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/34049",
      "labels": [
        "RPC/REST/ZMQ"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/34049.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32138](https://github.com/bitcoin/bitcoin/pull/32138) (wallet, rpc: remove settxfee and paytxfee by polespinasa)\n* [#29418](https://github.com/bitcoin/bitcoin/pull/29418) (rpc: provide per message stats for global traffic via new RPC 'getnetmsgstats' by vasild)\n* [#26201](https://github.com/bitcoin/bitcoin/pull/26201) (Remove Taproot activation height by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-12-11T03:25:34Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/actions/runs/20120913076/job/57740673204</sub>\n<sub>LLM reason (‚ú® experimental): clang-tidy failed due to a bugprone-move-forwarding-reference error (forwarding reference passed to std::move()), treated as a warning-as-error.</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-12-11T03:57:39Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--85328a0da195eb286784d51f73fa0af9-->\nüöß At least one of the CI tasks failed.\n<sub>Task `tidy`: https://github.com/bitcoin/bitcoin/actions/runs/20135737627/job/57788454545</sub>\n<sub>LLM reason (‚ú® experimental):  clang-tidy failed the CI due to a performance-move-const-arg error in spend.cpp (std::move on a const bool).</sub>\n\n<details><summary>Hints</summary>\n\nTry to run the tests locally, according to the documentation. However, a CI failure may still\nhappen due to a number of reasons, for example:\n\n* Possibly due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\n* A sanitizer issue, which can only be found by compiling with the sanitizer and running the\n  affected test.\n\n* An intermittent issue.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n</details>\n\n",
          "created_at": "2025-12-11T15:19:11Z"
        }
      ]
    }
  ],
  "issues": [],
  "summary": {
    "pull_requests": 3,
    "issues": 0
  }
}