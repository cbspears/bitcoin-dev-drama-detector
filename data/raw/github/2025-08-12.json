{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:05:48.214892+00:00",
  "date": "2025-08-12",
  "pull_requests": [
    {
      "number": 33179,
      "title": "doc: update wallet build instruction",
      "body": "Sqlite and the wallet are no longer optional, but they can still be opted out of. This PR updates the build instructions accordingly.\r\n\r\nUpdating this text now reduces churn in #31802.",
      "state": "closed",
      "user": "Sjors",
      "created_at": "2025-08-12T14:53:28Z",
      "updated_at": "2025-08-15T15:31:45Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33179",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33179.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/33179#pullrequestreview-3112159763), [pablomartin4btc](https://github.com/bitcoin/bitcoin/pull/33179#pullrequestreview-3112515502), [jonatack](https://github.com/bitcoin/bitcoin/pull/33179#issuecomment-3181009891), [janb84](https://github.com/bitcoin/bitcoin/pull/33179#pullrequestreview-3121582129), [achow101](https://github.com/bitcoin/bitcoin/pull/33179#issuecomment-3189411551) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#31802](https://github.com/bitcoin/bitcoin/pull/31802) (Add bitcoin-{node,gui} to release binaries for IPC by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-12T14:53:33Z"
        },
        {
          "user": "Sjors",
          "body": "Applied @jonatack's suggestions.\r\n\r\nI slightly reworded the commit message, since technically sqlite is still optional. However since the default cmake incantation will fail without it installed, I do think it's best to move up and out of the \"Optional Dependencies\" section.",
          "created_at": "2025-08-12T17:42:26Z"
        },
        {
          "user": "jonatack",
          "body": "ACK 67e186deb01749ec6a3691d0b763bdc89ab2328f",
          "created_at": "2025-08-12T20:59:56Z"
        },
        {
          "user": "Sjors",
          "body": "> or the other way around?\r\n\r\nThis section feels superfluous at this point, I think it was historically more relevant because BDB was a pain to compile. But I'd rather not do that in this PR.\r\n\r\n> the Windows build docs \r\n\r\nIPC doesn't work on Windows (yet), so I haven't touched those docs at all. I also can't test Windows at the moment.",
          "created_at": "2025-08-13T09:41:53Z"
        },
        {
          "user": "achow101",
          "body": "ACK 67e186deb01749ec6a3691d0b763bdc89ab2328f",
          "created_at": "2025-08-14T18:05:50Z"
        }
      ]
    },
    {
      "number": 33178,
      "title": "guix: increase maximum allowed (runtime) GCC to 7",
      "body": "Fixes:\r\n```bash\r\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoind: symbol __divmodti4 from unsupported version GCC_7.0.0(14)\r\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoind: failed IMPORTED_SYMBOLS\r\n```\r\n\r\nwhich is occuring after #32750. I can't see any supported distro that is shipping a new enough glibc (2.31), but a GCC older than 7.0.\r\n\r\nFixes #33177.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-08-12T13:48:02Z",
      "updated_at": "2025-08-13T08:14:23Z",
      "comments": 5,
      "url": "https://github.com/bitcoin/bitcoin/pull/33178",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33178.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33178#pullrequestreview-3111791033) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-12T13:48:08Z"
        },
        {
          "user": "sipa",
          "body": "Makes sense, GCC 7 is from 2017, Glibc 2.31 is from 2020.",
          "created_at": "2025-08-12T13:50:52Z"
        },
        {
          "user": "fanquake",
          "body": "Guix Build:\r\n```bash\r\n6c40d925b16cf05dad6933cce25c5fd86800b0cb4f947e5cf86f271d028267ae  guix-build-776a16337416/output/aarch64-linux-gnu/SHA256SUMS.part\r\n17b90d50a6f9eb9ca9d5282f3bd85e01d91bcf92ff4980b437df3b98b14ef1a7  guix-build-776a16337416/output/aarch64-linux-gnu/bitcoin-776a16337416-aarch64-linux-gnu-debug.tar.gz\r\n4fcdcad6b02d63b68e213c03552828bd59fd84f86f1d886aeac6b5413170b67e  guix-build-776a16337416/output/aarch64-linux-gnu/bitcoin-776a16337416-aarch64-linux-gnu.tar.gz\r\n7ddf096c6d23c2e1bd9baf845bd36a7da4fcb164f5ca612a86dcc51fb04c56d5  guix-build-776a16337416/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n1513ff292c3bc48e3195fd03a23beba28eebc39c3d58a9efab733bf29b01b940  guix-build-776a16337416/output/arm-linux-gnueabihf/bitcoin-776a16337416-arm-linux-gnueabihf-debug.tar.gz\r\nd4f669abb67e4a393aee37040cd7e67c4eee2db1b4c5a2e04bc71b3176fd528f  guix-build-776a16337416/output/arm-linux-gnueabihf/bitcoin-776a16337416-arm-linux-gnueabihf.tar.gz\r\nd9056c22887d06066de4f6dae3bc547d4ea6e01c1e56576b507a28b6d51f49fb  guix-build-776a16337416/output/arm64-apple-darwin/SHA256SUMS.part\r\na1cf279bc8fd41c691c68fa27eef5835807df74bfcb12ad04a6ab82261d33f4e  guix-build-776a16337416/output/arm64-apple-darwin/bitcoin-776a16337416-arm64-apple-darwin-codesigning.tar.gz\r\n92d3e3fc63d49f442c62e35318a71390311459f6a77792ee198b387e16c9ada4  guix-build-776a16337416/output/arm64-apple-darwin/bitcoin-776a16337416-arm64-apple-darwin-unsigned.tar.gz\r\n1601fb3c4fc4fbc3068fd86451fdfcd773c6b80b5c2a1ee4fb202099b13b6455  guix-build-776a16337416/output/arm64-apple-darwin/bitcoin-776a16337416-arm64-apple-darwin-unsigned.zip\r\n134539b3596d9252c41ede17c6455423b46be7db06a592b3dd33ec21d4c4ba0b  guix-build-776a16337416/output/dist-archive/bitcoin-776a16337416.tar.gz\r\n8a969c87ab993543f959df482424e05cb3d865d7b347b60c29beb184fa4ea125  guix-build-776a16337416/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n79daf29c9982cfdcda42989aa7a518bb4f8d5a00dc26061e8a54c76fab2f159f  guix-build-776a16337416/output/powerpc64-linux-gnu/bitcoin-776a16337416-powerpc64-linux-gnu-debug.tar.gz\r\ne03c5f6d02267fdfb00b77f6f21aeb1f6811c61dba06fa545028148db80a2226  guix-build-776a16337416/output/powerpc64-linux-gnu/bitcoin-776a16337416-powerpc64-linux-gnu.tar.gz\r\n93a11e8f68543339ae56ee9a91fda8c2e7255b9bbab6b5490d2c17b620d0f8c8  guix-build-776a16337416/output/riscv64-linux-gnu/SHA256SUMS.part\r\nf9a15a01f9d18db7107603196da371b8683c17bd9e5fa610b6f5d2661555e504  guix-build-776a16337416/output/riscv64-linux-gnu/bitcoin-776a16337416-riscv64-linux-gnu-debug.tar.gz\r\n4e737781d4bef661c6beca109fac72e3e9a40860fa2d7532acf09a4a5365e6cb  guix-build-776a16337416/output/riscv64-linux-gnu/bitcoin-776a16337416-riscv64-linux-gnu.tar.gz\r\n13cfaef707a3d1cc2ea288e75cb9c9fa4bfa14f2c29c6c9d166879c914986c20  guix-build-776a16337416/output/x86_64-apple-darwin/SHA256SUMS.part\r\na4c2b1fed6be581ab46c1c6e75a594cbdee01ee8fd9c045cc2bdbcdce47c43d3  guix-build-776a16337416/output/x86_64-apple-darwin/bitcoin-776a16337416-x86_64-apple-darwin-codesigning.tar.gz\r\ndc0570f403075ac09f79686772b6be87c2627ef98079810e58b727958ca39264  guix-build-776a16337416/output/x86_64-apple-darwin/bitcoin-776a16337416-x86_64-apple-darwin-unsigned.tar.gz\r\n971c7c807838dcce4b8d5c446dd37dce59f5513498a969cc47f56c29941e230a  guix-build-776a16337416/output/x86_64-apple-darwin/bitcoin-776a16337416-x86_64-apple-darwin-unsigned.zip\r\n7f4d0446ca52b2da4e135ab217b51c7b5a89b0e9bc79b3f83fd3fe84cf56e234  guix-build-776a16337416/output/x86_64-linux-gnu/SHA256SUMS.part\r\n8fc616f36098a2a53ebf8eb6aaec1f240ddbc2030914d0b09ab6e34fa2996ed1  guix-build-776a16337416/output/x86_64-linux-gnu/bitcoin-776a16337416-x86_64-linux-gnu-debug.tar.gz\r\nb45c28dd227ab5b86ec661074e1a110aa6fbd7578452ccb6b2828a4a4efdf614  guix-build-776a16337416/output/x86_64-linux-gnu/bitcoin-776a16337416-x86_64-linux-gnu.tar.gz\r\n19bac66e5624c0144af2f5f6753eec834bf1dbc1ac07042b21ffa046d84f53a6  guix-build-776a16337416/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n7b172c5d9874a089c55645989ee552cb43847e38df09f03f1eb9e26cdb963f39  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-codesigning.tar.gz\r\n57f712741682507739b22cad7f7bf925769aa1db03cbca0ab7ca6d80b5df39ff  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-debug.zip\r\n65d462bf3b237c36d71766c0c80cc9aceebb75a531c075040c325205bf178d55  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-setup-unsigned.exe\r\ndd77058d02c4a52fc3928973f567c8ec849f55f20d0821faf7af62f2b747a250  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-unsigned.zip\r\n```",
          "created_at": "2025-08-12T14:51:00Z"
        },
        {
          "user": "Sjors",
          "body": "```\r\n6c40d925b16cf05dad6933cce25c5fd86800b0cb4f947e5cf86f271d028267ae  guix-build-776a16337416/output/aarch64-linux-gnu/SHA256SUMS.part\r\n17b90d50a6f9eb9ca9d5282f3bd85e01d91bcf92ff4980b437df3b98b14ef1a7  guix-build-776a16337416/output/aarch64-linux-gnu/bitcoin-776a16337416-aarch64-linux-gnu-debug.tar.gz\r\n4fcdcad6b02d63b68e213c03552828bd59fd84f86f1d886aeac6b5413170b67e  guix-build-776a16337416/output/aarch64-linux-gnu/bitcoin-776a16337416-aarch64-linux-gnu.tar.gz\r\n7ddf096c6d23c2e1bd9baf845bd36a7da4fcb164f5ca612a86dcc51fb04c56d5  guix-build-776a16337416/output/arm-linux-gnueabihf/SHA256SUMS.part\r\n1513ff292c3bc48e3195fd03a23beba28eebc39c3d58a9efab733bf29b01b940  guix-build-776a16337416/output/arm-linux-gnueabihf/bitcoin-776a16337416-arm-linux-gnueabihf-debug.tar.gz\r\nd4f669abb67e4a393aee37040cd7e67c4eee2db1b4c5a2e04bc71b3176fd528f  guix-build-776a16337416/output/arm-linux-gnueabihf/bitcoin-776a16337416-arm-linux-gnueabihf.tar.gz\r\nd9056c22887d06066de4f6dae3bc547d4ea6e01c1e56576b507a28b6d51f49fb  guix-build-776a16337416/output/arm64-apple-darwin/SHA256SUMS.part\r\na1cf279bc8fd41c691c68fa27eef5835807df74bfcb12ad04a6ab82261d33f4e  guix-build-776a16337416/output/arm64-apple-darwin/bitcoin-776a16337416-arm64-apple-darwin-codesigning.tar.gz\r\n92d3e3fc63d49f442c62e35318a71390311459f6a77792ee198b387e16c9ada4  guix-build-776a16337416/output/arm64-apple-darwin/bitcoin-776a16337416-arm64-apple-darwin-unsigned.tar.gz\r\n1601fb3c4fc4fbc3068fd86451fdfcd773c6b80b5c2a1ee4fb202099b13b6455  guix-build-776a16337416/output/arm64-apple-darwin/bitcoin-776a16337416-arm64-apple-darwin-unsigned.zip\r\n134539b3596d9252c41ede17c6455423b46be7db06a592b3dd33ec21d4c4ba0b  guix-build-776a16337416/output/dist-archive/bitcoin-776a16337416.tar.gz\r\n8a969c87ab993543f959df482424e05cb3d865d7b347b60c29beb184fa4ea125  guix-build-776a16337416/output/powerpc64-linux-gnu/SHA256SUMS.part\r\n79daf29c9982cfdcda42989aa7a518bb4f8d5a00dc26061e8a54c76fab2f159f  guix-build-776a16337416/output/powerpc64-linux-gnu/bitcoin-776a16337416-powerpc64-linux-gnu-debug.tar.gz\r\ne03c5f6d02267fdfb00b77f6f21aeb1f6811c61dba06fa545028148db80a2226  guix-build-776a16337416/output/powerpc64-linux-gnu/bitcoin-776a16337416-powerpc64-linux-gnu.tar.gz\r\n93a11e8f68543339ae56ee9a91fda8c2e7255b9bbab6b5490d2c17b620d0f8c8  guix-build-776a16337416/output/riscv64-linux-gnu/SHA256SUMS.part\r\nf9a15a01f9d18db7107603196da371b8683c17bd9e5fa610b6f5d2661555e504  guix-build-776a16337416/output/riscv64-linux-gnu/bitcoin-776a16337416-riscv64-linux-gnu-debug.tar.gz\r\n4e737781d4bef661c6beca109fac72e3e9a40860fa2d7532acf09a4a5365e6cb  guix-build-776a16337416/output/riscv64-linux-gnu/bitcoin-776a16337416-riscv64-linux-gnu.tar.gz\r\n13cfaef707a3d1cc2ea288e75cb9c9fa4bfa14f2c29c6c9d166879c914986c20  guix-build-776a16337416/output/x86_64-apple-darwin/SHA256SUMS.part\r\na4c2b1fed6be581ab46c1c6e75a594cbdee01ee8fd9c045cc2bdbcdce47c43d3  guix-build-776a16337416/output/x86_64-apple-darwin/bitcoin-776a16337416-x86_64-apple-darwin-codesigning.tar.gz\r\ndc0570f403075ac09f79686772b6be87c2627ef98079810e58b727958ca39264  guix-build-776a16337416/output/x86_64-apple-darwin/bitcoin-776a16337416-x86_64-apple-darwin-unsigned.tar.gz\r\n971c7c807838dcce4b8d5c446dd37dce59f5513498a969cc47f56c29941e230a  guix-build-776a16337416/output/x86_64-apple-darwin/bitcoin-776a16337416-x86_64-apple-darwin-unsigned.zip\r\n7f4d0446ca52b2da4e135ab217b51c7b5a89b0e9bc79b3f83fd3fe84cf56e234  guix-build-776a16337416/output/x86_64-linux-gnu/SHA256SUMS.part\r\n8fc616f36098a2a53ebf8eb6aaec1f240ddbc2030914d0b09ab6e34fa2996ed1  guix-build-776a16337416/output/x86_64-linux-gnu/bitcoin-776a16337416-x86_64-linux-gnu-debug.tar.gz\r\nb45c28dd227ab5b86ec661074e1a110aa6fbd7578452ccb6b2828a4a4efdf614  guix-build-776a16337416/output/x86_64-linux-gnu/bitcoin-776a16337416-x86_64-linux-gnu.tar.gz\r\n19bac66e5624c0144af2f5f6753eec834bf1dbc1ac07042b21ffa046d84f53a6  guix-build-776a16337416/output/x86_64-w64-mingw32/SHA256SUMS.part\r\n7b172c5d9874a089c55645989ee552cb43847e38df09f03f1eb9e26cdb963f39  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-codesigning.tar.gz\r\n57f712741682507739b22cad7f7bf925769aa1db03cbca0ab7ca6d80b5df39ff  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-debug.zip\r\n65d462bf3b237c36d71766c0c80cc9aceebb75a531c075040c325205bf178d55  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-setup-unsigned.exe\r\ndd77058d02c4a52fc3928973f567c8ec849f55f20d0821faf7af62f2b747a250  guix-build-776a16337416/output/x86_64-w64-mingw32/bitcoin-776a16337416-win64-unsigned.zip\r\n```",
          "created_at": "2025-08-12T16:25:30Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit 273e600e65c2e31a6e9a0bd72b40672aaa503b08<br>(master) | commit ef4abd69e51a840ad6a74e6115a07ac288c8662c<br>(pull/33178/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz |  | [`3f175c0131c6163a...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz |  | [`9140b316e0ccc7ad...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz |  | [`5fe2c0f4382959e9...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz |  | [`7ea6ca51a3fcf902...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz |  | [`2cf2fa5d358db6b4...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz |  | [`3dc375bfaaf67853...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip |  | [`76b983a06bb46fd4...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz |  | [`86794c94a449e109...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz |  | [`e0222436a698a037...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz |  | [`aa773e1e429cd130...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz |  | [`9bf764d8e477b6c1...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz |  | [`063f2b45b218eed2...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz |  | [`018732a3a85184fe...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip |  | [`700b0f6bbdd56b23...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz |  | [`42437cfe08850b56...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz |  | [`ef42fb24a9a2b543...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`d39fe80ecf7f0cf3...`](https://drahtbot.space/guix/monotree/273e600e65c2e31a6e9a0bd72b40672aaa503b08/bitcoin-273e600e65c2.tar.gz) | [`8b83292527157533...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/bitcoin-ef4abd69e51a.tar.gz) |\n| SHA256SUMS.part |  | [`1fd34e26b80d215b...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/SHA256SUMS.part) |\n| guix_build.log | [`88bc352044af2ee8...`](https://drahtbot.space/guix/monotree/273e600e65c2e31a6e9a0bd72b40672aaa503b08/guix_build.log) | [`8c3fadc9da0d39ca...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/guix_build.log) |\n| guix_build.log.diff |  | [`0126e49c5dd85c7f...`](https://drahtbot.space/guix/monotree/ef4abd69e51a840ad6a74e6115a07ac288c8662c/guix_build.log.diff) |\n\n",
          "created_at": "2025-08-13T00:58:06Z"
        }
      ]
    },
    {
      "number": 33175,
      "title": "ci: bump actions/checkout to v5",
      "body": "Node 24 compatibility: switch all jobs to actions/checkout@v5. Requires runner v2.327.1+. Pure maintenance, behavior unchanged.\n\nRef: https://github.com/actions/checkout/releases/tag/v5.0.0",
      "state": "closed",
      "user": "rejected-l",
      "created_at": "2025-08-12T07:14:12Z",
      "updated_at": "2025-08-12T07:15:39Z",
      "comments": 1,
      "url": "https://github.com/bitcoin/bitcoin/pull/33175",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33175.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-12T07:14:17Z"
        }
      ]
    },
    {
      "number": 33174,
      "title": "Add startup log message for initialization confirmation",
      "body": "Summary\r\nAdds a simple log message in AppInitMain to confirm successful initialization.\r\n\r\nMotivation\r\nThis change is a minimal, non-invasive modification aimed at validating the contribution workflow for Bitcoin Core. It serves as a first step toward becoming familiar with the repository structure, build process, branching, and the Pull Request review process.\r\n\r\nDetails\r\n\r\n    Added a LogPrintf call inside AppInitMain.\r\n\r\n    No functional behavior changes.\r\n\r\n    Purely informational, visible in the startup logs.\r\n\r\nTesting\r\n\r\n    Compiled successfully on regtest.\r\n\r\n    Verified that the log message appears during node startup.",
      "state": "closed",
      "user": "jderibamar",
      "created_at": "2025-08-12T01:52:10Z",
      "updated_at": "2025-08-12T14:24:27Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/pull/33174",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33174.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept NACK | [l0rinc](https://github.com/bitcoin/bitcoin/pull/33174#issuecomment-3177467915) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-08-12T01:52:14Z"
        },
        {
          "user": "l0rinc",
          "body": "NACK",
          "created_at": "2025-08-12T02:15:55Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33177,
      "title": "Guix builds are broken",
      "body": "The recently merged https://github.com/bitcoin/bitcoin/pull/32750 broke the Guix build on an aarch64 machine:\n```\nRunning symbol and dynamic library checks...\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoind: symbol __divmodti4 from unsupported version GCC_7.0.0(14)\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoind: failed IMPORTED_SYMBOLS\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoin-qt: symbol __divmodti4 from unsupported version GCC_7.0.0(17)\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoin-qt: failed IMPORTED_SYMBOLS\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoin-wallet: symbol __divmodti4 from unsupported version GCC_7.0.0(17)\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/bitcoin-wallet: failed IMPORTED_SYMBOLS\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/test_bitcoin: symbol __divmodti4 from unsupported version GCC_7.0.0(16)\n/distsrc-base/distsrc-d3b8a54a8120-x86_64-linux-gnu/build/bin/test_bitcoin: failed IMPORTED_SYMBOLS\nmake[3]: *** [CMakeFiles/check-symbols.dir/build.make:71: CMakeFiles/check-symbols] Error 1\nmake[2]: *** [CMakeFiles/Makefile2:371: CMakeFiles/check-symbols.dir/all] Error 2\nmake[1]: *** [CMakeFiles/Makefile2:378: CMakeFiles/check-symbols.dir/rule] Error 2\nmake: *** [Makefile:179: check-symbols] Error 2\n```",
      "state": "closed",
      "user": "hebasto",
      "created_at": "2025-08-12T13:07:05Z",
      "updated_at": "2025-08-13T08:15:10Z",
      "comments": 2,
      "url": "https://github.com/bitcoin/bitcoin/issues/33177",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "Sjors",
          "body": "Also happens on my AMD x86_64 machine (tested on master @ ec484bd5ce437bde29f35a77d23c771468828e25)",
          "created_at": "2025-08-12T15:32:26Z"
        },
        {
          "user": "henricorico",
          "body": "Hey man, that __divmodti4 error pops up because the GCC version used to build your binaries doesnâ€™t match what your systemâ€™s expecting. So the libraries clash, and you get those symbol errors.\nTo fix it, you gotta line up your compiler and system libs â€” either update your GCC and glibc to newer versions that support those symbols, or use an older compiler version that fits whatâ€™s installed.\nSometimes switching from gcc to clang helps, â€˜cause clang doesnâ€™t always run into these symbol issues.\nIf the build system lets you, you can also try turning off the symbol checks with a flag, just to skip that step.\nIf itâ€™s a mess, the safest bet is to use a Docker container or some isolated environment set up with the right versions, so everythingâ€™s in sync.\nBottom line: your compiler, libs, and system gotta speak the same language.",
          "created_at": "2025-08-12T15:49:25Z"
        }
      ]
    },
    {
      "number": 33176,
      "title": "build: indefinite mpgen hang on Ubuntu 22.04",
      "body": "Noticed this while looking at #31802, but the same happens on master (273e600e65c2e31a6e9a0bd72b40672aaa503b08).\n\n```bash\n# podman run -it ubuntu:22.04 /bin/bash\n\napt update && apt upgrade -y && apt install build-essential cmake pkgconf python3 git libevent-dev libboost-dev libsqlite3-dev libcapnp-dev capnproto -y\n\ngit clone https://github.com/bitcoin/bitcoin\n\ncd bitcoin\ncmake -B build -DENABLE_IPC=ON\ncmake --build build \n```\nThe build never completes. It hangs indefinitely doing capnp generation:\n```bash\ncmake --build build -j10\n[  1%] Built target crc32c\n[  1%] Generating bitcoin-build-info.h\n[  1%] Built target secp256k1_precomputed\n[  1%] Built target mputil\n[  2%] Built target univalue\n[  4%] Built target bitcoin_consensus\n[  7%] Built target bitcoin_crypto\n[ 10%] Built target minisketch\n[ 10%] Built target bitcoin_cli\n[ 10%] Built target exhaustive_tests\n[ 16%] Built target leveldb\n[ 26%] Built target unitester\n[ 26%] Built target mpgen\n[ 26%] Built target object\n[ 27%] Built target multiprocess\n[ 28%] Built target secp256k1\n[ 28%] Built target noverify_tests\n[ 28%] Generating capnp/mining.capnp.c++, capnp/mining.capnp.h, capnp/mining.capnp.proxy-client.c++, capnp/mining.capnp.proxy-types.h, capnp/mining.capnp.proxy-server.c++, capnp/mining.capnp.proxy-types.c++, capnp/mining.capnp.proxy.h\n[ 28%] Generating capnp/init.capnp.c++, capnp/init.capnp.h, capnp/init.capnp.proxy-client.c++, capnp/init.capnp.proxy-types.h, capnp/init.capnp.proxy-server.c++, capnp/init.capnp.proxy-types.c++, capnp/init.capnp.proxy.h\n[ 28%] Generating capnp/echo.capnp.c++, capnp/echo.capnp.h, capnp/echo.capnp.proxy-client.c++, capnp/echo.capnp.proxy-types.h, capnp/echo.capnp.proxy-server.c++, capnp/echo.capnp.proxy-types.c++, capnp/echo.capnp.proxy.h\n[ 28%] Generating capnp/common.capnp.c++, capnp/common.capnp.h, capnp/common.capnp.proxy-client.c++, capnp/common.capnp.proxy-types.h, capnp/common.capnp.proxy-server.c++, capnp/common.capnp.proxy-types.c++, capnp/common.capnp.proxy.h\n[ 28%] Generating mp/test/foo.capnp.c++, mp/test/foo.capnp.h, mp/test/foo.capnp.proxy-client.c++, mp/test/foo.capnp.proxy-types.h, mp/test/foo.capnp.proxy-server.c++, mp/test/foo.capnp.proxy-types.c++, mp/test/foo.capnp.proxy.h\n[ 28%] Built target tests\n[ 28%] Generating capnp/echo.capnp.c++, capnp/echo.capnp.h, capnp/echo.capnp.proxy-client.c++, capnp/echo.capnp.proxy-types.h, capnp/echo.capnp.proxy-server.c++, capnp/echo.capnp.proxy-types.c++, capnp/echo.capnp.proxy.h\n[ 28%] Generating capnp/common.capnp.c++, capnp/common.capnp.h, capnp/common.capnp.proxy-client.c++, capnp/common.capnp.proxy-types.h, capnp/common.capnp.proxy-server.c++, capnp/common.capnp.proxy-types.c++, capnp/common.capnp.proxy.h\n[ 32%] Built target test_util\n[ 32%] Generating capnp/init.capnp.c++, capnp/init.capnp.h, capnp/init.capnp.proxy-client.c++, capnp/init.capnp.proxy-types.h, capnp/init.capnp.proxy-server.c++, capnp/init.capnp.proxy-types.c++, capnp/init.capnp.proxy.h\n[ 32%] Generating capnp/mining.capnp.c++, capnp/mining.capnp.h, capnp/mining.capnp.proxy-client.c++, capnp/mining.capnp.proxy-types.h, capnp/mining.capnp.proxy-server.c++, capnp/mining.capnp.proxy-types.c++, capnp/mining.capnp.proxy.h\n[ 32%] Built target generate_build_info\n[ 37%] Built target bitcoin_wallet\n[ 37%] Built target bitcoin_clientversion\n[ 46%] Built target bitcoin_common\n[ 52%] Built target bitcoin_util\n[ 67%] Built target bitcoin_node\n[ 67%] Built target bitcoin-cli\n[ 67%] Built target bitcoin-tx\n[ 67%] Built target bitcoin-util\n[ 68%] Built target bitcoin-wallet\n[ 68%] Built target bitcoin\n[ 68%] Built target bitcoind\n```",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-08-12T08:52:12Z",
      "updated_at": "2025-09-08T09:42:55Z",
      "comments": 20,
      "url": "https://github.com/bitcoin/bitcoin/issues/33176",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "willcl-ark",
          "body": "I also see the sameinfinite hang:\n\n```log\n[ 33%] Generating mp/test/foo.capnp.c++, mp/test/foo.capnp.h, mp/test/foo.capnp.proxy-client.c++, mp/test/foo.capnp.proxy-types.h, mp/test/foo.capnp.proxy-server.c++, mp/test/foo.capnp.proxy-types.c++, mp/test/foo.capnp.proxy.h\n[ 33%] Generating capnp/mining.capnp.c++, capnp/mining.capnp.h, capnp/mining.capnp.proxy-client.c++, capnp/mining.capnp.proxy-types.h, capnp/mining.capnp.proxy-server.c++, capnp/mining.capnp.proxy-types.c++, capnp/mining.capnp.proxy.h\n[ 33%] Generating capnp/echo.capnp.c++, capnp/echo.capnp.h, capnp/echo.capnp.proxy-client.c++, capnp/echo.capnp.proxy-types.h, capnp/echo.capnp.proxy-server.c++, capnp/echo.capnp.proxy-types.c++, capnp/echo.capnp.proxy.h\n[ 33%] Generating capnp/common.capnp.c++, capnp/common.capnp.h, capnp/common.capnp.proxy-client.c++, capnp/common.capnp.proxy-types.h, capnp/common.capnp.proxy-server.c++, capnp/common.capnp.proxy-types.c++, capnp/common.capnp.proxy.h\n[ 33%] Generating capnp/init.capnp.c++, capnp/init.capnp.h, capnp/init.capnp.proxy-client.c++, capnp/init.capnp.proxy-types.h, capnp/init.capnp.proxy-server.c++, capnp/init.capnp.proxy-types.c++, capnp/init.capnp.proxy.h\n[ 33%] Generating capnp/mining.capnp.c++, capnp/mining.capnp.h, capnp/mining.capnp.proxy-client.c++, capnp/mining.capnp.proxy-types.h, capnp/mining.capnp.proxy-server.c++, capnp/mining.capnp.proxy-types.c++, capnp/mining.capnp.proxy.h\n[ 33%] Built target generate_build_info\nConsolidate compiler generated dependencies of target bitcoin_clientversion\nConsolidate compiler generated dependencies of target bitcoin_util\n[ 33%] Built target bitcoin_clientversion\nConsolidate compiler generated dependencies of target bitcoin_common\nConsolidate compiler generated dependencies of target bitcoin_wallet\n[ 38%] Built target bitcoin_util\nConsolidate compiler generated dependencies of target bitcoin_node\nConsolidate compiler generated dependencies of target bitcoin\n[ 38%] Built target bitcoin\n[ 47%] Built target bitcoin_common\n[ 47%] Building CXX object src/CMakeFiles/bitcoin-cli.dir/bitcoin-cli.cpp.o\n[ 47%] Building CXX object src/CMakeFiles/bitcoin-util.dir/bitcoin-util.cpp.o\n[ 47%] Building CXX object src/CMakeFiles/bitcoin-tx.dir/bitcoin-tx.cpp.o\n[ 52%] Built target bitcoin_wallet\n[ 52%] Building CXX object src/CMakeFiles/bitcoin-wallet.dir/bitcoin-wallet.cpp.o\n[ 67%] Built target bitcoin_node\n[ 67%] Building CXX object src/CMakeFiles/bitcoin-wallet.dir/init/bitcoin-wallet.cpp.o\n[ 67%] Linking CXX executable ../bin/bitcoin-util\n[ 67%] Building CXX object src/CMakeFiles/bitcoind.dir/bitcoind.cpp.o\n[ 67%] Built target bitcoin-util\n[ 68%] Building CXX object src/CMakeFiles/bitcoin-wallet.dir/wallet/wallettool.cpp.o\n[ 70%] Building CXX object src/CMakeFiles/bitcoind.dir/init/bitcoind.cpp.o\n[ 70%] Linking CXX executable ../bin/bitcoin-cli\n[ 70%] Linking CXX executable ../bin/bitcoin-tx\n[ 70%] Built target bitcoin-cli\n[ 70%] Linking CXX executable ../bin/bitcoind\n[ 70%] Built target bitcoin-tx\n[ 70%] Linking CXX executable ../bin/bitcoin-wallet\n[ 70%] Built target bitcoind\n[ 70%] Built target bitcoin-wallet\n^Cgmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc.dir/build.make:96: src/ipc/capnp/echo.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc_headers.dir/build.make:98: src/ipc/capnp/echo.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc_headers.dir/build.make:120: src/ipc/capnp/init.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc.dir/build.make:74: src/ipc/capnp/common.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc_headers.dir/build.make:76: src/ipc/capnp/common.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc.dir/build.make:140: src/ipc/capnp/mining.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc_headers.dir/build.make:142: src/ipc/capnp/mining.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/libmultiprocess/test/CMakeFiles/mptest.dir/build.make:74: src/ipc/libmultiprocess/test/mp/test/foo.capnp.c++] Interrupt\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc.dir/build.make:118: src/ipc/capnp/init.capnp.c++] Interrupt\ngmake[1]: *** [CMakeFiles/Makefile2:1502: src/ipc/libmultiprocess/test/CMakeFiles/mptest.dir/all] Interrupt\ngmake[1]: *** [CMakeFiles/Makefile2:1737: src/ipc/CMakeFiles/bitcoin_ipc.dir/all] Interrupt\ngmake[1]: *** [CMakeFiles/Makefile2:1764: src/ipc/CMakeFiles/bitcoin_ipc_headers.dir/all] Interrupt\ngmake: *** [Makefile:146: all] Interrupt\n```",
          "created_at": "2025-08-12T10:11:50Z"
        },
        {
          "user": "ryanofsky",
          "body": "Thanks, instructions make this very easy to reproduce. Error is strange. If I attach with gdb it shows program is hung in a self-loop instruction:\n\n```\n=> 0x0000563e5f583f7f <+1103>:\tjmp    0x563e5f583f7f <main(int, char**)+1103>\n```\n\nSome more context is:\n\n```\n   0x0000563e5f583f6b <+1083>:\tcall   0x563e5f584450 <_ZN2kj3OwnIKNS_17ReadableDirectoryEE7disposeEv>\n   0x0000563e5f583f70 <+1088>:\tadd    $0x8,%r13\n   0x0000563e5f583f74 <+1092>:\tcmp    %r13,0x8(%rsp)\n   0x0000563e5f583f79 <+1097>:\tjne    0x563e5f583e6d <main(int, char**)+829>\n=> 0x0000563e5f583f7f <+1103>:\tjmp    0x563e5f583f7f <main(int, char**)+1103>\n   0x0000563e5f583f81 <+1105>:\tnopl   0x0(%rax)\n   0x0000563e5f583f88 <+1112>:\tlea    0x70(%rsp),%r15\n   0x0000563e5f583f8d <+1117>:\tlea    0xd0(%rsp),%rdi\n   0x0000563e5f583f95 <+1125>:\tmov    %r15,%rdx\n   0x0000563e5f583f98 <+1128>:\tcall   0x563e5f584690 <_ZNSt6vectorIN2kj3OwnIKNS0_17ReadableDirectoryEEESaIS4_EE17_M_realloc_insertIJS4_EEEvN9__gnu_cxx17__normal_iteratorIPS4_S6_EEDpOT_>\n```\n\nGDB says corresponding source code is\n\n```\n(gdb) info line *$pc\nLine 669 of \"./ipc/libmultiprocess/src/mp/gen.cpp\" starts at address 0x563e5f583f74 <main(int, char**)+1092> and ends at 0x563e5f583f88 <main(int, char**)+1112>.\n(gdb) info line *$pc\nLine 669 of \"./ipc/libmultiprocess/src/mp/gen.cpp\" starts at address 0x563e5f583f74 <main(int, char**)+1092> and ends at 0x563e5f583f88 <main(int, char**)+1112>.\n(gdb) list\n664\t            import_dirs.emplace_back(kj::mv(*dir));\n665\t        } else {\n666\t            throw std::runtime_error(std::string(\"Failed to open import directory: \") + argv[i]);\n667\t        }\n668\t    }\n669\t    for (const char* path : {CMAKE_INSTALL_PREFIX \"/include\", capnp_PREFIX \"/include\"}) {\n670\t        KJ_IF_MAYBE(dir, fs->getRoot().tryOpenSubdir(cwd.evalNative(path))) {\n671\t            import_paths.emplace_back(path);\n672\t            import_dirs.emplace_back(kj::mv(*dir));\n673\t        }\n```\n\nBut I'm not sure I trust assembly to source mapping because if I add std::cerr prints, program seems to be hanging at a later point (`   146      if (src_prefix == \".\") {` in `Generate()`\n\nThis is very confusing and I'm not sure what is causing it. I haven't encountered a jmp instruction just looping to itself before but I guess a compiler might output one as a trap for unreachable code or something like that. Looking at the code, I don't think I can identify any bugs, so I wonder if cause might be that program is being compiled with bad flags or something like that. Will look into this more.",
          "created_at": "2025-08-12T14:04:42Z"
        },
        {
          "user": "ryanofsky",
          "body": "Found the problem, and a workaround below. The bug is kind of crazy. Ubuntu 22.04 installs capnproto 0.8.0 which defines\n\n```c++\ninline bool operator==(const char* a, const StringPtr& b) { return b == a; }\n```\n\nWhich seems to call itself recursively when compiled with c++20. This doesn't happen with newer versions of capnproto because they include a change https://github.com/capnproto/capnproto/pull/1170 https://github.com/capnproto/capnproto/pull/1235/commits/4db91df614be91db82833ec1b7cef18ef97711cb dropping it when a newer c++ version is used.\n\nFollowing change seems to successfully work around the problem though need to test more.\n\n<details><summary>diff</summary>\n<p>\n\n```diff\n--- a/src/ipc/libmultiprocess/src/mp/gen.cpp\n+++ b/src/ipc/libmultiprocess/src/mp/gen.cpp\n@@ -143,7 +143,7 @@ static void Generate(kj::StringPtr src_prefix,\n     const std::vector<kj::Own<const kj::ReadableDirectory>>& import_dirs)\n {\n     std::string output_path;\n-    if (src_prefix == \".\") {\n+    if (src_prefix == kj::StringPtr{\".\"}) {\n         output_path = src_file;\n     } else if (!src_file.startsWith(src_prefix) || src_file.size() <= src_prefix.size() ||\n                src_file[src_prefix.size()] != '/') {\n@@ -153,7 +153,7 @@ static void Generate(kj::StringPtr src_prefix,\n     }\n \n     std::string include_path;\n-    if (include_prefix == \".\") {\n+    if (include_prefix == kj::StringPtr{\".\"}) {\n         include_path = src_file;\n     } else if (!src_file.startsWith(include_prefix) || src_file.size() <= include_prefix.size() ||\n                src_file[include_prefix.size()] != '/') {\n@@ -394,8 +394,8 @@ static void Generate(kj::StringPtr src_prefix,\n \n                 const std::string method_prefix = Format() << message_namespace << \"::\" << method_interface.getShortDisplayName()\n                                                            << \"::\" << Cap(method_name);\n-                const bool is_construct = method_name == \"construct\";\n-                const bool is_destroy = method_name == \"destroy\";\n+                const bool is_construct = method_name == kj::StringPtr{\"construct\"};\n+                const bool is_destroy = method_name == kj::StringPtr{\"destroy\"};\n \n                 struct Field\n                 {\n@@ -434,7 +434,7 @@ static void Generate(kj::StringPtr src_prefix,\n                         field.result_is_set = true;\n                     }\n \n-                    if (!param && field_name == \"result\") {\n+                    if (!param && field_name == kj::StringPtr{\"result\"}) {\n                         field.retval = true;\n                         has_result = true;\n                     }\n```\n</p>\n</details>",
          "created_at": "2025-08-12T14:46:17Z"
        },
        {
          "user": "ryanofsky",
          "body": "IPC functionality seems to work fine on ubuntu 22.04 apart from this bug, so I guess I will create a PR with the workaround from https://github.com/bitcoin/bitcoin/issues/33176#issuecomment-3179669613.\n\nI posted a comment about this upstream https://github.com/capnproto/capnproto/pull/1170#discussion_r2270385770.\n\nThis issue does not occur with Cap'n Proto 0.9.0 and later due to the changes in that PR which added c++20 support. In theory a fix could be backported, but ubuntu 22.04 is still using 0.8.0, not even 0.8.1 which fixes a [CVE](https://github.com/capnproto/capnproto/security/advisories/GHSA-qqff-4vw4-f6hx), so it seems best not to rely on ubuntu packaging.",
          "created_at": "2025-08-12T16:37:42Z"
        },
        {
          "user": "ghost",
          "body": "@ryanofsky \n> This issue does not occur with Cap'n Proto 0.9.0 and later\n\nI oppose merging any workaround for this issue since:\n\n- The root cause has been resolved upstream (no need for Bitcoin-specific fixes)\n- We should instead implement a targeted warning advising users to upgrade their Ubuntu distribution\n\nAny additional workaround would:\n- Unnecessarily complicate the codebase\n- Provide no benefit for modern Ubuntu versions\n- Introduce maintenance burden without solving core issues\n\nLet's keep Bitcoin Core clean by only merging changes that:\n- Address actual problems (not upstream-fixed issues)\n- Provide clear benefits across environments\n- Avoid version-specific pollution\n",
          "created_at": "2025-08-12T17:41:16Z"
        },
        {
          "user": "Sjors",
          "body": "I'm not sure if we should bother with a workaround for a version that also has a CVE. The compiler failure might be a \"feature\" here.",
          "created_at": "2025-08-12T18:22:17Z"
        },
        {
          "user": "ryanofsky",
          "body": "I guess it seems ok to drop support for old versions, but this also seems like an easy problem to fix so I went ahead and implemented a fix in https://github.com/bitcoin-core/libmultiprocess/pull/194 along with a CI job that tests for compatibility.\n\n> I'm not sure if we should bother with a workaround for a version that also has a CVE. The compiler failure might be a \"feature\" here.\n\nTo be sure, the fact that the stable ubuntu package might have a CVE is eyebrow raising, but I'm not it actually does. I don't know very much about ubuntu and debian packaging and I just looked at the tarballs and patches at the bottom of https://packages.ubuntu.com/source/jammy/capnproto and noticed they seemed to be using an unpatched 0.8.0. The fix in https://github.com/bitcoin-core/libmultiprocess/pull/194 also lets mpgen work with 0.8.1 and 0.7.1 and is not specifically targeted at 0.8.0.",
          "created_at": "2025-08-12T20:40:45Z"
        },
        {
          "user": "ghost",
          "body": "@ryanofsky,\n\nRegarding the Cap'n Proto dependency, the correct source link is:  \nhttps://launchpad.net/ubuntu/+source/capnproto\n\nAfter reviewing PR #194 (https://github.com/bitcoin-core/libmultiprocess/pull/194), I have some concerns:\n\n1. **Maintenance Policy**:  \n   We generally shouldn't maintain patches for older OS versions unless there's a compelling security reason. Supporting outdated systems creates long-term maintenance burden.\n\n2. **Code Origin**:  \n   Some changes appear to be copied directly from upstream.\n\n3. **Better Alternatives**:  \n   Users running older systems should either:\n   - Upgrade their OS to supported versions\n   - Build dependencies from source\n\n**Or, download and install binaries directly from https://launchpad.net/ubuntu/+source/capnproto:**\n\n<img width=\"1920\" height=\"1285\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/622e0e73-6c27-4754-bf1b-06c25e6570e7\" />",
          "created_at": "2025-08-12T21:05:56Z"
        },
        {
          "user": "ryanofsky",
          "body": "> Regarding the Cap'n Proto dependency, the correct source link is: https://launchpad.net/ubuntu/+source/capnproto\n\nThanks! If I follow that link to https://launchpad.net/ubuntu/+source/capnproto/0.8.0-2ubuntu2 I see same tarballs that I checked previously at https://packages.ubuntu.com/source/jammy/capnproto, so this may be additional confirmation.\n\nRe your concerns:\n\n>     1. **Maintenance Policy**:\n\nTo be sure https://github.com/bitcoin-core/libmultiprocess/pull/194 isn't adding a patch that needs to be maintained, it's just comparing strings in a different way that's more verbose but more backwards compatible. I don't think the changes there will create a maintenance burden. I actually think to the contrary, the CI improvements there will help with long term maintenance, by making it easier to swap capnproto versions for testing and by catching any changes that are unintentionally backwards compatible.\n\n>     2. **Code Origin**:\n>        Some changes appear to be copied directly from upstream.\n\nI don't think this is true, but I'd welcome you to review the PR and point out any problems there that I might be missing.\n\n>     3. **Better Alternatives**:\n\nI do agree updating the OS or building cap'nproto from source could be good alternatives if anyone runs across this bug. Setting -DENABLE_IPC=off could be another good alternative in many cases. I still think fixing the bug has merits though so would welcome review in the PR.",
          "created_at": "2025-08-12T22:06:07Z"
        },
        {
          "user": "Sjors",
          "body": "> The fix in https://github.com/bitcoin-core/libmultiprocess/pull/194 also lets mpgen work with 0.8.1 and 0.7.1 and is not specifically targeted at 0.8.0.\n\nOk, that seems a good enough reason, because we might want to support those versions (even if not immediately).\n\n@1BitcoinBoWP1FZ4xwTNkq6XksKidmgYYw wrote:\n\n> We generally shouldn't maintain patches for older OS versions unless there's a compelling security reason.\n\nBitcoin Core generally supports fairly old OS versions. There's pros and cons to that (and it's certainly a pain), but that's a more general discussion.\n\n",
          "created_at": "2025-08-13T09:13:56Z"
        },
        {
          "user": "ryanofsky",
          "body": "Latest version of https://github.com/bitcoin-core/libmultiprocess/pull/194 should trigger an error on ubuntu 22.04 instead of hanging:\n\n```\nCMake Error at CMakeLists.txt:32 (message):\n  Cap'n Proto 0.8.0 is affected by CVE-2022-46149.\n\n  Please install an updated package.\n\n  Details: https://github.com/advisories/GHSA-qqff-4vw4-f6hx\n```",
          "created_at": "2025-08-13T12:23:29Z"
        },
        {
          "user": "ryanofsky",
          "body": "I didn't dig into this but it seems like the root cause of infinite recursion might be a gcc bug https://gcc.gnu.org/bugzilla/show_bug.cgi?id=53499 so using clang could be another workaround for this. The gcc bug is also fixed in gcc 14 according the issue. Ubuntu 22.04 uses gcc 11.4.0.\n\n(I stumbled across this seeing a headline about a gcc bug https://osec.io/blog/2025-08-11-compiler-bug-causes-compiler-bug https://news.ycombinator.com/item?id=44872584)",
          "created_at": "2025-08-18T00:37:10Z"
        },
        {
          "user": "fanquake",
          "body": "Put on the v30.0 milestone.",
          "created_at": "2025-08-21T12:39:47Z"
        },
        {
          "user": "maflcko",
          "body": "On current master this will now fail configure:\n\n\n```\n...\ncmake -B build -DENABLE_IPC=ON\n...\n-- Checking for module 'capnp'\n--   Found capnp, version 0.8.0\n-- Checking for module 'capnp-rpc'\n--   Found capnp-rpc, version 0.8.0\n-- Checking for module 'capnp-json'\n--   Found capnp-json, version 0.8.0\n-- Checking for module 'kj'\n--   Found kj, version 0.8.0\n-- Checking for module 'kj-async'\n--   Found kj-async, version 0.8.0\n-- Checking for module 'kj-http'\n--   Found kj-http, version 0.8.0\n-- Checking for module 'kj-gzip'\n--   Found kj-gzip, version 0.8.0\n-- Checking for module 'kj-tls'\n--   Found kj-tls, version 0.8.0\n-- Checking for module 'kj-test'\n--   Found kj-test, version 0.8.0\nCMake Error at src/ipc/libmultiprocess/CMakeLists.txt:32 (message):\n  Cap'n Proto 0.8.0 is affected by CVE-2022-46149.\n\n  Please install an updated package.\n\n  Details: https://github.com/advisories/GHSA-qqff-4vw4-f6hx\n\n```\n\nNot sure if this can be closed, or if something else may be better. C.f. https://github.com/bitcoin-core/libmultiprocess/pull/194#discussion_r2285528868",
          "created_at": "2025-08-26T08:08:04Z"
        },
        {
          "user": "Sjors",
          "body": "I'm still investigating whether Ubuntu can be pursuaded to bump this. I received some replies on  https://answers.launchpad.net/ubuntu/+source/capnproto/+question/822317 but haven't gotten around to studying those.",
          "created_at": "2025-08-26T09:03:14Z"
        },
        {
          "user": "maflcko",
          "body": "The current IPC interface is trusted, and I don't think this is going to change after feature-freeze. Also, https://ubuntu.com/security/CVE-2022-46149 specifically says \"low priority\" and `ignored` for jammy, so I don't think Ubuntu is going to change the package.\n\nNot sure how common Ubuntu Jammy is and how many people compile from source, but https://snapcraft.io/bitcoin-core lists (by frequency):\n\nUbuntu 24.04\nUbuntu 22.04\nUbuntu 20.04\nUbuntu 25.04",
          "created_at": "2025-08-26T09:25:10Z"
        },
        {
          "user": "ryanofsky",
          "body": "From https://ubuntu.com/security/CVE-2022-46149 it seems to say ubuntu has looked at the issue and ignoring it in LTS releases (\"Ignored\" value in Status table), because the fix changes [changes the ABI](https://github.com/capnproto/capnproto/compare/v0.8.0..v0.8.1#diff-22b74c4b9a5b4d48aece4e5b3b4e73a0a680be156c8921c1d135c1c1cac3d8d1R1235) and could maybe break applications compiled against the 0.8.0 version of the headers but using the 0.8.1 runtime library (IIUC, I'm not exactly sure what they mean by changing the ABI). It seems like we have a few options here. Maybe we could update the documentation to recommend disabling ENABLE_IPC on Ubuntu 0.8.0, or installing cap'nproto from source, or as Marco is suggesting, just warn about 0.8.0 instead of erroring assuming we don't care about the CVE.",
          "created_at": "2025-08-26T10:48:25Z"
        },
        {
          "user": "fanquake",
          "body": "Note recent comments in the libmultiprocess repo: https://github.com/bitcoin-core/libmultiprocess/pull/194#issuecomment-3241833841 & https://github.com/bitcoin-core/libmultiprocess/pull/194#issuecomment-3241965569.",
          "created_at": "2025-09-01T11:57:01Z"
        },
        {
          "user": "fanquake",
          "body": "Closing this with #33322. If there are new / more issues, lets open new issues.",
          "created_at": "2025-09-08T09:06:58Z"
        },
        {
          "user": "ryanofsky",
          "body": "Makes sense to close. Since #33241 which includes https://github.com/bitcoin-core/libmultiprocess/pull/194, the build hang using old versions of GCC with v0.8.0 and v0.8.1 was fixed, but a cmake error was added warning about a CVE in v0.8.0, which means that Ubuntu 22.04 triggers this error. Ubuntu security team evaluated the CVE and opted not to fix it based on the severity and fact that is fix is in a library, so could cause other packages to need to be recompiled. #33322 improves the situation by making error message clearer about potential workarounds (updating capnproto or setting -DENABLE_IPC=off)",
          "created_at": "2025-09-08T09:42:54Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 4,
    "issues": 2
  }
}