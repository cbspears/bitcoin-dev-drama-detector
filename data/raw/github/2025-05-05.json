{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T19:38:29.664190+00:00",
  "date": "2025-05-05",
  "pull_requests": [
    {
      "number": 32422,
      "title": "spam: trick Drahtbot into rendering a scammy link",
      "body": "Since this LLM experimental feature was rolled out on DrahtBot i noticed it would not sanitize inputs and render Markdown. So i'm wondering if i intentionally introduced a Python comment with a typo in it that points to a scam website, i could get Drahtbot to render a big bold scam link.\r\n\r\nThis is my attempt, sorry for the noise.",
      "state": "closed",
      "user": "darosior",
      "created_at": "2025-05-05T19:54:53Z",
      "updated_at": "2025-05-29T14:57:35Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32422",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32422.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (‚ú® experimental)\n\nPossible typos and grammar issues:\n\n- CIONS -> COINS\n\n",
          "created_at": "2025-05-05T19:54:56Z"
        },
        {
          "user": "darosior",
          "body": "Ugh it didn't even work. In this instance it did render it! https://github.com/bitcoin/bitcoin/pull/32406#issuecomment-2847530907",
          "created_at": "2025-05-05T19:55:59Z"
        },
        {
          "user": "maflcko",
          "body": "Yeah, I think this probably fixed earlier as a side-effect of commit https://github.com/maflcko/DrahtBot/commit/b1871ab63bf6e2a1f8e8de7fc4c39bd56a52fe9d already. Of course it will never be 100% accurate, but it being able to find typos such as https://github.com/bitcoin/bitcoin/pull/32359#discussion_r2065717959 seems minimally positive to me. Though, I can also drop the feature again, no strong opinion.",
          "created_at": "2025-05-06T06:37:28Z"
        }
      ]
    },
    {
      "number": 32421,
      "title": "test: refactor: overhaul (w)txid determination for `CTransaction` objects",
      "body": "In the functional test framework, determining a (w)txid for a `CTransaction` instance is currently rather confusing and footgunny due to inconsistent naming/interfaces (see table below) and statefulness involved. This PR aims to improve that by:\r\n* removing the (w)txid caching mechanism, in order to avoid the need to call additional rehashing functions (`.rehash()`/`.calculate_sha256()`, see first two commits and https://github.com/bitcoin/bitcoin/pull/32050#discussion_r1993286997). This change in theory decreases the performance, as the involved serialization and hashing involved might be called more often than previously, but I couldn't find a functional test where this leads to a measurable run-time increase on my machine.\r\n* introduce consistent naming that shows the type of the returned txid, i.e. hex string vs. test-framework-internal representation [currently integers] (see remaining commits)\r\n\r\nSummary table showing (w)txid determaination before/after this PR:\r\n\r\n| Task                   | master                 | PR           |   \r\n|:-----------------------|:-----------------------|:-------------|\r\n| get TXID (hex string)  | `.rehash()` / `.hash`[1] | `.txid_hex`  |\r\n| get TXID (integer)     | `.sha256`[1]             | `.txid_int`  |\r\n| get WTXID (hex string) | `.getwtxid()`          | `.wtxid_hex` |\r\n| get WTXID (integer)    | `.calc_sha256(True)`   | `.wtxid_int` |\r\n\r\nUnfortunately, most renames can't be done with a scripted-diff, as the property names (`.hash`, `.sha256`) are also used for blocks and other message types. The PR is rather invasive and touches a lot of files, but I think it's worth to do it, also to make life easier for new contributors. Future tasks like e.g. doing the same overhaul for block (header) objects or getting rid of the integer representation (see https://github.com/bitcoin/bitcoin/pull/32050) become easier should become easier after this one.\r\n\r\n[1] = returned value might be out-of-date, if rehashing function wasn't called after modification\r\n",
      "state": "closed",
      "user": "theStack",
      "created_at": "2025-05-05T17:51:47Z",
      "updated_at": "2025-06-11T23:41:55Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/32421",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32421.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/32421#issuecomment-2961434218), [marcofleon](https://github.com/bitcoin/bitcoin/pull/32421#pullrequestreview-2917122093), [achow101](https://github.com/bitcoin/bitcoin/pull/32421#issuecomment-2964114022) |\n| Concept ACK | [instagibbs](https://github.com/bitcoin/bitcoin/pull/32421#issuecomment-2858353344) |\n| Stale ACK | [rkrux](https://github.com/bitcoin/bitcoin/pull/32421#pullrequestreview-2833630198) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#32468](https://github.com/bitcoin/bitcoin/pull/32468) (rpc: generateblock to allow multiple outputs by polespinasa)\n* [#32379](https://github.com/bitcoin/bitcoin/pull/32379) (p2p: stop special-casing witness-stripped error for unconfirmed transactions by darosior)\n* [#32317](https://github.com/bitcoin/bitcoin/pull/32317) (kernel: Separate UTXO set access from validation functions by TheCharlatan)\n* [#31981](https://github.com/bitcoin/bitcoin/pull/31981) (Add checkBlock() to Mining interface by Sjors)\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-05T17:51:51Z"
        },
        {
          "user": "instagibbs",
          "body": ">  determining a (w)txid for a CTransaction instance is currently rather confusing and footgunny\r\n\r\nI don't disbelieve you exactly as I always have to double-check what I'm calling, but have we seen a series of footguns?",
          "created_at": "2025-05-05T18:17:07Z"
        },
        {
          "user": "theStack",
          "body": "> > determining a (w)txid for a CTransaction instance is currently rather confusing and footgunny\r\n> \r\n> I don't disbelieve you exactly as I always have to double-check what I'm calling, but have we seen a series of footguns?\r\n\r\nNot that I'm aware of any recently, but I vividly remember having wasted many hours hunting bugs in test code locally that were often caused by forgetting to rehash before accessing `.hash` or `.sha256` in my earlier contribution days (yeah, a beginner's mistake one could claim, but one that could have been easily avoided with a better interface). I assume long-term contributors intuitively already tend to avoid accessing these cached fields and use `tx.rehash()` and `int(tx.rehash(), 16)` instead for those reasons, even if the values are needed repeatedly.",
          "created_at": "2025-05-06T16:32:42Z"
        },
        {
          "user": "instagibbs",
          "body": "concept ACK either way; we lose mental cycles every time we need to figure this out",
          "created_at": "2025-05-07T12:12:19Z"
        },
        {
          "user": "theStack",
          "body": "Rebased on master (needed due to a few conflicts in functional tests after #32155 was merged).",
          "created_at": "2025-05-12T21:36:33Z"
        },
        {
          "user": "theStack",
          "body": "Rebased on master.",
          "created_at": "2025-06-09T15:44:09Z"
        },
        {
          "user": "fanquake",
          "body": "@marcofleon you might be interested in reviewing here?",
          "created_at": "2025-06-10T15:20:34Z"
        },
        {
          "user": "maflcko",
          "body": "Only change since my last review is me actually finishing the review.\r\n\r\nre-ACK 4ef6253017672a74c584e6e9b449ffff79f67273 üèà\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 4ef6253017672a74c584e6e9b449ffff79f67273 üèà\r\ncrx1No35BWI10Tc13aDbejKSrWnXpvskCgdJtpmENZ1xpLIerge/OmQjEL8An9L6YtySO1BlOSleD2wzblgABQ==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-06-11T06:42:16Z"
        },
        {
          "user": "achow101",
          "body": "ACK 4ef6253017672a74c584e6e9b449ffff79f67273",
          "created_at": "2025-06-11T20:45:33Z"
        }
      ]
    },
    {
      "number": 32420,
      "title": "miner: drop dummy extraNonce in coinbase scriptSig for templates requested via IPC",
      "body": "Our miner code adds `OP_0` as a dummy `extraNonce` to the coinbase `scriptSig`. This has been in place since v0.1.0 and removing it entirely would trigger the `bad-cb-length` consensus error on test networks for blocks 1 through 16 (`OP1` through `OP_16`).\r\n\r\nPreviously the coinbase transaction generated by our miner code was not used downstream, because the `getblocktemplate` RPC excludes it. Since the Mining IPC interface was introduced in #30200 we do expose this dummy coinbase transaction. In Stratum v2 several parts of it are communicated downstream, including the `scriptSig`.\r\n\r\nThis PR adds a `include_dummy_extranonce` option which is `false` by default, but for the time being all test code opts in to it. This avoids churning hardcoded block and transaction hashes.\r\n\r\nThe effect of having the default `false` for IPC callers is that we remove the dummy `extraNonce` from the coinbase `scriptSig` in block templates requested that way. This limits the `scriptSig` to what is essential for consensus (BIP34) and removes the need for external mining software to remove the dummy, or even ignore the `scriptSig` we provide and generate it some other way. This could cause problems if a future soft fork requires additional data to be committed here.\r\n\r\n`test/functional/interface_ipc.py` is expanded to verify the new IPC behavior.",
      "state": "open",
      "user": "Sjors",
      "created_at": "2025-05-05T12:01:31Z",
      "updated_at": "2026-01-14T16:56:52Z",
      "comments": 14,
      "url": "https://github.com/bitcoin/bitcoin/pull/32420",
      "labels": [
        "Mining"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32420.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/32420#pullrequestreview-3661219042) |\n| Concept ACK | [shahsb](https://github.com/bitcoin/bitcoin/pull/32420#pullrequestreview-2816730864) |\n\nIf your review is incorrectly listed, please copy-paste <code>&lt;!--meta-tag:bot-skip--&gt;</code> into the comment that the bot should ignore.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#34184](https://github.com/bitcoin/bitcoin/pull/34184) (mining: add cooldown to createNewBlock() immediately after IBD by Sjors)\n* [#33966](https://github.com/bitcoin/bitcoin/pull/33966) (refactor: disentangle miner startup defaults from runtime options by Sjors)\n* [#33965](https://github.com/bitcoin/bitcoin/pull/33965) (mining: fix -blockreservedweight shadows IPC option by Sjors)\n* [#33922](https://github.com/bitcoin/bitcoin/pull/33922) (mining: add getMemoryLoad() and track template non-mempool memory footprint by Sjors)\n* [#33819](https://github.com/bitcoin/bitcoin/pull/33819) (mining: getCoinbase() returns struct instead of raw tx by Sjors)\n* [#32468](https://github.com/bitcoin/bitcoin/pull/32468) (rpc: generateblock to allow multiple outputs by polespinasa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-05T12:01:34Z"
        },
        {
          "user": "Sjors",
          "body": "I limited the exception to regtest. I also found two tests that for some reason implement their own coinbase construction code. I adjusted those for consistently with the first commit.\r\n\r\n---\r\n\r\n`CreateBlockChain` is used by the `utxo_snapshot` fuzzer which relies on hardcoded block hashes, so I just added a comment instead of changing it.",
          "created_at": "2025-05-05T13:03:48Z"
        },
        {
          "user": "ajtowns",
          "body": "> Our miner code adds `OP_0` to the coinbase `scriptSig` in order to avoid triggering the `bad-cb-length` consensus error on test networks.\r\n\r\nCorrect me if I'm wrong, please! I think what's actually going on here is:\r\n\r\n * scriptSigs in the coinbase have had to be 2 bytes or more since before bitcoin's git history began\r\n * this is perhaps because mainnet bitcoin blocks will usually require some extranonce stuff, and the coinbase tx's scriptSig is a sensible place to do that\r\n * in any event, satoshi set the scriptSig up to contain a push of nBits and a push of the extranonce. this was changed to be time and extranonce (#505) and finally height and extranonce via BIP34 activation.\r\n * when BIP34 is applied to blocks 1-16, the coinbase is encoded as a 1-byte OP_1 through OP_16 (this is compliant with the \"minimally encoded serialized CScript\" part of the spec, though not the \"first byte is number of bytes...\" part).\r\n * this means the only blocks compliant with BIP34 that might potentially have a too short scriptSig are blocks 1 through 16\r\n * because mining regtest doesn't require extranonce stuff, there's no automatic reason to add extra bytes here, but the cb-length consensus check requires it anyway.\r\n * thus, when mining regtest blocks in the functional test framework, we explicitly add an OP_0 in `blocktools.py:script_BIP34_coinbase_height` for blocks 1 through 16. regtest was introduced a year after BIP 34, so there was never a question of \"what did we do before BIP34 was enforced on regtest\"\r\n * that code was introduced in #16363, at which point BIP34 wasn't activated in regtest until block height 500; this was lowered to 2 in #16333 at which point the code was used\r\n\r\nSo I think it's more fair to say that our miner code adds `OP_0` as a dummy extraNonce, expecting it to be incremented as header nonce space runs out, which just never happens in unit tests and regtest.\r\n\r\nIn the current code, having a dummy extraNonce actually seems sensible to me -- in real PoW contexts, we'd need a real extraNonce anyway, so this makes the test environment a little more similar to reality... So I feel a bit -0 on this as a consequence. I wonder if there isn't a way to have this work for stratumv2 without changing the way the existing code works?\r\n\r\nWould it work for the stratumv2 interface (the part of it inside bitcoin core?) to just recognise we supply a dummy extra nonce, and drop it? Even for the first 16 blocks, sv2 miners that supply a non-empty extraNonce of their own, or that include a pool-signature in the coinbase will pass the cb-length check. And after the first 16 blocks, it's not an issue at all.",
          "created_at": "2025-05-10T16:33:12Z"
        },
        {
          "user": "Sjors",
          "body": "Rebased after #32155.\r\n\r\n> So I think it's more fair to say that our miner code adds OP_0 as a dummy extraNonce\r\n\r\nPossibly, but `extraNonce` seems like an implementation detail that should be left to miners. E.g. the Stratum v2 spec defines how to use it here: https://github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md\r\n\r\nIt doesn't belong in a block template imo.\r\n\r\n> I wonder if there isn't a way to have this work for stratumv2 without changing the way the existing code works?\r\n\r\nThe [Template Distribution protocol](https://github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#72-newtemplate-server---client) defines a message `NewTemplate` which has a `coinbase_prefix` field, described as:\r\n\r\n> Up to 8 bytes (not including the length byte) which are to be placed at the beginning of the coinbase field in the coinbase transaction\r\n\r\nhttps://github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#72-newtemplate-server---client\r\n\r\nIn the [Job Declaration Protocol](https://github.com/stratum-mining/sv2-spec/blob/main/06-Job-Declaration-Protocol.md#644-declareminingjob-client---server) (which the node doesn't play a role in) `coinbase_tx_prefix` is defined as:\r\n\r\n> Serialized bytes representing the initial part of the coinbase transaction (not including extranonce)\r\n\r\n> Would it work for the stratumv2 interface ... to just recognise we supply a dummy extra nonce, and drop it\r\n\r\nYes but this would be a foot gun if a future soft fork requires an additional commitment. It's also up to every consumer of our Mining interface to implement that (correctly), not just the one I wrote.\r\n\r\nWe could implement it somewhere between the mining code and interface, so at least interface users don't have to deal with this. But currently `BlockAssembler::CreateNewBlock()` is called pretty much directly without further processing.",
          "created_at": "2025-05-12T14:04:47Z"
        },
        {
          "user": "ajtowns",
          "body": "> It doesn't belong in a block template imo.\r\n\r\nRight, but we currently don't include it in a block template either, so that's (currently) fine.\r\n\r\n> > Would it work for the stratumv2 interface ... to just recognise we supply a dummy extra nonce, and drop it\r\n> \r\n> Yes but this would be a foot gun if a future soft fork requires an additional commitment. It's also up to every consumer of our Mining interface to implement that (correctly), not just the one I wrote.\r\n\r\nI think it's more likely that any additional commitments required by future soft forks will be in the coinbase tx's outputs because the  coinbase scriptSig's limited to 100 bytes. The segwit commitment output is designed to allow for this, so additional outputs aren't needed; signet makes use of this ability for the block signature.\r\n\r\n> We could implement it somewhere between the mining code and interface, so at least interface users don't have to deal with this. But currently `BlockAssembler::CreateNewBlock()` is called pretty much directly without further processing.\r\n\r\nYeah, this was what I was thinking. Maybe adding something like:\r\n\r\n```c++\r\nstruct CBlockTemplate\r\n{\r\n    CBlock block;\r\n\r\n    std::span<unsigned char> CoinbaseScriptSigPrefix()\r\n    {\r\n       if (block.vtx.size() == 0 || block.vtx[0].vin.size() == 0 || block.vtx[0].vin[0].scriptSig.size() == 0) return {};\r\n       // our scriptSig includes a dummy extraNonce. Drop it here.\r\n       std::span<unsigned char> r{block.vtx[0].vin[0].scriptSig};\r\n       return r.first(r.size()-1);\r\n    }\r\n    ...\r\n};\r\n```\r\n\r\nand whatever `getblocktemplate`-ish api we introduce for stratumv2 calls that function to provide the information rather than dumping the scriptSig directly.",
          "created_at": "2025-05-12T14:55:45Z"
        },
        {
          "user": "Sjors",
          "body": "I also don't think `CBlockTemplate` should have an `extraNonce`. Instead it could be added by code that actually does the mining, such as the `GenerateBlock` block method in `rpc/mining.cpp`. That seems like a cleaner separation of concerns between template construction and mining.\r\n\r\nAlthough `CheckBlock()` also needs it to be present for these early blocks, unless we pass an argument in to skip the `bad-cb-length` check.",
          "created_at": "2025-05-12T15:33:21Z"
        },
        {
          "user": "achow101",
          "body": "Are you still working on this?",
          "created_at": "2025-10-22T14:47:47Z"
        },
        {
          "user": "ajtowns",
          "body": "> I also don't think `CBlockTemplate` should have an `extraNonce`.\r\n\r\nI think a **block** should (almost) always have an extraNonce -- whether for mainnet to provide sufficient work, or for early blocks on regtest/signet to avoid bad-cb-length, or for test net blocks to more closely simulate mainnet behaviour. Whether the template should also include an extraNonce depends on the user of the template -- if they want a template they can just apply work to via nNonce, without further fussing about (like we do in our unit tests), then the template should also include an extraNonce, but otherwise it doesn't need to.\r\n\r\nThe current commit descriptions in this PR claim \"Our miner code adds OP_0 to the coinbase scriptSig in order to avoid\r\ntriggering the bad-cb-length consensus error on test networks.\" -- I don't think that's really reflective of the intent behind that code though. It adds an OP_0 because in blocks (not templates) an extraNonce is expected, but only a dummy value is needed. That does avoid the bad-cb-length, but the motivation for it being there is just that the coinbase has always had pushes of two values in it; originally nBits and extraNonce, then nTime and extraNonce, now nHeight and extraNonce.\r\n\r\nSo rather than special casing early blocks and regtest, how about just making it an explicit option, whether defaulting to true (ie, current behaviour) or false? eg: https://github.com/ajtowns/bitcoin/commits/202510-miner-extranonce/",
          "created_at": "2025-10-31T19:11:05Z"
        },
        {
          "user": "Sjors",
          "body": "Indeed the `bad-cb-length` check has been around since the first commit, of course without a documented reason.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/e071a3f6c06f41068ad17134189a4ac3073ef76b/main.h#L454-L457\r\n\r\nThere was also no documented reason for adding `nBits` to the coinbase `scriptSig`, before the `extraNonce`. I just asked: https://bitcoin.stackexchange.com/questions/129167/why-did-satoshi-put-nbits-in-the-coinbase-scriptsig\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/e071a3f6c06f41068ad17134189a4ac3073ef76b/main.cpp#L2236-L2244\r\n\r\nBut as you point out in your historical overview, [nBits was swapped for nTime](https://github.com/bitcoin/bitcoin/pull/505/files#diff-34d21af3c614ea3cee120df276c9c4ae95053830d7f1d3deaf009a4625409ad2L2810-R2811), and then later for the height which became a consensus requirement.\r\n\r\nSo I agree it makes sense to call it `extraNonce` and not \"dummy zero\". Adding an option `include_dummy_extranonce` seems a bit overkill, but I guess it's fine.\r\n\r\n",
          "created_at": "2025-11-01T19:35:38Z"
        },
        {
          "user": "Sjors",
          "body": "I switched to the approach of adding an `include_dummy_extranonce`, having the tests set it to `true` while IPC calls use the default `false`. Expanded `test/functional/interface_ipc.py` to demonstrate it.",
          "created_at": "2025-11-03T09:01:05Z"
        },
        {
          "user": "Sjors",
          "body": "Looks like `fuzz/process_message.cpp` and `fuzz/process_messages.cpp` were missing `include_dummy_extranonce = true`.",
          "created_at": "2025-11-03T10:10:10Z"
        },
        {
          "user": "Sjors",
          "body": "Rebased after #33745 due to import conflict in the test. Also fixed comment typo.",
          "created_at": "2025-11-18T12:09:46Z"
        },
        {
          "user": "Sjors",
          "body": "Trivial rebase after https://github.com/bitcoin/bitcoin/pull/34003.",
          "created_at": "2025-12-19T09:21:24Z"
        },
        {
          "user": "Sjors",
          "body": "Rebased after:\r\n- #33819\r\n- adjusted the \"trailing OP_0\" comment in `node/miner.cpp‚Äé` introduced in that PR\r\n- modified the `functional/interface_ipc.py` check introduced by this PR to use the new `getCoinbaseTx()` introduced in that PR (we already check the result is identical to `getCoinbaseRawTx()`)",
          "created_at": "2026-01-14T09:08:54Z"
        }
      ]
    },
    {
      "number": 32419,
      "title": "psbt: clarify PSBT, PSBTInput, PSBTOutput unserialization flows",
      "body": "The unserialization flows of the PSBT types work based on few underlying assumptions of functions from `serialize.h` & `stream.h` that takes some to understand when read the first time.\r\n\r\nAdd few comments that highlight these assumptions hopefully making it easier to grasp. Also, mention key/value format types as per BIP 174.",
      "state": "closed",
      "user": "rkrux",
      "created_at": "2025-05-05T11:41:46Z",
      "updated_at": "2025-11-17T22:08:44Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/32419",
      "labels": [
        "PSBT"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/32419.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [theStack](https://github.com/bitcoin/bitcoin/pull/32419#pullrequestreview-2828263249), [achow101](https://github.com/bitcoin/bitcoin/pull/32419#issuecomment-3544000265) |\n| Concept ACK | [w0xlt](https://github.com/bitcoin/bitcoin/pull/32419#pullrequestreview-2822832499) |\n\nIf your review is incorrectly listed, please react with üëé to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-05-05T11:41:50Z"
        },
        {
          "user": "theStack",
          "body": "Concept ACK\r\n\r\nMakes sense to me to provide at least a brief description of how the key data is structured and deserialized, since this is not intuitive at all (as I also noticed in the course of reviewing https://github.com/bitcoin/bitcoin/pull/31247 a while ago).",
          "created_at": "2025-05-06T16:55:31Z"
        },
        {
          "user": "achow101",
          "body": "ACK d31158d3646f3c7e4832b9ca50f6ffe02800ff4c",
          "created_at": "2025-11-17T21:53:07Z"
        }
      ]
    }
  ],
  "issues": [],
  "summary": {
    "pull_requests": 4,
    "issues": 0
  }
}