{
  "source": "github",
  "repository": "bitcoin/bitcoin",
  "fetched_at": "2026-01-15T20:21:26.190671+00:00",
  "date": "2025-10-08",
  "pull_requests": [
    {
      "number": 33581,
      "title": "ci: Properly include $FILE_ENV in DEPENDS_HASH",
      "body": "$FILE_ENV has a full relative path already, prepending with ci/test/ results in a non-existent path which means that DEPENDS_HASH was not actually committing to the test's environment file.",
      "state": "closed",
      "user": "achow101",
      "created_at": "2025-10-08T21:49:42Z",
      "updated_at": "2025-10-16T02:50:51Z",
      "comments": 6,
      "url": "https://github.com/bitcoin/bitcoin/pull/33581",
      "labels": [
        "Tests"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33581.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/33581#issuecomment-3384392670) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-08T21:49:48Z"
        },
        {
          "user": "maflcko",
          "body": "No idea what the unrelated intermittent CI failure is about: https://github.com/bitcoin/bitcoin/actions/runs/18358988770/job/52298824086?pr=33581#step:12:287 It just seems to stop during the very first init of bitcoind.exe.",
          "created_at": "2025-10-09T06:47:58Z"
        },
        {
          "user": "maflcko",
          "body": "Nice catch. Tested via:\r\n\r\n```\r\nsh-5.2$ ( export FILE_ENV=\"./ci/test/00_setup_env_win64.sh\" && git ls-tree HEAD depends \"ci/test/$FILE_ENV\" | sha256sum | cut -d' ' -f1 )\r\n9e598ae5c5f89396b330088c224cd5e1b391f8d101906c0270a48fa3acbdce07\r\n\r\nsh-5.2$ ( export FILE_ENV=\"./ci/test/00_setup_env_win64.sh\" && git ls-tree HEAD depends \"$FILE_ENV\" | sha256sum | cut -d' ' -f1 )\r\n6e4783c2f98f56e05e4b0d535b1709fce7c5f318a67932b0c8ed7a34b0a7ffbb\r\n```\r\n\r\nFirst the erroneous hash, and then the intended hash, both of which are consistent with the output on GHA:\r\n\r\n* https://github.com/bitcoin/bitcoin/actions/runs/18329414346/job/52201316933#step:5:18\r\n* https://github.com/bitcoin/bitcoin/actions/runs/18358988770/job/52298114859?pr=33581#step:5:18\r\n\r\nlgtm ACK ceeb53adcd0a6a87a65c8ebbb20472c15c502dfd",
          "created_at": "2025-10-09T06:56:02Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to `30.x` in #33609.",
          "created_at": "2025-10-13T14:54:36Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to `29.x` in #33611.",
          "created_at": "2025-10-13T15:26:13Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to `28.x` in #33613.",
          "created_at": "2025-10-13T16:05:40Z"
        }
      ]
    },
    {
      "number": 33580,
      "title": "depends: Use $(package)_file_name when downloading from the fallback",
      "body": "The server hosting the fallbacks uses `make download` so the files are only available with their overridden names rather than the original name on the upstream source. We should therefore also use the overridden name when downloading from the fallback.\r\n\r\nFixes https://github.com/bitcoin-core/bitcoincore.org/issues/1168",
      "state": "closed",
      "user": "achow101",
      "created_at": "2025-10-08T20:26:04Z",
      "updated_at": "2025-10-13T15:00:43Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/pull/33580",
      "labels": [
        "Build system"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33580.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [theuni](https://github.com/bitcoin/bitcoin/pull/33580#pullrequestreview-3316448485), [janb84](https://github.com/bitcoin/bitcoin/pull/33580#pullrequestreview-3318653692), [hebasto](https://github.com/bitcoin/bitcoin/pull/33580#pullrequestreview-3331004206) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-08T20:26:10Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit becf1500131805bd6a47486cd5bc5bdb55839211<br>(master) | commit 3bb424e4c9928ccb37620530253e3d6cba4cf3bf<br>(pull/33580/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`ce4c707a8290535c...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-aarch64-linux-gnu-debug.tar.gz) | [`4a6defa5fab009e8...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`67b1f4734c192168...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-aarch64-linux-gnu.tar.gz) | [`854c5d3fe86efe86...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`6ac2456054747bbe...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-arm-linux-gnueabihf-debug.tar.gz) | [`4280344b687b82da...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`c9d34eb678434d01...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-arm-linux-gnueabihf.tar.gz) | [`180d4df077e54d7e...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`d203bf318c53c456...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-arm64-apple-darwin-codesigning.tar.gz) | [`12b26f2e8d28c18b...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`d1cb0781e6b13493...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-arm64-apple-darwin-unsigned.tar.gz) | [`54b1f9939517fa3c...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`1b589e49fcd84552...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-arm64-apple-darwin-unsigned.zip) | [`d7be0dc918374cc9...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`f85eae61e1de60bc...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-powerpc64-linux-gnu-debug.tar.gz) | [`b1e0ba77d34f8faf...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`73bb93a8c447ebf9...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-powerpc64-linux-gnu.tar.gz) | [`4a3d5463f25e20e4...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`26c881f2d30b684d...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-riscv64-linux-gnu-debug.tar.gz) | [`0a9c264091f95a83...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`02b07f007f4bdb40...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-riscv64-linux-gnu.tar.gz) | [`52ecd970eeee5ba1...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`17b4f986f196d0c4...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-x86_64-apple-darwin-codesigning.tar.gz) | [`e594e470cc3d3a1c...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`2f09fbd710bfcde5...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-x86_64-apple-darwin-unsigned.tar.gz) | [`dc7dcf3f5f96b1f2...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`c97a014d7ae11621...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-x86_64-apple-darwin-unsigned.zip) | [`59f3c7cfac61e0b9...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`30ff9bbd75a8f856...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-x86_64-linux-gnu-debug.tar.gz) | [`0efa5a6160b72a51...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`77df5db6e4e92fbd...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318-x86_64-linux-gnu.tar.gz) | [`2b680981a16a3269...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`c428e6520d5b542d...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/bitcoin-becf15001318.tar.gz) | [`f63a6d44f84f55ca...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/bitcoin-3bb424e4c992.tar.gz) |\n| SHA256SUMS.part | [`0fa151c5c45a5780...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/SHA256SUMS.part) | [`a3e0dd4aff809f91...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/SHA256SUMS.part) |\n| guix_build.log | [`6f47e3bc22a80251...`](https://drahtbot.space/guix/monotree/becf1500131805bd6a47486cd5bc5bdb55839211/guix_build.log) | [`95ed3d1ddf951738...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/guix_build.log) |\n| guix_build.log.diff |  | [`9cbfe03191b9290d...`](https://drahtbot.space/guix/monotree/3bb424e4c9928ccb37620530253e3d6cba4cf3bf/guix_build.log.diff) |\n\n",
          "created_at": "2025-10-11T04:37:07Z"
        },
        {
          "user": "fanquake",
          "body": "Backported to `30.x` in #33609.",
          "created_at": "2025-10-13T15:00:43Z"
        }
      ]
    },
    {
      "number": 33577,
      "title": "Revert \"depends: Update URL for `qrencode` package source tarball\"",
      "body": "The new URL breaks CI on the current release branches, see https://github.com/bitcoin/bitcoin/pull/33494#issuecomment-3380802351.\r\n\r\nThe old URL also no longer exists so the tarball is fetched from the depends sources cache that we host, but the original tarball has already been overwritten on there. We will need to manually reinstate the original tarball.",
      "state": "closed",
      "user": "achow101",
      "created_at": "2025-10-08T18:18:55Z",
      "updated_at": "2025-10-09T19:24:20Z",
      "comments": 13,
      "url": "https://github.com/bitcoin/bitcoin/pull/33577",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33577.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [glozow](https://github.com/bitcoin/bitcoin/pull/33577#pullrequestreview-3316637710), [m3dwards](https://github.com/bitcoin/bitcoin/pull/33577#issuecomment-3386567933), [maflcko](https://github.com/bitcoin/bitcoin/pull/33577#issuecomment-3387165608) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-08T18:19:00Z"
        },
        {
          "user": "achow101",
          "body": "Added a revert of 6de80512632afe612a3427463c94ac51f90f5203. as well since we should be preserving the filename to hash invariant, as discussed in https://github.com/bitcoin/bitcoin/pull/33494#issuecomment-3382904047",
          "created_at": "2025-10-08T20:07:57Z"
        },
        {
          "user": "theuni",
          "body": "@hebasto Could you explain the need for 46135d90ea9002e273f2a75283444afd080b81b1 as well? Since its justification was supporting behavior that we really don't want to be supported, is it necessary now that we're reverting that behavior?",
          "created_at": "2025-10-08T20:32:51Z"
        },
        {
          "user": "theuni",
          "body": "\r\nAdditionally, I think we want to go ahead and change the source and filename in order to disambiguate any builders who are currently in limbo. As suggested on the previous PR, I suggest:\r\n```Makefile\r\n$(package)_download_path=https://github.com/fukuchi/libqrencode/archive/refs/tags/\r\n$(package)_download_file=v$($(package)_version).tar.gz\r\n$(package)_file_name=$(package)-$($(package)_version)-v2.tar.gz\r\n$(package)_sha256_hash=5385bc1b8c2f20f3b91d258bf8ccc8cf62023935df2d2676b5b67049f31a049c\r\n```",
          "created_at": "2025-10-08T20:53:22Z"
        },
        {
          "user": "achow101",
          "body": "> Additionally, I think we want to go ahead and change the source and filename in order to disambiguate any builders who are currently in limbo.\r\n\r\nMy understanding is that the revert needs to go in first to allow the CI caches to be fixed for the release branches. Then we can open a followup that does the URL and filename change, and in a way that won't break release branch CI now that we know it is a problem.",
          "created_at": "2025-10-08T21:02:17Z"
        },
        {
          "user": "theuni",
          "body": "Ok, makes sense.\r\n\r\nBut after that, seems to me we should backport the bump (as well as #33580) to the release branches as well.",
          "created_at": "2025-10-08T21:12:45Z"
        },
        {
          "user": "m3dwards",
          "body": "Revert looks good to me.\r\n\r\n> We will need to manually reinstate the original tarball\r\n\r\nJust checking someone has the original tarball? Otherwise I'm assuming this revert will not work.\r\n\r\n> Could you explain the need for [46135d9](https://github.com/bitcoin/bitcoin/commit/46135d90ea9002e273f2a75283444afd080b81b1) as well? Since its justification was supporting behavior that we really don't want to be supported, is it necessary now that we're reverting that behavior?\r\n\r\nMy understanding wasn't that is wasn't needed to support behaviour of checking for differences in file contents but was simply a redundant check as the make target would only run if make didn't detect the file.",
          "created_at": "2025-10-09T15:03:50Z"
        },
        {
          "user": "glozow",
          "body": "> Just checking someone has the original tarball? Otherwise I'm assuming this revert will not work.\r\n\r\nYes. This was done yesterday, but the server auto-updated this morning.",
          "created_at": "2025-10-09T16:03:15Z"
        },
        {
          "user": "achow101",
          "body": "> Just checking someone has the original tarball?\r\n\r\nYes. The original has already been uploaded to the server as `qrencode-4.1.1-fukuchi.org.tar.gz` and it only needs to be renamed to match.",
          "created_at": "2025-10-09T16:03:47Z"
        },
        {
          "user": "m3dwards",
          "body": "utACK e4335a31920cd390d936cd51cc4478a234db1276\r\n\r\nGot a failure with:\r\n\r\n```shell\r\nmake -C depends clean-all\r\nmake -C depends qrencode\r\n/bin/sh: command -v llvm-ranlib: No such file or directory\r\n/bin/sh: command -v llvm-strip: No such file or directory\r\n/bin/sh: command -v llvm-nm: No such file or directory\r\n/bin/sh: command -v llvm-objcopy: No such file or directory\r\n/bin/sh: command -v llvm-objdump: No such file or directory\r\n/bin/sh: command -v dsymutil: No such file or directory\r\nFetching qrencode-4.1.1.tar.gz from https://fukuchi.org/works/qrencode/\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n  0   274    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\ncurl: (22) The requested URL returned error: 404\r\nFetching qrencode-4.1.1.tar.gz from https://bitcoincore.org/depends-sources\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100  185k  100  185k    0     0   342k      0 --:--:-- --:--:-- --:--:--  342k\r\n/Users/maxedwards/source/bitcoin/depends/work/download/qrencode-4.1.1/qrencode-4.1.1.tar.gz.temp: FAILED\r\nshasum: WARNING: 1 computed checksum did NOT match\r\nmake: *** [/Users/maxedwards/source/bitcoin/depends/sources/download-stamps/.stamp_fetched-qrencode-qrencode-4.1.1.tar.gz.hash] Error 1\r\n```\r\n\r\nWhich I assume will be fixed when `qrencode-4.1.1-fukuchi.org.tar.gz` is renamed on the depends-sources cache.",
          "created_at": "2025-10-09T16:19:56Z"
        },
        {
          "user": "hebasto",
          "body": "> Just checking someone has the original tarball?\r\n\r\nI have it:\r\n```\r\n$ sha256sum sources/qrencode-4.1.1.tar.gz \r\nda448ed4f52aba6bcb0cd48cac0dd51b8692bccc4cd127431402fca6f8171e8e  sources/qrencode-4.1.1.tar.gz\r\n```",
          "created_at": "2025-10-09T16:32:05Z"
        },
        {
          "user": "achow101",
          "body": "> Which I assume will be fixed when `qrencode-4.1.1-fukuchi.org.tar.gz` is renamed on the depends-sources cache.\r\n\r\nIt's renamed (again)",
          "created_at": "2025-10-09T17:34:13Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm. Seems fine to temporarily revert. A new pull can be created to properly try it again some time in the future.\r\n\r\n\r\n\r\nreview ACK e4335a31920cd390d936cd51cc4478a234db1276 ðŸ’¤\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: review ACK e4335a31920cd390d936cd51cc4478a234db1276 ðŸ’¤\r\n3Ceqd3S3+DfEA+9apWBuQAAQructCE4T6TaFEjqqpFY3aEjPLIZb4dKr5Ba8lA3x0dPDUW84YtCGWsgW6tyUCg==\r\n```\r\n\r\n</details>\r\n",
          "created_at": "2025-10-09T19:06:14Z"
        }
      ]
    },
    {
      "number": 33574,
      "title": "doc: update Guix INSTALL.md",
      "body": "It's somewhat annoying that Guix is falling out of being packaged by distros. For some more context, see https://lwn.net/Articles/1035491/.\r\n> However, it is likely that the [Guix](https://guix.gnu.org/en/) package manager will soon be removed from the repositories for Debian 13 and Debian 12 (\"bookworm\", also called oldstable).\r\n\r\nThis seems to be happening. You can't `apt install guix` using the current release of Debian. https://packages.debian.org/search?keywords=guix. Guix is not going to be included in next release of Ubuntu (`25.10`): https://packages.ubuntu.com/search?keywords=guix.\r\n\r\nLooking at https://aur.archlinux.org/packages/guix, comments over the last few months seem to indicate that the build is broken.\r\n\r\nA 1.5.0 release is planned for sometime in January 2026: https://codeberg.org/guix/release-planning/wiki/release-1.5.0-project/. So hopefully the situation is going to improve in future.",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-10-08T15:05:36Z",
      "updated_at": "2025-11-04T11:35:42Z",
      "comments": 8,
      "url": "https://github.com/bitcoin/bitcoin/pull/33574",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33574.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/33574#pullrequestreview-3415100841), [hebasto](https://github.com/bitcoin/bitcoin/pull/33574#pullrequestreview-3415958912) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-08T15:05:41Z"
        },
        {
          "user": "janb84",
          "body": "Is there a reason (you know) why the project does not mention / recommend to install guix by using the shell installer [as mentioned in the install doc of guix](https://guix.gnu.org/manual/en/html_node/Binary-Installation.html)? Wouldn't that be the answer to this problem? \r\n(Although not ideal) ",
          "created_at": "2025-10-08T15:38:15Z"
        },
        {
          "user": "fanquake",
          "body": "> Is there a reason (you know) why the project does not mention / recommend to install guix by using the shell installer\r\n\r\nWe do: https://github.com/bitcoin/bitcoin/blob/master/contrib/guix/INSTALL.md#options-1-and-2-using-the-official-shell-installer-script-or-binary-tarball.",
          "created_at": "2025-10-08T15:40:14Z"
        },
        {
          "user": "m3dwards",
          "body": "From reading the blog post it seems that the main issue is around how Guix chooses to manage releases making it hard for distro package maintainers to release backports. With a small userbase the effort doesn't seem worth it for them.\r\n\r\nSo perhaps the instructions should just focus on installing the guix binary from upstream.\r\n\r\n@fanquake is the concerning part for you that this might be a bad indicator for the guix project overall?",
          "created_at": "2025-10-08T16:02:01Z"
        },
        {
          "user": "trevarj",
          "body": "While using Guix's `install.sh` is my preferred method of installation on a \"foreign distro\", I will acknowledge that it isn't always a smooth experience. For example, when a user isn't using bash as their shell and doesn't know how Guix works they could miss the necessary env vars.\r\n\r\n**A crazy idea** could be to offer a `.deb` package that is created using `guix pack -f deb -m manifest.scm`, where the manifest contains `guix` itself and the packages within `contrib/guix/manifest.scm`. Users on dpkg distros (Debian, Ubuntu, etc) can have a one-click install solution. Other formats, like rpm, are supported as well. This could be put through the trust chain like how releases are and verified by users. Didn't test this yet, but just brainstorming.\r\n\r\n> this might be a bad indicator for the guix project overall?\r\n\r\n@m3dwards it is sad that Guix doesn't receive as much attention and financial support as Nix, but they are working towards making changes to attract and retain users. From my understanding, the main point of Guix in the build process is that it's [bootstrappable](https://preview.redd.it/bootstrappable-v0-4bptxfi4t3sc1.jpeg?width=640&crop=smart&auto=webp&s=4bd1e47e72293e035f01f19d5e19798bc4a34547)",
          "created_at": "2025-10-09T20:28:31Z"
        },
        {
          "user": "maflcko",
          "body": "> that this might be a bad indicator for the guix project overall?\r\n\r\nThe LWN article concludes that \"Regular releases\" are planned, so it is likely that the situation will improve and possibly make backporting bugfixes easier in the future. So in theory, the guix package could make its way back into Debian/Ubuntu.",
          "created_at": "2025-10-10T06:22:16Z"
        },
        {
          "user": "fanquake",
          "body": "Looks like a `1.5.0` release might happen in January, according to https://codeberg.org/guix/release-planning/wiki/release-1.5.0-project.",
          "created_at": "2025-10-24T07:58:36Z"
        },
        {
          "user": "fanquake",
          "body": "Updated the PR description, and added 1.5.0 release. Marked this as reviewable, as I think its fine drop the expectations section from 2021.",
          "created_at": "2025-10-30T15:51:31Z"
        }
      ]
    },
    {
      "number": 33573,
      "title": "doc: bump the template macOS version",
      "body": "Motivated by https://github.com/bitcoin/bitcoin/pull/33489#issuecomment-3361601497\r\n\r\nThe minimum version of MacOS for this repo is now 14 and above so it makes sense to update the issue template to reflect that.\r\nWe are now using a higher version but since it is just a bug template, there is no need to put the lowest version we support.",
      "state": "closed",
      "user": "kevkevinpal",
      "created_at": "2025-10-08T15:03:36Z",
      "updated_at": "2025-10-13T09:07:23Z",
      "comments": 9,
      "url": "https://github.com/bitcoin/bitcoin/pull/33573",
      "labels": [
        "Docs"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33573.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/33573#issuecomment-3391830998), [l0rinc](https://github.com/bitcoin/bitcoin/pull/33573#issuecomment-3391920236), [janb84](https://github.com/bitcoin/bitcoin/pull/33573#pullrequestreview-3325542629) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-08T15:03:43Z"
        },
        {
          "user": "janb84",
          "body": "The v30 has still support for 13+. see https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987`\r\nThink it's still to early to change this if v30 has still full support for that version. ",
          "created_at": "2025-10-08T15:12:57Z"
        },
        {
          "user": "kevkevinpal",
          "body": "> The v30 has still support for 13+. see [https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987`](https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987%60) Think it's still to early to change this if v30 has still full support for that version.\r\n\r\nI don't think this change will be part of v30, so it should still be good for review",
          "created_at": "2025-10-08T15:42:02Z"
        },
        {
          "user": "glozow",
          "body": "> The v30 has still support for 13+. see [https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987`](https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987%60)\r\n> Think it's still to early to change this if v30 has still full support for that version.\r\n\r\nNote that this PR is against master, not 30.x",
          "created_at": "2025-10-08T16:10:10Z"
        },
        {
          "user": "l0rinc",
          "body": "ACK 1dcff2e335444d5518961cdf798d9d24c6e3e1d7\r\nOriginally reported in https://github.com/bitcoin/bitcoin/pull/33489#pullrequestreview-3294934753",
          "created_at": "2025-10-08T16:23:52Z"
        },
        {
          "user": "janb84",
          "body": "> > The v30 has still support for 13+. see [https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987`](https://github.com/bitcoin/bitcoin/pull/33559#discussion_r2414194987%60)\r\n> > Think it's still to early to change this if v30 has still full support for that version.\r\n> \r\n> Note that this PR is against master, not 30.x\r\n\r\nI get it. but it's changing .github issue templates. Github uses master as a base for the templates right ? \r\nSo V30 or not when it merges it will use this template as a base. Or is it set by hand by the maintainers ? \r\n\r\n(either way it's not a big deal because it's merely a suggestion and not a pull-down or something) ",
          "created_at": "2025-10-08T18:35:55Z"
        },
        {
          "user": "glozow",
          "body": "> I get it. but it's changing .github issue templates. Github uses master as a base for the templates right ?\r\n\r\nOh sorry I misunderstood, you're absolutely right. I think it's more likely for people to use v30 on something more modern though.",
          "created_at": "2025-10-08T18:54:33Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm ACK f6567527d8dafa70335de782511791165bb89ccb",
          "created_at": "2025-10-10T18:50:24Z"
        },
        {
          "user": "l0rinc",
          "body": "ACK f6567527d8dafa70335de782511791165bb89ccb\r\n\r\nThe Ubuntu version is a bit far into the future, but I don't mind",
          "created_at": "2025-10-10T19:07:59Z"
        }
      ]
    },
    {
      "number": 33570,
      "title": "randomenv: Fix MinGW dllimport warning for `environ`",
      "body": "Related to https://github.com/bitcoin/bitcoin/pull/33550#issuecomment-3378978210\r\n\r\nExtends 7703884 to guard environ declaration on all Windows builds, not just MSVC.\r\n\r\nIn the `mingw-w64` headers (used by `llvm-mingw`), `environ` is defined as a macro which  expands through [`_environ`](https://github.com/msys2-contrib/mingw-w64/blob/cdb052f1d4056cd510cb83197b55868427b87476/mingw-w64-headers/crt/stdlib.h#L262-L264) to `(* __p__environ())`, a call to a `dllimport` function, causing the same inconsistent linkage warning as MSVC.\r\n\r\nUse `WIN32` instead of `_MSC_VER` to match the platform-specific guards already used throughout the file.\r\n\r\nThe warning occurs with `llvm-mingw` (both `UCRT` and `MSVCRT` variants as tested by Hebasto), but not with the `mingw-w64` toolchain currently used in CI (as mentioned by fanquake).\r\n\r\n----\r\n\r\nThe error was reproduced by adding a temporary [nightly build](https://github.com/l0rinc/bitcoin-core-nightly/pull/4) pointing to https://github.com/l0rinc/bitcoin/pull/45. On `master` the failure can be seen in https://github.com/l0rinc/bitcoin-core-nightly/pull/2\r\n\r\n\r\nbefore:\r\nhttps://github.com/l0rinc/bitcoin-core-nightly/actions/runs/18327936488/job/52196728885?pr=2\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```\r\n/home/runner/work/bitcoin-core-nightly/bitcoin-core-nightly/src/randomenv.cpp:61:15: warning: '__p__environ' redeclared without 'dllimport' attribute: previous 'dllimport' ignored [-Winconsistent-dllimport]\r\n   61 | extern char** environ; // NOLINT(readability-redundant-declaration): Necessary on some platforms\r\n      |               ^\r\n/home/runner/work/bitcoin-core-nightly/bitcoin-core-nightly/llvm_mingw_toolchain/aarch64-w64-mingw32/include/stdlib.h:656:17: note: expanded from macro 'environ'\r\n  656 | #define environ _environ\r\n      |                 ^\r\n/home/runner/work/bitcoin-core-nightly/bitcoin-core-nightly/llvm_mingw_toolchain/aarch64-w64-mingw32/include/stdlib.h:225:21: note: expanded from macro '_environ'\r\n  225 | #define _environ (* __p__environ())\r\n      |                     ^\r\n/home/runner/work/bitcoin-core-nightly/bitcoin-core-nightly/llvm_mingw_toolchain/aarch64-w64-mingw32/include/stdlib.h:221:27: note: previous declaration is here\r\n  221 |   _CRTIMP char ***__cdecl __p__environ(void);\r\n      |                           ^\r\n/home/runner/work/bitcoin-core-nightly/bitcoin-core-nightly/llvm_mingw_toolchain/aarch64-w64-mingw32/include/stdlib.h:221:3: note: previous attribute is here\r\n  221 |   _CRTIMP char ***__cdecl __p__environ(void);\r\n      |   ^\r\n/home/runner/work/bitcoin-core-nightly/bitcoin-core-nightly/llvm_mingw_toolchain/aarch64-w64-mingw32/include/_mingw.h:52:40: note: expanded from macro '_CRTIMP'\r\n   52 | #      define _CRTIMP  __attribute__ ((__dllimport__))\r\n      |                                        ^\r\n1 warning generated.\r\n```\r\n\r\n</details>\r\n\r\nafter:\r\nhttps://github.com/l0rinc/bitcoin-core-nightly/actions/runs/18329616268/job/52201940831?pr=4\r\n\r\n<details>\r\n<summary>Details</summary>\r\n\r\n```\r\n[ 28%] Building CXX object src/util/CMakeFiles/bitcoin_util.dir/__/randomenv.cpp.obj\r\n```\r\n\r\n</details>\r\n\r\n\r\nNote that there are some other remaining warnings in the logs that will be fixed in separate PRs",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-10-08T01:14:08Z",
      "updated_at": "2025-10-22T10:16:41Z",
      "comments": 12,
      "url": "https://github.com/bitcoin/bitcoin/pull/33570",
      "labels": [],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33570.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/33570#pullrequestreview-3345939519), [sipa](https://github.com/bitcoin/bitcoin/pull/33570#issuecomment-3431135242), [laanwj](https://github.com/bitcoin/bitcoin/pull/33570#issuecomment-3431298433) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->",
          "created_at": "2025-10-08T01:14:13Z"
        },
        {
          "user": "fanquake",
          "body": "> MinGW also defines environ ... causing the same inconsistent linkage warning.\r\n\r\nCan you improve the PR description & commit message? We use mingw-w64 in the CI & Guix build, and it doesn't produce this warning.",
          "created_at": "2025-10-08T09:05:06Z"
        },
        {
          "user": "hebasto",
          "body": "> Extends [7703884](https://github.com/bitcoin/bitcoin/commit/7703884ab19cd7ffddc5c52ba57dec82fbc8dc2b) to guard environ declaration on all Windows builds, not just MSVC.\r\n> MinGW also defines environ as a macro that expands to a dllimport function, causing the same inconsistent linkage warning.\r\n\r\n~I suppose this behaviour is specific to UCRT.~\r\n\r\nUPDATE. It is not. I tested the MSVCRT variant of the LLVM MinGW toolchain.",
          "created_at": "2025-10-08T11:30:28Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks for the replies, I have updated the description to clarify this is `llvm-mingw` specific, let me know if that's enough.",
          "created_at": "2025-10-08T17:41:03Z"
        },
        {
          "user": "DrahtBot",
          "body": "<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds (on x86_64) [untrusted test-only build, possibly unsafe, not for production use]\n\n| File | commit b510893d00760083ac36948747aa6ebd84656192<br>(master) | commit 883c8fecd5e61b32cbcba08dff4f9f876dae3be0<br>(pull/33570/merge) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`287ee038591e1aa5...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-aarch64-linux-gnu-debug.tar.gz) | [`5451ddd49d8bbb4f...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-aarch64-linux-gnu-debug.tar.gz) |\n| *-aarch64-linux-gnu.tar.gz | [`0852b8c58d9f260d...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-aarch64-linux-gnu.tar.gz) | [`25bd538478f9eb41...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-aarch64-linux-gnu.tar.gz) |\n| *-arm-linux-gnueabihf-debug.tar.gz | [`476283a97a4a63bb...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-arm-linux-gnueabihf-debug.tar.gz) | [`a7f5052cdbf7f7a1...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-arm-linux-gnueabihf-debug.tar.gz) |\n| *-arm-linux-gnueabihf.tar.gz | [`9521ef406263f7b6...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-arm-linux-gnueabihf.tar.gz) | [`5a4451c798e27c33...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-arm-linux-gnueabihf.tar.gz) |\n| *-arm64-apple-darwin-codesigning.tar.gz | [`82cb6250417e717c...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-arm64-apple-darwin-codesigning.tar.gz) | [`7de7cc4af586b871...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-arm64-apple-darwin-codesigning.tar.gz) |\n| *-arm64-apple-darwin-unsigned.tar.gz | [`8fc23c4c3a991331...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-arm64-apple-darwin-unsigned.tar.gz) | [`e3d67510950c2c81...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-arm64-apple-darwin-unsigned.tar.gz) |\n| *-arm64-apple-darwin-unsigned.zip | [`b392101c5b361ff9...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-arm64-apple-darwin-unsigned.zip) | [`4be0697eeada46e2...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-arm64-apple-darwin-unsigned.zip) |\n| *-powerpc64-linux-gnu-debug.tar.gz | [`9b43c0b8e25143cf...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-powerpc64-linux-gnu-debug.tar.gz) | [`ce7c3c8574b012be...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-powerpc64-linux-gnu-debug.tar.gz) |\n| *-powerpc64-linux-gnu.tar.gz | [`2e9992ef3509b037...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-powerpc64-linux-gnu.tar.gz) | [`6b5a20204f8083df...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-powerpc64-linux-gnu.tar.gz) |\n| *-riscv64-linux-gnu-debug.tar.gz | [`ecf900527a72acb0...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-riscv64-linux-gnu-debug.tar.gz) | [`a6ae0c793a3c2adb...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-riscv64-linux-gnu-debug.tar.gz) |\n| *-riscv64-linux-gnu.tar.gz | [`9d408e2da915b801...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-riscv64-linux-gnu.tar.gz) | [`fc0624b26a20a94a...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-riscv64-linux-gnu.tar.gz) |\n| *-x86_64-apple-darwin-codesigning.tar.gz | [`9bf52d02ca33fe53...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-x86_64-apple-darwin-codesigning.tar.gz) | [`93c133a51bd98292...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-x86_64-apple-darwin-codesigning.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.tar.gz | [`236075db81a09bad...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-x86_64-apple-darwin-unsigned.tar.gz) | [`6337f4e8fe8d1973...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-x86_64-apple-darwin-unsigned.tar.gz) |\n| *-x86_64-apple-darwin-unsigned.zip | [`0c441dc5b75521ac...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-x86_64-apple-darwin-unsigned.zip) | [`129c615e359fe503...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-x86_64-apple-darwin-unsigned.zip) |\n| *-x86_64-linux-gnu-debug.tar.gz | [`6f97bc61fc54c68f...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-x86_64-linux-gnu-debug.tar.gz) | [`38494443fe352c07...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-x86_64-linux-gnu-debug.tar.gz) |\n| *-x86_64-linux-gnu.tar.gz | [`16459e49234e829e...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076-x86_64-linux-gnu.tar.gz) | [`a674ad52e9ab239b...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6-x86_64-linux-gnu.tar.gz) |\n| *.tar.gz | [`dd7765ebe3b225dd...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/bitcoin-b510893d0076.tar.gz) | [`7681d1dcb1b82dc3...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/bitcoin-883c8fecd5e6.tar.gz) |\n| SHA256SUMS.part | [`63ea3df1b92207e2...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/SHA256SUMS.part) | [`34bacbe246873834...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/SHA256SUMS.part) |\n| guix_build.log | [`266ffcacd115224c...`](https://drahtbot.space/guix/monotree/b510893d00760083ac36948747aa6ebd84656192/guix_build.log) | [`ea50795b0508ce5e...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/guix_build.log) |\n| guix_build.log.diff |  | [`225bb976da2b3471...`](https://drahtbot.space/guix/monotree/883c8fecd5e61b32cbcba08dff4f9f876dae3be0/guix_build.log.diff) |\n\n",
          "created_at": "2025-10-09T01:29:30Z"
        },
        {
          "user": "maflcko",
          "body": "Reminds me that the windows guix build is actually disabled in DrahtBot: https://github.com/maflcko/DrahtBot/blob/cd13339b9c72a12dc47931cd40e1c8872d9ac74d/guix/src/main.rs#L299, so pls ignore the result above, sry.",
          "created_at": "2025-10-09T10:59:00Z"
        },
        {
          "user": "fanquake",
          "body": "> Thanks for the replies, I have updated the description to clarify this is llvm-mingw specific, let me know if that's enough.\r\n\r\nYou should update the commit message to match.\r\n\r\n> llvm-mingw also defines environ as a macro\r\n\r\nCan you be more clear with this explanation. [llvm-mingw](https://github.com/mstorsjo/llvm-mingw) looks like a collection of scripts that download and build LLVM and the mingw-w64 headers. I don't think it defines anything environ related?",
          "created_at": "2025-10-14T10:58:11Z"
        },
        {
          "user": "l0rinc",
          "body": "My understanding is that https://github.com/msys2-contrib/mingw-w64/blob/cdb052f1d4056cd510cb83197b55868427b87476/mingw-w64-headers/crt/stdlib.h#L704 \r\nexpands `environ` to `_environ`, and in https://github.com/msys2-contrib/mingw-w64/blob/cdb052f1d4056cd510cb83197b55868427b87476/mingw-w64-headers/crt/stdlib.h#L262-L264, _environ is further defined as a macro expanding to `(* __p__environ())` (similar problem described in https://github.com/msys2/MINGW-packages/issues/13925#issuecomment-1312820489)\r\n\r\nUpdated the commit message and PR description.",
          "created_at": "2025-10-14T14:26:13Z"
        },
        {
          "user": "hebasto",
          "body": "> We use mingw-w64 in the CI & Guix build, and it doesn't produce this warning.\r\n\r\nGCC has no such a diagnostic: https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html.\r\n\r\nClang does: https://clang.llvm.org/docs/DiagnosticsReference.html#winconsistent-dllimport.",
          "created_at": "2025-10-16T17:03:25Z"
        },
        {
          "user": "hebasto",
          "body": "Friendly ping people who reviewed the previous [change](https://github.com/bitcoin/bitcoin/pull/30491):\r\n\r\n@sipa @sipsorcery @theuni ",
          "created_at": "2025-10-22T08:41:02Z"
        },
        {
          "user": "sipa",
          "body": "utACK 9610b0d1e28aeda02a2ddcf1f0591ae577c3e88e if this makes the compilers happy",
          "created_at": "2025-10-22T08:44:00Z"
        },
        {
          "user": "laanwj",
          "body": "After discussion i'm convinced that this is the right solution. According to man pages, on POSIX (non-windows) platforms, including MacOS, you are supposed to define this variable yourself. So it can't be removed entirely.\r\n\r\nOn Windows (irrespective of compiler or toolchain) it's provided by the headers, and defined in a different way, so if we want to use environ therel, we shouldn't define it ourselves.\r\n\r\nNote that it's [deprecated](https://learn.microsoft.com/en-us/cpp/c-runtime-library/environ-wenviron?view=msvc-170) though:\r\n\r\n> The _environ variable is a pointer to an array of pointers to the multibyte-character strings that constitute the process environment. This global variable has been deprecated for the more secure functional versions [getenv_s, _wgetenv_s](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/getenv-s-wgetenv-s?view=msvc-170) and [_putenv_s, _wputenv_s](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/putenv-s-wputenv-s?view=msvc-170), which should be used in place of the global variable. _environ is declared in Stdlib.h.\r\n\r\nAnyhow, this is the best way to fix it while keeping the functionality as-is.\r\n\r\nCode review ACK 9610b0d1e28aeda02a2ddcf1f0591ae577c3e88e",
          "created_at": "2025-10-22T09:20:14Z"
        }
      ]
    },
    {
      "number": 33569,
      "title": "refactor: throw `std::string_view` instead of `const char*` in constexpr/consteval functions",
      "body": "Related to https://github.com/bitcoin/bitcoin/pull/33550#issuecomment-3378978210\r\n\r\nWorks around Clang code generation bug when targeting Windows where where catching `const char*` exceptions by reference is broken, see https://github.com/mstorsjo/llvm-mingw/issues/522\r\n\r\nFollowing [C++ Core Guidelines E.15](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#e15-throw-by-value-catch-exceptions-from-a-hierarchy-by-reference) \"Throw by value, catch exceptions from a hierarchy by reference\", we throw `std::string_view` instead of string literals.\r\nNote that [clang-tidy](https://clang.llvm.org/extra/clang-tidy/checks/misc/throw-by-value-catch-by-reference.html) mentions string literals not being flagged, but it's still an `llvm-mingw` issue so we need to adjust anyway.\r\n[Array-to-pointer conversion](https://en.cppreference.com/w/cpp/language/implicit_cast.html#Array-to-pointer_conversion) makes string literal exceptions particularly fragile across platforms.\r\n\r\nAlso deleted `HasReason::operator()(const char*)` to prevent future reliance on string literal exception handling.\r\n\r\n----\r\n\r\nThe error was reproduced by adding a temporary [nightly build](https://github.com/l0rinc/bitcoin-core-nightly/pull/3) pointing to https://github.com/l0rinc/bitcoin/pull/44. On `master` the failure can be seen in https://github.com/l0rinc/bitcoin-core-nightly/pull/2",
      "state": "closed",
      "user": "l0rinc",
      "created_at": "2025-10-08T00:54:40Z",
      "updated_at": "2025-10-21T12:15:21Z",
      "comments": 10,
      "url": "https://github.com/bitcoin/bitcoin/pull/33569",
      "labels": [
        "Refactoring"
      ],
      "comment_list": [
        {
          "user": "DrahtBot",
          "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage & Benchmarks\nFor details see: https://corecheck.dev/bitcoin/bitcoin/pulls/33569.\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hodlinator](https://github.com/bitcoin/bitcoin/pull/33569#pullrequestreview-3317673822) |\n| Concept ACK | [Dorex45](https://github.com/bitcoin/bitcoin/pull/33569#issuecomment-3388474342) |\n| Stale ACK | [purpleKarrot](https://github.com/bitcoin/bitcoin/pull/33569#issuecomment-3380174569) |\n\nIf your review is incorrectly listed, please react with ðŸ‘Ž to this comment and the bot will ignore it on the next update.\n<!--5faf32d7da4f0f540f40219e4f7537a3-->\n### LLM Linter (âœ¨ experimental)\n\nPossible typos and grammar issues:\n\n- Hex string must fit exactly -> Hex string must have exactly the required length [â€œfit exactlyâ€ is incomplete/ambiguous; this clarifies the intended meaning]\n\n<sup>drahtbot_id_5_m</sup>\n",
          "created_at": "2025-10-08T00:54:45Z"
        },
        {
          "user": "purpleKarrot",
          "body": "ACK 362d43a659224f9969b268dcc859162006460214\r\n\r\n> Note that some of the std::runtime_error instances can likely be std::invalid_argument or std::logic_error - if the reviewers have stronger preferences, I can adjust.\r\n\r\nLong term, it should be evaluated whether some contracts could be tightened by turning runtime error cases into preconditions.",
          "created_at": "2025-10-08T07:48:30Z"
        },
        {
          "user": "maflcko",
          "body": "lgtm, but it seems this is a workaround for an upstream bug?\r\n\r\nIn any case, the reason why a raw string literal was thrown, because the primary goal of this is inside a consteval context, and it avoids an include. I guess you'd have to add the include here, if you start using runtime_error. Though, that feels off for this context, as mentioned previously.\r\n\r\nOut of curiosity, I wonder, would it work if  a string_view was thrown? ",
          "created_at": "2025-10-08T09:05:31Z"
        },
        {
          "user": "fanquake",
          "body": "> but it seems this is a workaround for an upstream bug?\r\n\r\nYep, looks like upstream has confirmed it's an upsteam bug: https://github.com/mstorsjo/llvm-mingw/issues/522#issuecomment-3381159016.",
          "created_at": "2025-10-08T12:37:12Z"
        },
        {
          "user": "mstorsjo",
          "body": "Also, FWIW, the issue isn't about throwing a `const char *`, it's about whether the pointer is caught by value or by reference, as `catch (const char*)` or `catch (const char* &)`. For larger types (like classes), I can see some performance benefit from catching by reference, but for a pointer sized value like this, there shouldn't be any performance difference. It's of course possible that the distinction isn't quite as easy and clear between those two as it was in the reduced testcase in https://github.com/mstorsjo/llvm-mingw/issues/522 though.",
          "created_at": "2025-10-08T14:33:32Z"
        },
        {
          "user": "l0rinc",
          "body": "Thank you for the quick reviews!\r\n\r\n> would it work if a string_view was thrown?\r\n\r\nWhile that doesn't really help with providing more context for the failure type, I can sympathize with the dependency lowering goal for consteval/constexp functions.\r\nhttps://github.com/l0rinc/bitcoin-core-nightly/pull/3 indicates this also fixes the issue, so I have used that, updated commit and PR description to reflect it.\r\n\r\n> whether some contracts could be tightened by turning runtime error cases into preconditions\r\n\r\nThat would indeed be a reasonable followup, thanks for the hint!",
          "created_at": "2025-10-08T17:27:21Z"
        },
        {
          "user": "Dorex45",
          "body": "> Related to [#33550 (comment)](https://github.com/bitcoin/bitcoin/pull/33550#issuecomment-3378978210)\r\n> \r\n> Works around Clang code generation bug when targeting Windows where where catching `const char*` exceptions by reference is broken, see [mstorsjo/llvm-mingw#522](https://github.com/mstorsjo/llvm-mingw/issues/522)\r\n> \r\n> Following [C++ Core Guidelines E.15](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#e15-throw-by-value-catch-exceptions-from-a-hierarchy-by-reference) \"Throw by value, catch exceptions from a hierarchy by reference\", we throw `std::string_view` instead of string literals. Note that [clang-tidy](https://clang.llvm.org/extra/clang-tidy/checks/misc/throw-by-value-catch-by-reference.html) mentions string literals not being flagged, but it's still an `llvm-mingw` issue so we need to adjust anyway. [Array-to-pointer conversion](https://en.cppreference.com/w/cpp/language/implicit_cast.html#Array-to-pointer_conversion) makes string literal exceptions particularly fragile across platforms.\r\n> \r\n> Also deleted `HasReason::operator()(const char*)` to prevent future reliance on string literal exception handling.\r\n> \r\n> The error was reproduced by adding a temporary [nightly build](https://github.com/l0rinc/bitcoin-core-nightly/pull/3) pointing to [l0rinc#44](https://github.com/l0rinc/bitcoin/pull/44). On `master` the failure can be seen in [l0rinc/bitcoin-core-nightly#2](https://github.com/l0rinc/bitcoin-core-nightly/pull/2)\r\n\r\nACK",
          "created_at": "2025-10-10T06:32:54Z"
        },
        {
          "user": "hebasto",
          "body": "Here are the recent updates from the upstream projects:\r\n\r\n1. Clang has [merged](https://github.com/llvm/llvm-project/commit/10be254587da24d56e2c6817b382beaca612b6c3) the fix and [backported](https://github.com/llvm/llvm-project/commit/570c4c9443387b756ed3e4cb94ca708841f2472a) it to 21.x.\r\n\r\n2. The recent (2025-10-17) nightly release of [LLVM MinGW](https://github.com/mstorsjo/llvm-mingw/releases/nightly) (`llvm-mingw-nightly-ucrt-ubuntu-22.04-x86_64.tar.xz`, sha256:`0d7520a59724ca5dfb41fb8dc870a349966f2e8b8732129b3d48bfc4a8590441`) successfully [builds](https://github.com/hebasto/bitcoin-core-nightly/actions/runs/18567774888) Bitcoin Core for both `x86_64` and `ARM64` architectures.\r\n\r\nBy the time we adopt the LLVM MinGW toolchain in this repository, its latest regular release will already include the fix.\r\n\r\nFrom this perspective, there is no longer a need to modify the code.",
          "created_at": "2025-10-17T19:49:08Z"
        },
        {
          "user": "l0rinc",
          "body": "Thanks @hebasto, if we need to support earlier versions of the LLVM MinGW toolchain we can resurrect this PR.",
          "created_at": "2025-10-18T16:45:48Z"
        },
        {
          "user": "hebasto",
          "body": "> Here are the recent updates from the upstream projects:\r\n> \r\n>    1. Clang has [merged](https://github.com/llvm/llvm-project/commit/10be254587da24d56e2c6817b382beaca612b6c3) the fix and [backported](https://github.com/llvm/llvm-project/commit/570c4c9443387b756ed3e4cb94ca708841f2472a) it to 21.x.\r\n\r\nAvailable in the recent release: https://github.com/llvm/llvm-project/releases/tag/llvmorg-21.1.4.",
          "created_at": "2025-10-21T12:15:21Z"
        }
      ]
    }
  ],
  "issues": [
    {
      "number": 33579,
      "title": ".",
      "body": ".",
      "state": "closed",
      "user": "rock9701",
      "created_at": "2025-10-08T20:08:59Z",
      "updated_at": "2025-10-10T12:28:24Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/33579",
      "labels": []
    },
    {
      "number": 33578,
      "title": "CanDirectFetch degrades HB compact block relay if blocks are rare",
      "body": "[`CanDirectFetch`](https://github.com/bitcoin/bitcoin/blob/b510893d00760083ac36948747aa6ebd84656192/src/net_processing.cpp#L1324) returns true when a node's local time is within 200 minutes of that node's tip time. When receiving a `CMPCTBLOCK` message from a peer, the node will [first check](https://github.com/bitcoin/bitcoin/blob/b510893d00760083ac36948747aa6ebd84656192/src/net_processing.cpp#L4428) if there is an in-flight block request for the block hash. If the block is not already requested, then the node calls `CanDirectFetch` to see if we're close to tip. If `CanDirectFetch` is false, then the node won't process the compact block. In the extreme case of no blocks being found on the network for 200 minutes (infinitesimally small), high-bandwidth compact block relay will be degraded. Also possible is if miners set nTime to the minimum that MTP would allow, but honest miners would be able to march MTP forward more.\n\n@instagibbs pointed out offline that instead of checking if the tip time is recent, the node could check whether the time in the header is recent. This change would allow a miner to send compact blocks to a node that is not synced and hasn't requested the block by setting the nTime artificially high, but they would need to produce a valid header with enough PoW while this node is likely also advancing their height at the same time (making this unlikely). This has the nice benefit of not degrading high-bandwidth compact block relay though.\n\nMotivated by https://github.com/bitcoin/bitcoin/issues/31962#issuecomment-3356659498 and https://github.com/bitcoin/bitcoin/issues/31962#issuecomment-3365361040.",
      "state": "open",
      "user": "Crypt-iQ",
      "created_at": "2025-10-08T19:30:24Z",
      "updated_at": "2025-10-09T08:04:42Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/33578",
      "labels": [
        "P2P"
      ]
    },
    {
      "number": 33576,
      "title": "29.x: using a local libmultiprocess install will no-longer work",
      "body": "Given that the `29.x` branch doesn't have the changes to accomodate upstream changes in libmultiprocess, anyone who builds and installs libmultiprocess, and then tries to build Core with `-DWITH_MULTIPROCESS=ON`, will get a compile failure:\n```bash\n[ 34%] Building CXX object src/ipc/CMakeFiles/bitcoin_ipc.dir/capnp/protocol.cpp.o\n/bitcoin/src/ipc/capnp/protocol.cpp: In destructor 'virtual ipc::capnp::{anonymous}::CapnpProtocol::~CapnpProtocol()':\n/bitcoin/src/ipc/capnp/protocol.cpp:45:62: error: no matching function for call to 'std::unique_lock<std::mutex>::unique_lock(mp::Mutex&)'\n   45 |             std::unique_lock<std::mutex> lock(m_loop->m_mutex);\n      |                                                              ^\nIn file included from /usr/include/c++/13/mutex:46,\n                 from /bitcoin/src/threadsafety.h:9,\n                 from /bitcoin/src/logging.h:10,\n                 from /bitcoin/src/interfaces/node.h:10,\n                 from /bitcoin/src/interfaces/init.h:11,\n                 from /bitcoin/src/ipc/capnp/protocol.cpp:5:\n/usr/include/c++/13/bits/unique_lock.h:68:16: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   68 |       explicit unique_lock(mutex_type& __m)\n      |                ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:68:40: note:   no known conversion for argument 1 from 'mp::Mutex' to 'std::unique_lock<std::mutex>::mutex_type&' {aka 'std::mutex&'}\n   68 |       explicit unique_lock(mutex_type& __m)\n      |                            ~~~~~~~~~~~~^~~\n/usr/include/c++/13/bits/unique_lock.h:97:9: note: candidate: 'template<class _Rep, class _Period> std::unique_lock<_Mutex>::unique_lock(mutex_type&, const std::chrono::duration<_Rep, _Period>&) [with _Period = _Rep; _Mutex = std::mutex]'\n   97 |         unique_lock(mutex_type& __m,\n      |         ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:97:9: note:   template argument deduction/substitution failed:\n/bitcoin/src/ipc/capnp/protocol.cpp:45:62: note:   candidate expects 2 arguments, 1 provided\n   45 |             std::unique_lock<std::mutex> lock(m_loop->m_mutex);\n      |                                                              ^\n/usr/include/c++/13/bits/unique_lock.h:90:9: note: candidate: 'template<class _Clock, class _Duration> std::unique_lock<_Mutex>::unique_lock(mutex_type&, const std::chrono::time_point<_Clock, _Duration>&) [with _Duration = _Clock; _Mutex = std::mutex]'\n   90 |         unique_lock(mutex_type& __m,\n      |         ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:90:9: note:   template argument deduction/substitution failed:\n/bitcoin/src/ipc/capnp/protocol.cpp:45:62: note:   candidate expects 2 arguments, 1 provided\n   45 |             std::unique_lock<std::mutex> lock(m_loop->m_mutex);\n      |                                                              ^\n/usr/include/c++/13/bits/unique_lock.h:112:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(std::unique_lock<_Mutex>&&) [with _Mutex = std::mutex]'\n  112 |       unique_lock(unique_lock&& __u) noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:112:33: note:   no known conversion for argument 1 from 'mp::Mutex' to 'std::unique_lock<std::mutex>&&'\n  112 |       unique_lock(unique_lock&& __u) noexcept\n      |                   ~~~~~~~~~~~~~~^~~\n/usr/include/c++/13/bits/unique_lock.h:83:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&, std::adopt_lock_t) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   83 |       unique_lock(mutex_type& __m, adopt_lock_t) noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:83:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/13/bits/unique_lock.h:79:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&, std::try_to_lock_t) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   79 |       unique_lock(mutex_type& __m, try_to_lock_t)\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:79:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/13/bits/unique_lock.h:75:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&, std::defer_lock_t) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   75 |       unique_lock(mutex_type& __m, defer_lock_t) noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:75:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/13/bits/unique_lock.h:64:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock() [with _Mutex = std::mutex]'\n   64 |       unique_lock() noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:64:7: note:   candidate expects 0 arguments, 1 provided\n/bitcoin/src/ipc/capnp/protocol.cpp:46:21: error: 'class mp::EventLoop' has no member named 'removeClient'\n   46 |             m_loop->removeClient(lock);\n      |                     ^~~~~~~~~~~~\n/bitcoin/src/ipc/capnp/protocol.cpp: In lambda function:\n/bitcoin/src/ipc/capnp/protocol.cpp:87:66: error: no matching function for call to 'std::unique_lock<std::mutex>::unique_lock(mp::Mutex&)'\n   87 |                 std::unique_lock<std::mutex> lock(m_loop->m_mutex);\n      |                                                                  ^\n/usr/include/c++/13/bits/unique_lock.h:68:16: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   68 |       explicit unique_lock(mutex_type& __m)\n      |                ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:68:40: note:   no known conversion for argument 1 from 'mp::Mutex' to 'std::unique_lock<std::mutex>::mutex_type&' {aka 'std::mutex&'}\n   68 |       explicit unique_lock(mutex_type& __m)\n      |                            ~~~~~~~~~~~~^~~\n/usr/include/c++/13/bits/unique_lock.h:97:9: note: candidate: 'template<class _Rep, class _Period> std::unique_lock<_Mutex>::unique_lock(mutex_type&, const std::chrono::duration<_Rep, _Period>&) [with _Period = _Rep; _Mutex = std::mutex]'\n   97 |         unique_lock(mutex_type& __m,\n      |         ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:97:9: note:   template argument deduction/substitution failed:\n/bitcoin/src/ipc/capnp/protocol.cpp:87:66: note:   candidate expects 2 arguments, 1 provided\n   87 |                 std::unique_lock<std::mutex> lock(m_loop->m_mutex);\n      |                                                                  ^\n/usr/include/c++/13/bits/unique_lock.h:90:9: note: candidate: 'template<class _Clock, class _Duration> std::unique_lock<_Mutex>::unique_lock(mutex_type&, const std::chrono::time_point<_Clock, _Duration>&) [with _Duration = _Clock; _Mutex = std::mutex]'\n   90 |         unique_lock(mutex_type& __m,\n      |         ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:90:9: note:   template argument deduction/substitution failed:\n/bitcoin/src/ipc/capnp/protocol.cpp:87:66: note:   candidate expects 2 arguments, 1 provided\n   87 |                 std::unique_lock<std::mutex> lock(m_loop->m_mutex);\n      |                                                                  ^\n/usr/include/c++/13/bits/unique_lock.h:112:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(std::unique_lock<_Mutex>&&) [with _Mutex = std::mutex]'\n  112 |       unique_lock(unique_lock&& __u) noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:112:33: note:   no known conversion for argument 1 from 'mp::Mutex' to 'std::unique_lock<std::mutex>&&'\n  112 |       unique_lock(unique_lock&& __u) noexcept\n      |                   ~~~~~~~~~~~~~~^~~\n/usr/include/c++/13/bits/unique_lock.h:83:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&, std::adopt_lock_t) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   83 |       unique_lock(mutex_type& __m, adopt_lock_t) noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:83:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/13/bits/unique_lock.h:79:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&, std::try_to_lock_t) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   79 |       unique_lock(mutex_type& __m, try_to_lock_t)\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:79:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/13/bits/unique_lock.h:75:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock(mutex_type&, std::defer_lock_t) [with _Mutex = std::mutex; mutex_type = std::mutex]'\n   75 |       unique_lock(mutex_type& __m, defer_lock_t) noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:75:7: note:   candidate expects 2 arguments, 1 provided\n/usr/include/c++/13/bits/unique_lock.h:64:7: note: candidate: 'std::unique_lock<_Mutex>::unique_lock() [with _Mutex = std::mutex]'\n   64 |       unique_lock() noexcept\n      |       ^~~~~~~~~~~\n/usr/include/c++/13/bits/unique_lock.h:64:7: note:   candidate expects 0 arguments, 1 provided\n/bitcoin/src/ipc/capnp/protocol.cpp:88:25: error: 'class mp::EventLoop' has no member named 'addClient'\n   88 |                 m_loop->addClient(lock);\n      |                         ^~~~~~~~~\ngmake[2]: *** [src/ipc/CMakeFiles/bitcoin_ipc.dir/build.make:178: src/ipc/CMakeFiles/bitcoin_ipc.dir/capnp/protocol.cpp.o] Error 1\ngmake[1]: *** [CMakeFiles/Makefile2:1208: src/ipc/CMakeFiles/bitcoin_ipc.dir/all] Error 2\ngmake: *** [Makefile:146: all] Error 2\n```\n\nUnless we backport a number of ipc related changes to this branch (unlikely), this will be broken for the rest of this branches life. This seems like something we might want to document.",
      "state": "open",
      "user": "fanquake",
      "created_at": "2025-10-08T16:21:43Z",
      "updated_at": "2025-10-09T11:07:25Z",
      "comments": 4,
      "url": "https://github.com/bitcoin/bitcoin/issues/33576",
      "labels": [
        "Docs",
        "Build system",
        "interfaces"
      ],
      "comment_list": [
        {
          "user": "fanquake",
          "body": "cc @Sjors @ryanofsky ",
          "created_at": "2025-10-08T16:21:52Z"
        },
        {
          "user": "Sjors",
          "body": "Maybe we should tag the last `libmultiprocess` commit that is expected to work with 29.x and recommend that in either the libmultiprocess README or backported documentation here?",
          "created_at": "2025-10-08T16:55:26Z"
        },
        {
          "user": "ryanofsky",
          "body": "> Unless we backport a number of ipc related changes to this branch (unlikely), this will be broken for the rest of this branches lief. This seems like something we might want to document.\n\nThis does seem like something good to document. Maybe the 29.x [dependencies.md](https://github.com/bitcoin/bitcoin/blob/29.x/doc/dependencies.md) file could document the version of multiprocess known to work with v29, consistent with the version used in depends https://github.com/bitcoin/bitcoin/blob/8bcb90d7e3cd80db3d24e29ed8c72a55fcba90bc/depends/packages/native_libmultiprocess.mk#L2.\n\nCould also create branches and tags in the libmultiprocess repo to provide clearer versioning. Maybe `v0` for the branch that works with bitcoin 29, `v1` for the branch that works with bitcoin 30.0, etc. Libmultiprocess versions and bitcoin major versions would not necessarily increase in lockstep since libmultiprocess API should be be pretty stable and not need to increase with every new bitcoin release, and conversely there could also be libmultiprocess API changes that are not backwards compatible made between bitcoin minor versions.\n",
          "created_at": "2025-10-08T16:55:35Z"
        },
        {
          "user": "maflcko",
          "body": "> This does seem like something good to document. Maybe the 29.x [dependencies.md](https://github.com/bitcoin/bitcoin/blob/29.x/doc/dependencies.md) file could document the version of multiprocess known to work with v29, consistent with the version used in depends\n\nYeah, makes sense to document this. (Looks like it isn't documented at all right now). Just documenting the exact commit should be good enough and I think tagging isn't needed, but no strong opinion.",
          "created_at": "2025-10-09T11:07:17Z"
        }
      ]
    },
    {
      "number": 33575,
      "title": "RFC: Cancelling waitNext calls in the IPC mining interface",
      "body": "It seems that the IPC mining interface needs to provide some way to cancel [`BlockTemplate::waitNext`](https://github.com/bitcoin/bitcoin/blob/b510893d00760083ac36948747aa6ebd84656192/src/interfaces/mining.h#L63-L74) calls. This should not be hard to implement, but there are a few approaches that could be taken and it would be useful to know which would work best for callers. Context:\n\n---\n\n _Originally posted by @plebhash in [#33554](https://github.com/bitcoin/bitcoin/issues/33554#issuecomment-3381673850)_:\n\n> the thing is, I still need to cater for incoming Sv2 `CoinbaseOutputConstraints` messages, and whenever that arrives, I need to make sure the `BlockTemplate` (or `TemplateIpcClient` as I'm aliasing on the rust code) that's used to kickstart the next `waitNext` loops has the correct `block_reserved_weight` and `max_additional_sigops` as defined on the Sv2 message.\n\n---\n\nDifferent ways I could think of doing this:\n\n1. Have `BlockTemplate` destructor cancel the `waitNext` call and have it return null right away.\n2. Add a new `BlockTemplate::interruptWait()` to be able to interrupt `waitNext()` without destroying the template.\n3. Make `Mining::createNewBlock()` cancel any pending `waitNext()` calls.\n4. Use Cap'n Proto's cancellation mechanism. Rust code could just drop the waitNext() promise. C++ `waitNext()` method could have a new `interfaces::Cancel` argument that would let it ask if the request was cancelled and/or register a cancellation callback.\n\nIf main use-cases for cancelling waitNext methods are when needing to specify changed `BlockCreateOptions`, and when shutting down, approach (1) could be sufficient, because in both of these cases the client will be discarding the `BlockTemplate` anyway.\n\nBut maybe a new `BlockTemplate::interruptWait()` method (2) could be useful for other reasons and we should add that method too?\n\nApproach (3) making other IPC calls implicitly cancel pending waitNext() calls, seems like it could make mining interface more annoying to use, so I think it is probably not a good idea, but wanted to mention it as an alternative.\n\nApproach (4) could be interesting, and would be the most general approach but would be more work than other approaches to implement. (The implementation would need to modify the `mp.Context` [`PassField`](https://github.com/bitcoin-core/libmultiprocess/blob/a4f92969649018ca70f949a09148bccfeaecd99a/include/mp/type-context.h#L57) implementation to call `Promise::attach` on the promise it returns to be notified when the promise is discarded, as described https://capnproto.org/cxxrpc.html#cancellation and https://github.com/capnproto/capnproto/blob/v2/kjdoc/tour.md#cancellation)",
      "state": "closed",
      "user": "ryanofsky",
      "created_at": "2025-10-08T16:20:21Z",
      "updated_at": "2025-11-11T22:12:44Z",
      "comments": 12,
      "url": "https://github.com/bitcoin/bitcoin/issues/33575",
      "labels": [],
      "comment_list": [
        {
          "user": "plebhash",
          "body": "number 1 would be a bit prohibitive on the Sv2 implementations we're working on\n\nwe need to stop `waitNext` every time the coinbase output constratints change, but that doesn't mean that a solution associatated with past constraints couldn't still arrive\n\nso we still need to keep a reference to every \"live\" `BlockTemplate` in memory, at least until a chain tip update\n\nif we're forced to call `destroy` just to stop `waitNext`, that would lose context and forbid us from submitting this potentially valid solution",
          "created_at": "2025-10-08T16:36:08Z"
        },
        {
          "user": "ryanofsky",
          "body": "> if we're forced to call `destroy` just to stop `waitNext`, that would lose context and forbid us from submitting this potentially valid solution\n\nMakes sense. So it sounds like you would want a `BlockTemplate::interruptWait()` method?\n",
          "created_at": "2025-10-08T16:57:45Z"
        },
        {
          "user": "plebhash",
          "body": "tbh option 3 feels like the lowest hanging fruit on our side, because it would require basically no changes from the current implementation (aside from the instantiation of new server threads, which is only a temporary workaround for the issues we're trying to mitigate here).\n\nbasically the arrival of `CoinbaseOutputConstraints` triggers the following:\n- breaking the loop that monitors for `waitNext` responses\n- instantiating a `BlockTemplate` via `Mining::createNewBlock()` under new coinbase constraints\n- instantiating a new dedicated server thread (which as stated above, is only a temporary workaround)\n- spawning a new loop to monitor for `waitNext` responses\n\nfor option 2, I'd have to add some extra steps before breaking the loop, and perhaps some synchronization logic to make sure we do `Mining::createNewBlock()` and spawn the new loop only after `BlockTemplate::interruptWait()` has finished\n\nwith option 3, the flow is pretty much the same to what we already have, and whenever the new `waitNext` loop is spawned, the dedicated thread is already going to be free\n\n---\n\nbut I do notice that `Mining::createNewBlock()` doesn't take `:Proxy.Context` as a parameter, wouldn't that be needed in order to implement option 3?\n\n(this is a very naive quesiton, perhaps it makes no sense at all)",
          "created_at": "2025-10-08T19:51:33Z"
        },
        {
          "user": "plebhash",
          "body": "oh sorry, just saw the remark saying that option 3 could have undesired consequences, I overlooked that on my first reading!\n\nso yeah option 3 is not necessarily my go-to\n\noption 2 would slightly increase complexity on rust side, but it seems perfectly doable\n\nand also after contemplating option 4, it also seems like a low hanging fruit on our side (even though it seems more complex to implement on C++ side)\n\nthat's because we already drop the `waitNext` promise once a `CoinbaseOutputConstraints` arrive... so if that led to the server also cancelling execution and freeing up the thread for new calls, that'd make everything smooth",
          "created_at": "2025-10-08T20:38:27Z"
        },
        {
          "user": "ryanofsky",
          "body": "Good catch: [createNewBlock](https://github.com/bitcoin/bitcoin/blob/b510893d00760083ac36948747aa6ebd84656192/src/ipc/capnp/mining.capnp#L20C5-L20C19) (and checkBlock below it) really should take an `mp.Context` parameter. Without it, it's impossible to specify a worker thread for the calls to run on, so the calls wiill block the event loop thread while they execute, potentially affecting other calls and clients. This looks like another thing that should be fixed. But fixing it is more-or-less independent from implementing option 3. The `createNewBlock` implementation could be changed to cancel prior `waitNext` calls without needing to add a `context` parameter.\n\nI was a little surprised that from your perspective there might be significant difference between options 2 and 3. But maybe from your second comment the difference is not too significant. Option 2 should just require an extra `block.interruptWait()` call before the `mining.createNewBlock()` call. I should probably try to understand the rust client code and your description above a little better though. I'd think if the rust code is asynchronous, there should only be a single loop, and no need to break and spawn a new loop to handle waitNext responses. I would expect something like following very rough pseudocode:\n\n```python\nblock = None\nnext_block = mining.createNewBlock(create_options)\nsv2_msg = sv2_recv()\nwhile True:\n    done = await wait([next_block, sv2_msg])\n\n    if next_block in done:\n        block = (await next_block).result\n        sv2_send(block)\n        next_block = block.waitNext(threadmap.makeThread().result)\n\n    if sv2_msg in done:\n        msg = await sv2_msg\n        sv2_msg = sv2_recv()\n\n        if msg.type == \"coinbase_constraints\":\n            create_options.sigops = msg.sigops\n            if block: block.interruptWait()\n            next_block = mining.createNewBlock(create_options)\n        elif msg.type == \"found_solution\":\n             mining.submitSolution(...)\n```\n\nHopefully this is not too far off base.\n\nI guess next steps here would be to implement options 1 and 2. It's good to know option 4 has some appeal too, because that could be a followup, but it's would be relatively complicated to implement on the server side at the moment.",
          "created_at": "2025-10-08T21:24:09Z"
        },
        {
          "user": "plebhash",
          "body": "the [current implementation](https://github.com/plebhash/sv2-bitcoin-core/tree/2025-10-07-abort-proxy-io) has two concurrent loops:\n- one that [monitors for incoming Sv2 messages](https://github.com/plebhash/sv2-bitcoin-core/blob/054cd88deba028319220e7d852145e8958700623/src/lib.rs#L513)\n- one that [monitors `waitNext`](https://github.com/plebhash/sv2-bitcoin-core/blob/054cd88deba028319220e7d852145e8958700623/src/lib.rs#L282) (which is killed and restarted upon arrival of `CoinbaseOutputConstraints`)\n\nI guess in theory they could be unified into a single loop, however `interruptWait` would have to be called whenever **some** incoming Sv2 message arrived, not only if that was a `CoinbaseOutputConstraints`.\n\nthat's because under a single unified loop, the futures for incoming messages now would be \"competing\" with the `waitNext` promises, so we would drop the promise for `waitNext` whenever the Sv2 message arrived (for more details, see [`tokio::select!`](https://tokio.rs/tokio/tutorial/select)) \n\nso basically, every iteration of the loop would need to instantiate a brand new `waitNext` request (regardless of whether it's under different coinbase constraints or not)... and since it cannot conflict with the previous one, we'd have to always call `interruptWait` before the loop restarts\n\nit would require some refactoring, but at least in theory, under my current mental model, should be doable!",
          "created_at": "2025-10-09T15:54:24Z"
        },
        {
          "user": "plebhash",
          "body": "although I wonder about potentially undesirable round-trips that could be avoided by having separate loops?\n\nfor example, every time there's a new template, we send a `NewTemplate` message\n\nand for most Sv2 implementations that are on the receiving and of this message, we expect to get a Sv2 `RequestTransactionData` message right afterwards\n\nso every time there's a new template, we're essentially creating one \"useless\" `waitNext` request that's bound to be discarded right afterwards (with the extra round-trip of `interruptWait`)\n\n---\n\nby having two separate loops, we leave those concerns independent from eachother (with the penalty of having to coordinate the `interruptWait` with the re-spawns, on the relatively rare occasions in which it's actually needed)",
          "created_at": "2025-10-09T16:03:34Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33575#issuecomment-3386438916\n\n> I guess in theory they could be unified into a single loop, however `interruptWait` would have to be called whenever **some** incoming Sv2 message arrived, not only if that was a `CoinbaseOutputConstraints`.\n\nThis is surprising to me, but it sounds like this justifies using two loops to avoid pointless `interruptWait` and `waitNext` churn.\n\nIn python pseudocode above, waitNext promise is stored in the `next_block` variable and isn't updated until the the promise resolves or there is a CoinbaseOutputConstraints message. But I could imagine rust code not letting the promise lifetime be managed as flexibly. Also I could image there being benefits to having two loops like maybe making it easier to write code that doesn't await unnecessarily. I'm sure using two loops make sense, it's just not what I might have expected naively.",
          "created_at": "2025-10-09T16:51:35Z"
        },
        {
          "user": "plebhash",
          "body": "hmm thinking about it deeper, I guess I could simply save the `waitNext` future into a `mut` variable so it's still available across the unified loop iterations, and then replace it whenever it either returns or is cancelled (via `interruptWait`) due to `CoinbaseOutputConstraints`\n\nso I wouldn't say your original gut feeling is totally wrong!\n\nalthough I still appreciate the benefits of separating concerns into different loops... I guess I'll experiment with both approaches whenever `interruptWait` becomes available and see which one leads to the best overall result vs tradeoffs\n\nbut bottom line is that options 2, 3 and 4 are all perfectly viable solutions for our needs!",
          "created_at": "2025-10-09T19:49:46Z"
        },
        {
          "user": "ryanofsky",
          "body": "re: https://github.com/bitcoin/bitcoin/issues/33575#issue-3496102450\n  \n> 2. Add a new `BlockTemplate::interruptWait()` to be able to interrupt `waitNext()` without destroying the template.\n\nThis is implemented in #33676 and could use some testing, but hopefully will help resolve this issue and #33554.",
          "created_at": "2025-10-28T19:20:50Z"
        },
        {
          "user": "plebhash",
          "body": "I'll give it a try soon",
          "created_at": "2025-10-28T19:41:56Z"
        },
        {
          "user": "plebhash",
          "body": "hey @ryanofsky sorry for the delay\n\nI compiled Bitcoin Core with the branch from https://github.com/bitcoin/bitcoin/pull/33676\n\nthen I removed the workarounds, saving the code here: https://github.com/plebhash/sv2-bitcoin-core/tree/2025-11-11-try-interrupt-await\n\nI did some testing and everything seems to be working as expected... especially the usage of the new `interruptWait` interface, introduced by https://github.com/bitcoin/bitcoin/pull/33676",
          "created_at": "2025-11-11T22:12:44Z"
        }
      ]
    },
    {
      "number": 33572,
      "title": ".",
      "body": "",
      "state": "closed",
      "user": "MRHUNG369",
      "created_at": "2025-10-08T11:18:30Z",
      "updated_at": "2025-10-08T11:19:45Z",
      "comments": 0,
      "url": "https://github.com/bitcoin/bitcoin/issues/33572",
      "labels": []
    },
    {
      "number": 33571,
      "title": "build: Qt deprecated-declarations warnings",
      "body": "Building master (b510893d00760083ac36948747aa6ebd84656192) against Qt 6.10.0:\n```bash\n/root/bitcoin/src/qt/transactionfilterproxy.cpp: In member function â€˜void TransactionFilterProxy::setDateRange(const std::optional<QDateTime>&, const std::optional<QDateTime>&)â€™:\n/root/bitcoin/src/qt/transactionfilterproxy.cpp:57:21: warning: â€˜void QSortFilterProxyModel::invalidateFilter()â€™ is deprecated: Use begin/endFilterChange() instead [-Wdeprecated-declarations]\n   57 |     invalidateFilter();\n      |     ~~~~~~~~~~~~~~~~^~\nIn file included from /usr/include/qt6/QtCore/QSortFilterProxyModel:1,\n                 from /root/bitcoin/src/qt/transactionfilterproxy.h:11,\n                 from /root/bitcoin/src/qt/transactionfilterproxy.cpp:5:\n/usr/include/qt6/QtCore/qsortfilterproxymodel.h:128:10: note: declared here\n  128 |     void invalidateFilter();\n      |          ^~~~~~~~~~~~~~~~\n/root/bitcoin/src/qt/transactionfilterproxy.cpp: In member function â€˜void TransactionFilterProxy::setSearchString(const QString&)â€™:\n/root/bitcoin/src/qt/transactionfilterproxy.cpp:64:21: warning: â€˜void QSortFilterProxyModel::invalidateFilter()â€™ is deprecated: Use begin/endFilterChange() instead [-Wdeprecated-declarations]\n   64 |     invalidateFilter();\n      |     ~~~~~~~~~~~~~~~~^~\n/usr/include/qt6/QtCore/qsortfilterproxymodel.h:128:10: note: declared here\n  128 |     void invalidateFilter();\n      |          ^~~~~~~~~~~~~~~~\n/root/bitcoin/src/qt/transactionfilterproxy.cpp: In member function â€˜void TransactionFilterProxy::setTypeFilter(quint32)â€™:\n/root/bitcoin/src/qt/transactionfilterproxy.cpp:70:21: warning: â€˜void QSortFilterProxyModel::invalidateFilter()â€™ is deprecated: Use begin/endFilterChange() instead [-Wdeprecated-declarations]\n   70 |     invalidateFilter();\n      |     ~~~~~~~~~~~~~~~~^~\n/usr/include/qt6/QtCore/qsortfilterproxymodel.h:128:10: note: declared here\n  128 |     void invalidateFilter();\n      |          ^~~~~~~~~~~~~~~~\n/root/bitcoin/src/qt/transactionfilterproxy.cpp: In member function â€˜void TransactionFilterProxy::setMinAmount(const CAmount&)â€™:\n/root/bitcoin/src/qt/transactionfilterproxy.cpp:76:21: warning: â€˜void QSortFilterProxyModel::invalidateFilter()â€™ is deprecated: Use begin/endFilterChange() instead [-Wdeprecated-declarations]\n   76 |     invalidateFilter();\n      |     ~~~~~~~~~~~~~~~~^~\n/usr/include/qt6/QtCore/qsortfilterproxymodel.h:128:10: note: declared here\n  128 |     void invalidateFilter();\n      |          ^~~~~~~~~~~~~~~~\n/root/bitcoin/src/qt/transactionfilterproxy.cpp: In member function â€˜void TransactionFilterProxy::setShowInactive(bool)â€™:\n/root/bitcoin/src/qt/transactionfilterproxy.cpp:82:21: warning: â€˜void QSortFilterProxyModel::invalidateFilter()â€™ is deprecated: Use begin/endFilterChange() instead [-Wdeprecated-declarations]\n   82 |     invalidateFilter();\n      |     ~~~~~~~~~~~~~~~~^~\n/usr/include/qt6/QtCore/qsortfilterproxymodel.h:128:10: note: declared here\n  128 |     void invalidateFilter();\n      |          ^~~~~~~~~~~~~~~~\n```\nNeed to clean these up as they'll start causing CI failures as soon as any CI is using 6.10.0 (probably native macos as soon as brew ships the 6.10.0 update).",
      "state": "closed",
      "user": "fanquake",
      "created_at": "2025-10-08T09:13:35Z",
      "updated_at": "2025-11-04T20:29:54Z",
      "comments": 3,
      "url": "https://github.com/bitcoin/bitcoin/issues/33571",
      "labels": [
        "GUI",
        "Build system"
      ],
      "comment_list": [
        {
          "user": "hebasto",
          "body": "Out of curiosity, which distro or package manager ships Qt 6.10?",
          "created_at": "2025-10-08T15:37:48Z"
        },
        {
          "user": "fanquake",
          "body": "Probably any rolling distro? `brew` will be once https://github.com/Homebrew/homebrew-core/pull/247354 is merged.",
          "created_at": "2025-10-08T15:50:32Z"
        },
        {
          "user": "hebasto",
          "body": "Fixed in https://github.com/bitcoin-core/gui/pull/899.",
          "created_at": "2025-10-08T16:50:57Z"
        }
      ]
    }
  ],
  "summary": {
    "pull_requests": 7,
    "issues": 6
  }
}